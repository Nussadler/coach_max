(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function xy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zh={exports:{}},ka={},Yh={exports:{}},Ae={};var Fm;function hw(){if(Fm)return Ae;Fm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,H={};function q(D,$,Y){this.props=D,this.context=$,this.refs=H,this.updater=Y||B}q.prototype.isReactComponent={},q.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ce(){}ce.prototype=q.prototype;function ye(D,$,Y){this.props=D,this.context=$,this.refs=H,this.updater=Y||B}var ve=ye.prototype=new ce;ve.constructor=ye,X(ve,q.prototype),ve.isPureReactComponent=!0;var Ce=Array.isArray,Ge=Object.prototype.hasOwnProperty,Re={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(D,$,Y){var te,ke={},Se=null,Oe=null;if($!=null)for(te in $.ref!==void 0&&(Oe=$.ref),$.key!==void 0&&(Se=""+$.key),$)Ge.call($,te)&&!C.hasOwnProperty(te)&&(ke[te]=$[te]);var we=arguments.length-2;if(we===1)ke.children=Y;else if(1<we){for(var je=Array(we),Dt=0;Dt<we;Dt++)je[Dt]=arguments[Dt+2];ke.children=je}if(D&&D.defaultProps)for(te in we=D.defaultProps,we)ke[te]===void 0&&(ke[te]=we[te]);return{$$typeof:r,type:D,key:Se,ref:Oe,props:ke,_owner:Re.current}}function k(D,$){return{$$typeof:r,type:D.type,key:$,ref:D.ref,props:D.props,_owner:D._owner}}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function P(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Y){return $[Y]})}var b=/\/+/g;function S(D,$){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):$.toString(36)}function Ve(D,$,Y,te,ke){var Se=typeof D;(Se==="undefined"||Se==="boolean")&&(D=null);var Oe=!1;if(D===null)Oe=!0;else switch(Se){case"string":case"number":Oe=!0;break;case"object":switch(D.$$typeof){case r:case e:Oe=!0}}if(Oe)return Oe=D,ke=ke(Oe),D=te===""?"."+S(Oe,0):te,Ce(ke)?(Y="",D!=null&&(Y=D.replace(b,"$&/")+"/"),Ve(ke,$,Y,"",function(Dt){return Dt})):ke!=null&&(V(ke)&&(ke=k(ke,Y+(!ke.key||Oe&&Oe.key===ke.key?"":(""+ke.key).replace(b,"$&/")+"/")+D)),$.push(ke)),1;if(Oe=0,te=te===""?".":te+":",Ce(D))for(var we=0;we<D.length;we++){Se=D[we];var je=te+S(Se,we);Oe+=Ve(Se,$,Y,je,ke)}else if(je=x(D),typeof je=="function")for(D=je.call(D),we=0;!(Se=D.next()).done;)Se=Se.value,je=te+S(Se,we++),Oe+=Ve(Se,$,Y,je,ke);else if(Se==="object")throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Oe}function lt(D,$,Y){if(D==null)return D;var te=[],ke=0;return Ve(D,te,"","",function(Se){return $.call(Y,Se,ke++)}),te}function _t(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(Y){(D._status===0||D._status===-1)&&(D._status=1,D._result=Y)},function(Y){(D._status===0||D._status===-1)&&(D._status=2,D._result=Y)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var He={current:null},ee={transition:null},he={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Re};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:lt,forEach:function(D,$,Y){lt(D,function(){$.apply(this,arguments)},Y)},count:function(D){var $=0;return lt(D,function(){$++}),$},toArray:function(D){return lt(D,function($){return $})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ae.Component=q,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=ye,Ae.StrictMode=s,Ae.Suspense=y,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ae.act=re,Ae.cloneElement=function(D,$,Y){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var te=X({},D.props),ke=D.key,Se=D.ref,Oe=D._owner;if($!=null){if($.ref!==void 0&&(Se=$.ref,Oe=Re.current),$.key!==void 0&&(ke=""+$.key),D.type&&D.type.defaultProps)var we=D.type.defaultProps;for(je in $)Ge.call($,je)&&!C.hasOwnProperty(je)&&(te[je]=$[je]===void 0&&we!==void 0?we[je]:$[je])}var je=arguments.length-2;if(je===1)te.children=Y;else if(1<je){we=Array(je);for(var Dt=0;Dt<je;Dt++)we[Dt]=arguments[Dt+2];te.children=we}return{$$typeof:r,type:D.type,key:ke,ref:Se,props:te,_owner:Oe}},Ae.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:u,_context:D},D.Consumer=D},Ae.createElement=I,Ae.createFactory=function(D){var $=I.bind(null,D);return $.type=D,$},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:m,render:D}},Ae.isValidElement=V,Ae.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:_t}},Ae.memo=function(D,$){return{$$typeof:v,type:D,compare:$===void 0?null:$}},Ae.startTransition=function(D){var $=ee.transition;ee.transition={};try{D()}finally{ee.transition=$}},Ae.unstable_act=re,Ae.useCallback=function(D,$){return He.current.useCallback(D,$)},Ae.useContext=function(D){return He.current.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D){return He.current.useDeferredValue(D)},Ae.useEffect=function(D,$){return He.current.useEffect(D,$)},Ae.useId=function(){return He.current.useId()},Ae.useImperativeHandle=function(D,$,Y){return He.current.useImperativeHandle(D,$,Y)},Ae.useInsertionEffect=function(D,$){return He.current.useInsertionEffect(D,$)},Ae.useLayoutEffect=function(D,$){return He.current.useLayoutEffect(D,$)},Ae.useMemo=function(D,$){return He.current.useMemo(D,$)},Ae.useReducer=function(D,$,Y){return He.current.useReducer(D,$,Y)},Ae.useRef=function(D){return He.current.useRef(D)},Ae.useState=function(D){return He.current.useState(D)},Ae.useSyncExternalStore=function(D,$,Y){return He.current.useSyncExternalStore(D,$,Y)},Ae.useTransition=function(){return He.current.useTransition()},Ae.version="18.3.1",Ae}var Um;function Ud(){return Um||(Um=1,Yh.exports=hw()),Yh.exports}var jm;function dw(){if(jm)return ka;jm=1;var r=Ud(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,v){var E,R={},x=null,B=null;v!==void 0&&(x=""+v),y.key!==void 0&&(x=""+y.key),y.ref!==void 0&&(B=y.ref);for(E in y)s.call(y,E)&&!u.hasOwnProperty(E)&&(R[E]=y[E]);if(m&&m.defaultProps)for(E in y=m.defaultProps,y)R[E]===void 0&&(R[E]=y[E]);return{$$typeof:e,type:m,key:x,ref:B,props:R,_owner:o.current}}return ka.Fragment=t,ka.jsx=h,ka.jsxs=h,ka}var Bm;function fw(){return Bm||(Bm=1,Zh.exports=dw()),Zh.exports}var O=fw(),We=Ud();const fi=xy(We);var wu={},Jh={exports:{}},Qt={},Xh={exports:{}},ed={};var zm;function pw(){return zm||(zm=1,(function(r){function e(ee,he){var re=ee.length;ee.push(he);e:for(;0<re;){var D=re-1>>>1,$=ee[D];if(0<o($,he))ee[D]=he,ee[re]=$,re=D;else break e}}function t(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var he=ee[0],re=ee.pop();if(re!==he){ee[0]=re;e:for(var D=0,$=ee.length,Y=$>>>1;D<Y;){var te=2*(D+1)-1,ke=ee[te],Se=te+1,Oe=ee[Se];if(0>o(ke,re))Se<$&&0>o(Oe,ke)?(ee[D]=Oe,ee[Se]=re,D=Se):(ee[D]=ke,ee[te]=re,D=te);else if(Se<$&&0>o(Oe,re))ee[D]=Oe,ee[Se]=re,D=Se;else break e}}return he}function o(ee,he){var re=ee.sortIndex-he.sortIndex;return re!==0?re:ee.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var y=[],v=[],E=1,R=null,x=3,B=!1,X=!1,H=!1,q=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(ee){for(var he=t(v);he!==null;){if(he.callback===null)s(v);else if(he.startTime<=ee)s(v),he.sortIndex=he.expirationTime,e(y,he);else break;he=t(v)}}function Ce(ee){if(H=!1,ve(ee),!X)if(t(y)!==null)X=!0,_t(Ge);else{var he=t(v);he!==null&&He(Ce,he.startTime-ee)}}function Ge(ee,he){X=!1,H&&(H=!1,ce(I),I=-1),B=!0;var re=x;try{for(ve(he),R=t(y);R!==null&&(!(R.expirationTime>he)||ee&&!P());){var D=R.callback;if(typeof D=="function"){R.callback=null,x=R.priorityLevel;var $=D(R.expirationTime<=he);he=r.unstable_now(),typeof $=="function"?R.callback=$:R===t(y)&&s(y),ve(he)}else s(y);R=t(y)}if(R!==null)var Y=!0;else{var te=t(v);te!==null&&He(Ce,te.startTime-he),Y=!1}return Y}finally{R=null,x=re,B=!1}}var Re=!1,C=null,I=-1,k=5,V=-1;function P(){return!(r.unstable_now()-V<k)}function b(){if(C!==null){var ee=r.unstable_now();V=ee;var he=!0;try{he=C(!0,ee)}finally{he?S():(Re=!1,C=null)}}else Re=!1}var S;if(typeof ye=="function")S=function(){ye(b)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,lt=Ve.port2;Ve.port1.onmessage=b,S=function(){lt.postMessage(null)}}else S=function(){q(b,0)};function _t(ee){C=ee,Re||(Re=!0,S())}function He(ee,he){I=q(function(){ee(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_continueExecution=function(){X||B||(X=!0,_t(Ge))},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return t(y)},r.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var he=3;break;default:he=x}var re=x;x=he;try{return ee()}finally{x=re}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=x;x=ee;try{return he()}finally{x=re}},r.unstable_scheduleCallback=function(ee,he,re){var D=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?D+re:D):re=D,ee){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,ee={id:E++,callback:he,priorityLevel:ee,startTime:re,expirationTime:$,sortIndex:-1},re>D?(ee.sortIndex=re,e(v,ee),t(y)===null&&ee===t(v)&&(H?(ce(I),I=-1):H=!0,He(Ce,re-D))):(ee.sortIndex=$,e(y,ee),X||B||(X=!0,_t(Ge))),ee},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(ee){var he=x;return function(){var re=x;x=he;try{return ee.apply(this,arguments)}finally{x=re}}}})(ed)),ed}var Wm;function mw(){return Wm||(Wm=1,Xh.exports=pw()),Xh.exports}var Hm;function gw(){if(Hm)return Qt;Hm=1;var r=Ud(),e=mw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},R={};function x(n){return y.call(R,n)?!0:y.call(E,n)?!1:v.test(n)?R[n]=!0:(E[n]=!0,!1)}function B(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function X(n,i,a,c){if(i===null||typeof i>"u"||B(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function H(n,i,a,c,d,f,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=f,this.removeEmptyString=_}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){q[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];q[i]=new H(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){q[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){q[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){q[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){q[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){q[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){q[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){q[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var ce=/[\-:]([a-z])/g;function ye(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(ce,ye);q[i]=new H(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(ce,ye);q[i]=new H(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(ce,ye);q[i]=new H(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){q[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),q.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){q[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function ve(n,i,a,c){var d=q.hasOwnProperty(i)?q[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(X(i,a,d,c)&&(a=null),c||d===null?x(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var Ce=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ge=Symbol.for("react.element"),Re=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),P=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),ee=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var re=Object.assign,D;function $(n){if(D===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||""}return`
`+D+n}var Y=!1;function te(n,i){if(!n||Y)return"";Y=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var c=U}Reflect.construct(n,[],i)}else{try{i.call()}catch(U){c=U}n.call(i.prototype)}else{try{throw Error()}catch(U){c=U}n()}}catch(U){if(U&&c&&typeof U.stack=="string"){for(var d=U.stack.split(`
`),f=c.stack.split(`
`),_=d.length-1,T=f.length-1;1<=_&&0<=T&&d[_]!==f[T];)T--;for(;1<=_&&0<=T;_--,T--)if(d[_]!==f[T]){if(_!==1||T!==1)do if(_--,T--,0>T||d[_]!==f[T]){var A=`
`+d[_].replace(" at new "," at ");return n.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",n.displayName)),A}while(1<=_&&0<=T);break}}}finally{Y=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?$(n):""}function ke(n){switch(n.tag){case 5:return $(n.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return n=te(n.type,!1),n;case 11:return n=te(n.type.render,!1),n;case 1:return n=te(n.type,!0),n;default:return""}}function Se(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case Re:return"Portal";case k:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ve:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P:return(n.displayName||"Context")+".Consumer";case V:return(n._context.displayName||"Context")+".Provider";case b:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case lt:return i=n.displayName||null,i!==null?i:Se(n.type)||"Memo";case _t:i=n._payload,n=n._init;try{return Se(n(i))}catch{}}return null}function Oe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function we(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function je(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Dt(n){var i=je(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,f.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function fs(n){n._valueTracker||(n._valueTracker=Dt(n))}function Do(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=je(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ps(n,i){var a=i.checked;return re({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function sl(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=we(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ms(n,i){i=i.checked,i!=null&&ve(n,"checked",i,!1)}function Ci(n,i){ms(n,i);var a=we(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ut(n,i.type,a):i.hasOwnProperty("defaultValue")&&ut(n,i.type,we(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function No(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ut(n,i,a){(i!=="number"||Dr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var it=Array.isArray;function yn(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+we(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Vo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Oo(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(it(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:we(a)}}function ol(n,i){var a=we(i.value),c=we(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Nr(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function bo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gs(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?bo(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vr,al=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Vr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Pi(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ll=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(n){ll.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Or[i]=Or[n]})});function br(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Or.hasOwnProperty(n)&&Or[n]?(""+i).trim():i+"px"}function ys(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=br(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Lo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _n(n,i){if(i){if(Lo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function _s(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lr=null;function vs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ir=null,sr=null,nt=null;function Mo(n){if(n=ca(n)){if(typeof ir!="function")throw Error(t(280));var i=n.stateNode;i&&(i=bl(i),ir(n.stateNode,n.type,i))}}function Mr(n){sr?nt?nt.push(n):nt=[n]:sr=n}function Fr(){if(sr){var n=sr,i=nt;if(nt=sr=null,Mo(n),i)for(n=0;n<i.length;n++)Mo(i[n])}}function ul(n,i){return n(i)}function cl(){}var Vn=!1;function hl(n,i,a){if(Vn)return n(i,a);Vn=!0;try{return ul(n,i,a)}finally{Vn=!1,(sr!==null||nt!==null)&&(cl(),Fr())}}function xi(n,i){var a=n.stateNode;if(a===null)return null;var c=bl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Ur=!1;if(m)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Ur=!1}function dl(n,i,a,c,d,f,_,T,A){var U=Array.prototype.slice.call(arguments,3);try{i.apply(a,U)}catch(K){this.onError(K)}}var or=!1,On=null,ws=!1,an=null,fl={onError:function(n){or=!0,On=n}};function pl(n,i,a,c,d,f,_,T,A){or=!1,On=null,dl.apply(fl,arguments)}function Fo(n,i,a,c,d,f,_,T,A){if(pl.apply(this,arguments),or){if(or){var U=On;or=!1,On=null}else throw Error(t(198));ws||(ws=!0,an=U)}}function vn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Uo(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function ml(n){if(vn(n)!==n)throw Error(t(188))}function gl(n){var i=n.alternate;if(!i){if(i=vn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return ml(d),n;if(f===c)return ml(d),i;f=f.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=f;else{for(var _=!1,T=d.child;T;){if(T===a){_=!0,a=d,c=f;break}if(T===c){_=!0,c=d,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,c=d;break}if(T===c){_=!0,c=f,a=d;break}T=T.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function yl(n){return n=gl(n),n!==null?Di(n):null}function Di(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Di(n);if(i!==null)return i;n=n.sibling}return null}var jo=e.unstable_scheduleCallback,Es=e.unstable_cancelCallback,Ni=e.unstable_shouldYield,ar=e.unstable_requestPaint,Ke=e.unstable_now,Ac=e.unstable_getCurrentPriorityLevel,Ts=e.unstable_ImmediatePriority,Bo=e.unstable_UserBlockingPriority,Vi=e.unstable_NormalPriority,zo=e.unstable_LowPriority,Is=e.unstable_IdlePriority,Oi=null,Yt=null;function _l(n){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Oi,n,void 0,(n.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:bi,bn=Math.log,ln=Math.LN2;function bi(n){return n>>>=0,n===0?32:31-(bn(n)/ln|0)|0}var Ln=64,Br=4194304;function Fe(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function lr(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,f=n.pingedLanes,_=a&268435455;if(_!==0){var T=_&~d;T!==0?c=Fe(T):(f&=_,f!==0&&(c=Fe(f)))}else _=a&~d,_!==0?c=Fe(_):f!==0&&(c=Fe(f));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,f=i&-i,d>=f||d===16&&(f&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Jt(i),d=1<<a,c|=n[a],i&=~d;return c}function Li(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes;0<f;){var _=31-Jt(f),T=1<<_,A=d[_];A===-1?((T&a)===0||(T&c)!==0)&&(d[_]=Li(T,i)):A<=i&&(n.expiredLanes|=T),f&=~T}}function Wo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ho(){var n=Ln;return Ln<<=1,(Ln&4194240)===0&&(Ln=64),n}function $o(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Fi(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Jt(i),n[i]=a}function Cc(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Jt(a),f=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~f}}function qo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Jt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Ne=0;function Mn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Go,Ss,Ko,Qo,Zo,Fn=!1,ks=[],Un=null,jn=null,St=null,Ui=new Map,ur=new Map,Xt=[],vl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zr(n,i){switch(n){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Ui.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(i.pointerId)}}function wn(n,i,a,c,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:f,targetContainers:[d]},i!==null&&(i=ca(i),i!==null&&Ss(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function wl(n,i,a,c,d){switch(i){case"focusin":return Un=wn(Un,n,i,a,c,d),!0;case"dragenter":return jn=wn(jn,n,i,a,c,d),!0;case"mouseover":return St=wn(St,n,i,a,c,d),!0;case"pointerover":var f=d.pointerId;return Ui.set(f,wn(Ui.get(f)||null,n,i,a,c,d)),!0;case"gotpointercapture":return f=d.pointerId,ur.set(f,wn(ur.get(f)||null,n,i,a,c,d)),!0}return!1}function Rs(n){var i=Wi(n.target);if(i!==null){var a=vn(i);if(a!==null){if(i=a.tag,i===13){if(i=Uo(a),i!==null){n.blockedOn=i,Zo(n.priority,function(){Ko(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ze(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=As(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Lr=c,a.target.dispatchEvent(c),Lr=null}else return i=ca(a),i!==null&&Ss(i),n.blockedOn=a,!1;i.shift()}return!0}function El(n,i,a){ze(n)&&a.delete(i)}function Pc(){Fn=!1,Un!==null&&ze(Un)&&(Un=null),jn!==null&&ze(jn)&&(jn=null),St!==null&&ze(St)&&(St=null),Ui.forEach(El),ur.forEach(El)}function Wr(n,i){n.blockedOn===i&&(n.blockedOn=null,Fn||(Fn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pc)))}function Hr(n){function i(d){return Wr(d,n)}if(0<ks.length){Wr(ks[0],n);for(var a=1;a<ks.length;a++){var c=ks[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Un!==null&&Wr(Un,n),jn!==null&&Wr(jn,n),St!==null&&Wr(St,n),Ui.forEach(i),ur.forEach(i),a=0;a<Xt.length;a++)c=Xt[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Xt.length&&(a=Xt[0],a.blockedOn===null);)Rs(a),a.blockedOn===null&&Xt.shift()}var cr=Ce.ReactCurrentBatchConfig,hr=!0;function Bn(n,i,a,c){var d=Ne,f=cr.transition;cr.transition=null;try{Ne=1,Yo(n,i,a,c)}finally{Ne=d,cr.transition=f}}function Tl(n,i,a,c){var d=Ne,f=cr.transition;cr.transition=null;try{Ne=4,Yo(n,i,a,c)}finally{Ne=d,cr.transition=f}}function Yo(n,i,a,c){if(hr){var d=As(n,i,a,c);if(d===null)jc(n,i,c,zn,a),zr(n,c);else if(wl(d,n,i,a,c))c.stopPropagation();else if(zr(n,c),i&4&&-1<vl.indexOf(n)){for(;d!==null;){var f=ca(d);if(f!==null&&Go(f),f=As(n,i,a,c),f===null&&jc(n,i,c,zn,a),f===d)break;d=f}d!==null&&c.stopPropagation()}else jc(n,i,c,null,a)}}var zn=null;function As(n,i,a,c){if(zn=null,n=vs(c),n=Wi(n),n!==null)if(i=vn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Uo(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return zn=n,null}function Cs(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ac()){case Ts:return 1;case Bo:return 4;case Vi:case zo:return 16;case Is:return 536870912;default:return 16}default:return 16}}var en=null,Ps=null,dr=null;function Il(){if(dr)return dr;var n,i=Ps,a=i.length,c,d="value"in en?en.value:en.textContent,f=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[f-c];c++);return dr=d.slice(n,1<c?1-c:void 0)}function ji(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Wn(){return!0}function Jo(){return!1}function Nt(n){function i(a,c,d,f,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wn:Jo,this.isPropagationStopped=Jo,this}return re(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Nt(Hn),$r=re({},Hn,{view:0,detail:0}),xs=Nt($r),Ds,Ns,tn,zi=re({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Te,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tn&&(tn&&n.type==="mousemove"?(Ds=n.screenX-tn.screenX,Ns=n.screenY-tn.screenY):Ns=Ds=0,tn=n),Ds)},movementY:function(n){return"movementY"in n?n.movementY:Ns}}),Xo=Nt(zi),Sl=re({},zi,{dataTransfer:0}),kl=Nt(Sl),Vs=re({},$r,{relatedTarget:0}),kt=Nt(Vs),Rl=re({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Al=Nt(Rl),qr=re({},Hn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),l=Nt(qr),p=re({},Hn,{data:0}),g=Nt(p),w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=j[n])?!!i[n]:!1}function Te(){return J}var st=re({},$r,{key:function(n){if(n.key){var i=w[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ji(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Te,charCode:function(n){return n.type==="keypress"?ji(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ji(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Be=Nt(st),ct=re({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nn=Nt(ct),fr=re({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Te}),$n=Nt(fr),qn=re({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Os=Nt(qn),ea=re({},zi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=Nt(ea),o0=[9,13,27,32],xc=m&&"CompositionEvent"in window,ta=null;m&&"documentMode"in document&&(ta=document.documentMode);var a0=m&&"TextEvent"in window&&!ta,xf=m&&(!xc||ta&&8<ta&&11>=ta),Df=" ",Nf=!1;function Vf(n,i){switch(n){case"keyup":return o0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Of(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bs=!1;function l0(n,i){switch(n){case"compositionend":return Of(i);case"keypress":return i.which!==32?null:(Nf=!0,Df);case"textInput":return n=i.data,n===Df&&Nf?null:n;default:return null}}function u0(n,i){if(bs)return n==="compositionend"||!xc&&Vf(n,i)?(n=Il(),dr=Ps=en=null,bs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xf&&i.locale!=="ko"?null:i.data;default:return null}}var c0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!c0[n.type]:i==="textarea"}function Lf(n,i,a,c){Mr(c),i=Nl(i,"onChange"),0<i.length&&(a=new Bi("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var na=null,ra=null;function h0(n){ep(n,0)}function Cl(n){var i=js(n);if(Do(i))return n}function d0(n,i){if(n==="change")return i}var Mf=!1;if(m){var Dc;if(m){var Nc="oninput"in document;if(!Nc){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),Nc=typeof Ff.oninput=="function"}Dc=Nc}else Dc=!1;Mf=Dc&&(!document.documentMode||9<document.documentMode)}function Uf(){na&&(na.detachEvent("onpropertychange",jf),ra=na=null)}function jf(n){if(n.propertyName==="value"&&Cl(ra)){var i=[];Lf(i,ra,n,vs(n)),hl(h0,i)}}function f0(n,i,a){n==="focusin"?(Uf(),na=i,ra=a,na.attachEvent("onpropertychange",jf)):n==="focusout"&&Uf()}function p0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cl(ra)}function m0(n,i){if(n==="click")return Cl(i)}function g0(n,i){if(n==="input"||n==="change")return Cl(i)}function y0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var En=typeof Object.is=="function"?Object.is:y0;function ia(n,i){if(En(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!y.call(i,d)||!En(n[d],i[d]))return!1}return!0}function Bf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zf(n,i){var a=Bf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bf(a)}}function Wf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Wf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Hf(){for(var n=window,i=Dr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Dr(n.document)}return i}function Vc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function _0(n){var i=Hf(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Wf(a.ownerDocument.documentElement,a)){if(c!==null&&Vc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,f=Math.min(c.start,d);c=c.end===void 0?f:Math.min(c.end,d),!n.extend&&f>c&&(d=c,c=f,f=d),d=zf(a,f);var _=zf(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),f>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var v0=m&&"documentMode"in document&&11>=document.documentMode,Ls=null,Oc=null,sa=null,bc=!1;function $f(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bc||Ls==null||Ls!==Dr(c)||(c=Ls,"selectionStart"in c&&Vc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),sa&&ia(sa,c)||(sa=c,c=Nl(Oc,"onSelect"),0<c.length&&(i=new Bi("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Ls)))}function Pl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ms={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},Lc={},qf={};m&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function xl(n){if(Lc[n])return Lc[n];if(!Ms[n])return n;var i=Ms[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in qf)return Lc[n]=i[a];return n}var Gf=xl("animationend"),Kf=xl("animationiteration"),Qf=xl("animationstart"),Zf=xl("transitionend"),Yf=new Map,Jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(n,i){Yf.set(n,i),u(i,[n])}for(var Mc=0;Mc<Jf.length;Mc++){var Fc=Jf[Mc],w0=Fc.toLowerCase(),E0=Fc[0].toUpperCase()+Fc.slice(1);Gr(w0,"on"+E0)}Gr(Gf,"onAnimationEnd"),Gr(Kf,"onAnimationIteration"),Gr(Qf,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(Zf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function Xf(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Fo(c,i,void 0,n),n.currentTarget=null}function ep(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var f=void 0;if(i)for(var _=c.length-1;0<=_;_--){var T=c[_],A=T.instance,U=T.currentTarget;if(T=T.listener,A!==f&&d.isPropagationStopped())break e;Xf(d,T,U),f=A}else for(_=0;_<c.length;_++){if(T=c[_],A=T.instance,U=T.currentTarget,T=T.listener,A!==f&&d.isPropagationStopped())break e;Xf(d,T,U),f=A}}}if(ws)throw n=an,ws=!1,an=null,n}function Qe(n,i){var a=i[qc];a===void 0&&(a=i[qc]=new Set);var c=n+"__bubble";a.has(c)||(tp(i,n,2,!1),a.add(c))}function Uc(n,i,a){var c=0;i&&(c|=4),tp(a,n,c,i)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function aa(n){if(!n[Dl]){n[Dl]=!0,s.forEach(function(a){a!=="selectionchange"&&(T0.has(a)||Uc(a,!1,n),Uc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Dl]||(i[Dl]=!0,Uc("selectionchange",!1,i))}}function tp(n,i,a,c){switch(Cs(i)){case 1:var d=Bn;break;case 4:d=Tl;break;default:d=Yo}a=d.bind(null,i,a,n),d=void 0,!Ur||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function jc(n,i,a,c,d){var f=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var T=c.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var A=_.tag;if((A===3||A===4)&&(A=_.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;_=_.return}for(;T!==null;){if(_=Wi(T),_===null)return;if(A=_.tag,A===5||A===6){c=f=_;continue e}T=T.parentNode}}c=c.return}hl(function(){var U=f,K=vs(a),Q=[];e:{var G=Yf.get(n);if(G!==void 0){var ne=Bi,ae=n;switch(n){case"keypress":if(ji(a)===0)break e;case"keydown":case"keyup":ne=Be;break;case"focusin":ae="focus",ne=kt;break;case"focusout":ae="blur",ne=kt;break;case"beforeblur":case"afterblur":ne=kt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=$n;break;case Gf:case Kf:case Qf:ne=Al;break;case Zf:ne=Os;break;case"scroll":ne=xs;break;case"wheel":ne=s0;break;case"copy":case"cut":case"paste":ne=l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=nn}var le=(i&4)!==0,ot=!le&&n==="scroll",L=le?G!==null?G+"Capture":null:G;le=[];for(var N=U,F;N!==null;){F=N;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,L!==null&&(Z=xi(N,L),Z!=null&&le.push(la(N,Z,F)))),ot)break;N=N.return}0<le.length&&(G=new ne(G,ae,null,a,K),Q.push({event:G,listeners:le}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",ne=n==="mouseout"||n==="pointerout",G&&a!==Lr&&(ae=a.relatedTarget||a.fromElement)&&(Wi(ae)||ae[pr]))break e;if((ne||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,ne?(ae=a.relatedTarget||a.toElement,ne=U,ae=ae?Wi(ae):null,ae!==null&&(ot=vn(ae),ae!==ot||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ne=null,ae=U),ne!==ae)){if(le=Xo,Z="onMouseLeave",L="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(le=nn,Z="onPointerLeave",L="onPointerEnter",N="pointer"),ot=ne==null?G:js(ne),F=ae==null?G:js(ae),G=new le(Z,N+"leave",ne,a,K),G.target=ot,G.relatedTarget=F,Z=null,Wi(K)===U&&(le=new le(L,N+"enter",ae,a,K),le.target=F,le.relatedTarget=ot,Z=le),ot=Z,ne&&ae)t:{for(le=ne,L=ae,N=0,F=le;F;F=Fs(F))N++;for(F=0,Z=L;Z;Z=Fs(Z))F++;for(;0<N-F;)le=Fs(le),N--;for(;0<F-N;)L=Fs(L),F--;for(;N--;){if(le===L||L!==null&&le===L.alternate)break t;le=Fs(le),L=Fs(L)}le=null}else le=null;ne!==null&&np(Q,G,ne,le,!1),ae!==null&&ot!==null&&np(Q,ot,ae,le,!0)}}e:{if(G=U?js(U):window,ne=G.nodeName&&G.nodeName.toLowerCase(),ne==="select"||ne==="input"&&G.type==="file")var ue=d0;else if(bf(G))if(Mf)ue=g0;else{ue=p0;var fe=f0}else(ne=G.nodeName)&&ne.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ue=m0);if(ue&&(ue=ue(n,U))){Lf(Q,ue,a,K);break e}fe&&fe(n,G,U),n==="focusout"&&(fe=G._wrapperState)&&fe.controlled&&G.type==="number"&&ut(G,"number",G.value)}switch(fe=U?js(U):window,n){case"focusin":(bf(fe)||fe.contentEditable==="true")&&(Ls=fe,Oc=U,sa=null);break;case"focusout":sa=Oc=Ls=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,$f(Q,a,K);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":$f(Q,a,K)}var pe;if(xc)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else bs?Vf(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(xf&&a.locale!=="ko"&&(bs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&bs&&(pe=Il()):(en=K,Ps="value"in en?en.value:en.textContent,bs=!0)),fe=Nl(U,_e),0<fe.length&&(_e=new g(_e,n,null,a,K),Q.push({event:_e,listeners:fe}),pe?_e.data=pe:(pe=Of(a),pe!==null&&(_e.data=pe)))),(pe=a0?l0(n,a):u0(n,a))&&(U=Nl(U,"onBeforeInput"),0<U.length&&(K=new g("onBeforeInput","beforeinput",null,a,K),Q.push({event:K,listeners:U}),K.data=pe))}ep(Q,i)})}function la(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Nl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=xi(n,a),f!=null&&c.unshift(la(n,f,d)),f=xi(n,i),f!=null&&c.push(la(n,f,d))),n=n.return}return c}function Fs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function np(n,i,a,c,d){for(var f=i._reactName,_=[];a!==null&&a!==c;){var T=a,A=T.alternate,U=T.stateNode;if(A!==null&&A===c)break;T.tag===5&&U!==null&&(T=U,d?(A=xi(a,f),A!=null&&_.unshift(la(a,A,T))):d||(A=xi(a,f),A!=null&&_.push(la(a,A,T)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var I0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function rp(n){return(typeof n=="string"?n:""+n).replace(I0,`
`).replace(S0,"")}function Vl(n,i,a){if(i=rp(i),rp(n)!==i&&a)throw Error(t(425))}function Ol(){}var Bc=null,zc=null;function Wc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hc=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,R0=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(n){return ip.resolve(null).then(n).catch(A0)}:Hc;function A0(n){setTimeout(function(){throw n})}function $c(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Hr(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Hr(i)}function Kr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function sp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Us=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Us,ua="__reactProps$"+Us,pr="__reactContainer$"+Us,qc="__reactEvents$"+Us,C0="__reactListeners$"+Us,P0="__reactHandles$"+Us;function Wi(n){var i=n[Gn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[pr]||a[Gn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=sp(n);n!==null;){if(a=n[Gn])return a;n=sp(n)}return i}n=a,a=n.parentNode}return null}function ca(n){return n=n[Gn]||n[pr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function bl(n){return n[ua]||null}var Gc=[],Bs=-1;function Qr(n){return{current:n}}function Ze(n){0>Bs||(n.current=Gc[Bs],Gc[Bs]=null,Bs--)}function $e(n,i){Bs++,Gc[Bs]=n.current,n.current=i}var Zr={},Vt=Qr(Zr),Ht=Qr(!1),Hi=Zr;function zs(n,i){var a=n.type.contextTypes;if(!a)return Zr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in a)d[f]=i[f];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function $t(n){return n=n.childContextTypes,n!=null}function Ll(){Ze(Ht),Ze(Vt)}function op(n,i,a){if(Vt.current!==Zr)throw Error(t(168));$e(Vt,i),$e(Ht,a)}function ap(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Oe(n)||"Unknown",d));return re({},a,c)}function Ml(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zr,Hi=Vt.current,$e(Vt,n),$e(Ht,Ht.current),!0}function lp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=ap(n,i,Hi),c.__reactInternalMemoizedMergedChildContext=n,Ze(Ht),Ze(Vt),$e(Vt,n)):Ze(Ht),$e(Ht,a)}var mr=null,Fl=!1,Kc=!1;function up(n){mr===null?mr=[n]:mr.push(n)}function x0(n){Fl=!0,up(n)}function Yr(){if(!Kc&&mr!==null){Kc=!0;var n=0,i=Ne;try{var a=mr;for(Ne=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}mr=null,Fl=!1}catch(d){throw mr!==null&&(mr=mr.slice(n+1)),jo(Ts,Yr),d}finally{Ne=i,Kc=!1}}return null}var Ws=[],Hs=0,Ul=null,jl=0,un=[],cn=0,$i=null,gr=1,yr="";function qi(n,i){Ws[Hs++]=jl,Ws[Hs++]=Ul,Ul=n,jl=i}function cp(n,i,a){un[cn++]=gr,un[cn++]=yr,un[cn++]=$i,$i=n;var c=gr;n=yr;var d=32-Jt(c)-1;c&=~(1<<d),a+=1;var f=32-Jt(i)+d;if(30<f){var _=d-d%5;f=(c&(1<<_)-1).toString(32),c>>=_,d-=_,gr=1<<32-Jt(i)+d|a<<d|c,yr=f+n}else gr=1<<f|a<<d|c,yr=n}function Qc(n){n.return!==null&&(qi(n,1),cp(n,1,0))}function Zc(n){for(;n===Ul;)Ul=Ws[--Hs],Ws[Hs]=null,jl=Ws[--Hs],Ws[Hs]=null;for(;n===$i;)$i=un[--cn],un[cn]=null,yr=un[--cn],un[cn]=null,gr=un[--cn],un[cn]=null}var rn=null,sn=null,Je=!1,Tn=null;function hp(n,i){var a=pn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function dp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,rn=n,sn=Kr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,rn=n,sn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=$i!==null?{id:gr,overflow:yr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=pn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,rn=n,sn=null,!0):!1;default:return!1}}function Yc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Jc(n){if(Je){var i=sn;if(i){var a=i;if(!dp(n,i)){if(Yc(n))throw Error(t(418));i=Kr(a.nextSibling);var c=rn;i&&dp(n,i)?hp(c,a):(n.flags=n.flags&-4097|2,Je=!1,rn=n)}}else{if(Yc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Je=!1,rn=n}}}function fp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function Bl(n){if(n!==rn)return!1;if(!Je)return fp(n),Je=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Wc(n.type,n.memoizedProps)),i&&(i=sn)){if(Yc(n))throw pp(),Error(t(418));for(;i;)hp(n,i),i=Kr(i.nextSibling)}if(fp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){sn=Kr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}sn=null}}else sn=rn?Kr(n.stateNode.nextSibling):null;return!0}function pp(){for(var n=sn;n;)n=Kr(n.nextSibling)}function $s(){sn=rn=null,Je=!1}function Xc(n){Tn===null?Tn=[n]:Tn.push(n)}var D0=Ce.ReactCurrentBatchConfig;function ha(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,f=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(_){var T=d.refs;_===null?delete T[f]:T[f]=_},i._stringRef=f,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function zl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function mp(n){var i=n._init;return i(n._payload)}function gp(n){function i(L,N){if(n){var F=L.deletions;F===null?(L.deletions=[N],L.flags|=16):F.push(N)}}function a(L,N){if(!n)return null;for(;N!==null;)i(L,N),N=N.sibling;return null}function c(L,N){for(L=new Map;N!==null;)N.key!==null?L.set(N.key,N):L.set(N.index,N),N=N.sibling;return L}function d(L,N){return L=si(L,N),L.index=0,L.sibling=null,L}function f(L,N,F){return L.index=F,n?(F=L.alternate,F!==null?(F=F.index,F<N?(L.flags|=2,N):F):(L.flags|=2,N)):(L.flags|=1048576,N)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function T(L,N,F,Z){return N===null||N.tag!==6?(N=Hh(F,L.mode,Z),N.return=L,N):(N=d(N,F),N.return=L,N)}function A(L,N,F,Z){var ue=F.type;return ue===C?K(L,N,F.props.children,Z,F.key):N!==null&&(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===_t&&mp(ue)===N.type)?(Z=d(N,F.props),Z.ref=ha(L,N,F),Z.return=L,Z):(Z=du(F.type,F.key,F.props,null,L.mode,Z),Z.ref=ha(L,N,F),Z.return=L,Z)}function U(L,N,F,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==F.containerInfo||N.stateNode.implementation!==F.implementation?(N=$h(F,L.mode,Z),N.return=L,N):(N=d(N,F.children||[]),N.return=L,N)}function K(L,N,F,Z,ue){return N===null||N.tag!==7?(N=es(F,L.mode,Z,ue),N.return=L,N):(N=d(N,F),N.return=L,N)}function Q(L,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Hh(""+N,L.mode,F),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ge:return F=du(N.type,N.key,N.props,null,L.mode,F),F.ref=ha(L,null,N),F.return=L,F;case Re:return N=$h(N,L.mode,F),N.return=L,N;case _t:var Z=N._init;return Q(L,Z(N._payload),F)}if(it(N)||he(N))return N=es(N,L.mode,F,null),N.return=L,N;zl(L,N)}return null}function G(L,N,F,Z){var ue=N!==null?N.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ue!==null?null:T(L,N,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ge:return F.key===ue?A(L,N,F,Z):null;case Re:return F.key===ue?U(L,N,F,Z):null;case _t:return ue=F._init,G(L,N,ue(F._payload),Z)}if(it(F)||he(F))return ue!==null?null:K(L,N,F,Z,null);zl(L,F)}return null}function ne(L,N,F,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return L=L.get(F)||null,T(N,L,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ge:return L=L.get(Z.key===null?F:Z.key)||null,A(N,L,Z,ue);case Re:return L=L.get(Z.key===null?F:Z.key)||null,U(N,L,Z,ue);case _t:var fe=Z._init;return ne(L,N,F,fe(Z._payload),ue)}if(it(Z)||he(Z))return L=L.get(F)||null,K(N,L,Z,ue,null);zl(N,Z)}return null}function ae(L,N,F,Z){for(var ue=null,fe=null,pe=N,_e=N=0,Et=null;pe!==null&&_e<F.length;_e++){pe.index>_e?(Et=pe,pe=null):Et=pe.sibling;var Me=G(L,pe,F[_e],Z);if(Me===null){pe===null&&(pe=Et);break}n&&pe&&Me.alternate===null&&i(L,pe),N=f(Me,N,_e),fe===null?ue=Me:fe.sibling=Me,fe=Me,pe=Et}if(_e===F.length)return a(L,pe),Je&&qi(L,_e),ue;if(pe===null){for(;_e<F.length;_e++)pe=Q(L,F[_e],Z),pe!==null&&(N=f(pe,N,_e),fe===null?ue=pe:fe.sibling=pe,fe=pe);return Je&&qi(L,_e),ue}for(pe=c(L,pe);_e<F.length;_e++)Et=ne(pe,L,_e,F[_e],Z),Et!==null&&(n&&Et.alternate!==null&&pe.delete(Et.key===null?_e:Et.key),N=f(Et,N,_e),fe===null?ue=Et:fe.sibling=Et,fe=Et);return n&&pe.forEach(function(oi){return i(L,oi)}),Je&&qi(L,_e),ue}function le(L,N,F,Z){var ue=he(F);if(typeof ue!="function")throw Error(t(150));if(F=ue.call(F),F==null)throw Error(t(151));for(var fe=ue=null,pe=N,_e=N=0,Et=null,Me=F.next();pe!==null&&!Me.done;_e++,Me=F.next()){pe.index>_e?(Et=pe,pe=null):Et=pe.sibling;var oi=G(L,pe,Me.value,Z);if(oi===null){pe===null&&(pe=Et);break}n&&pe&&oi.alternate===null&&i(L,pe),N=f(oi,N,_e),fe===null?ue=oi:fe.sibling=oi,fe=oi,pe=Et}if(Me.done)return a(L,pe),Je&&qi(L,_e),ue;if(pe===null){for(;!Me.done;_e++,Me=F.next())Me=Q(L,Me.value,Z),Me!==null&&(N=f(Me,N,_e),fe===null?ue=Me:fe.sibling=Me,fe=Me);return Je&&qi(L,_e),ue}for(pe=c(L,pe);!Me.done;_e++,Me=F.next())Me=ne(pe,L,_e,Me.value,Z),Me!==null&&(n&&Me.alternate!==null&&pe.delete(Me.key===null?_e:Me.key),N=f(Me,N,_e),fe===null?ue=Me:fe.sibling=Me,fe=Me);return n&&pe.forEach(function(cw){return i(L,cw)}),Je&&qi(L,_e),ue}function ot(L,N,F,Z){if(typeof F=="object"&&F!==null&&F.type===C&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Ge:e:{for(var ue=F.key,fe=N;fe!==null;){if(fe.key===ue){if(ue=F.type,ue===C){if(fe.tag===7){a(L,fe.sibling),N=d(fe,F.props.children),N.return=L,L=N;break e}}else if(fe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===_t&&mp(ue)===fe.type){a(L,fe.sibling),N=d(fe,F.props),N.ref=ha(L,fe,F),N.return=L,L=N;break e}a(L,fe);break}else i(L,fe);fe=fe.sibling}F.type===C?(N=es(F.props.children,L.mode,Z,F.key),N.return=L,L=N):(Z=du(F.type,F.key,F.props,null,L.mode,Z),Z.ref=ha(L,N,F),Z.return=L,L=Z)}return _(L);case Re:e:{for(fe=F.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===F.containerInfo&&N.stateNode.implementation===F.implementation){a(L,N.sibling),N=d(N,F.children||[]),N.return=L,L=N;break e}else{a(L,N);break}else i(L,N);N=N.sibling}N=$h(F,L.mode,Z),N.return=L,L=N}return _(L);case _t:return fe=F._init,ot(L,N,fe(F._payload),Z)}if(it(F))return ae(L,N,F,Z);if(he(F))return le(L,N,F,Z);zl(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,N!==null&&N.tag===6?(a(L,N.sibling),N=d(N,F),N.return=L,L=N):(a(L,N),N=Hh(F,L.mode,Z),N.return=L,L=N),_(L)):a(L,N)}return ot}var qs=gp(!0),yp=gp(!1),Wl=Qr(null),Hl=null,Gs=null,eh=null;function th(){eh=Gs=Hl=null}function nh(n){var i=Wl.current;Ze(Wl),n._currentValue=i}function rh(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Ks(n,i){Hl=n,eh=Gs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(qt=!0),n.firstContext=null)}function hn(n){var i=n._currentValue;if(eh!==n)if(n={context:n,memoizedValue:i,next:null},Gs===null){if(Hl===null)throw Error(t(308));Gs=n,Hl.dependencies={lanes:0,firstContext:n}}else Gs=Gs.next=n;return i}var Gi=null;function ih(n){Gi===null?Gi=[n]:Gi.push(n)}function _p(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,ih(i)):(a.next=d.next,d.next=a),i.interleaved=a,_r(n,c)}function _r(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Jr=!1;function sh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Xr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,_r(n,a)}return d=c.interleaved,d===null?(i.next=i,ih(c)):(i.next=d.next,d.next=i),c.interleaved=i,_r(n,a)}function $l(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,qo(n,a)}}function wp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function ql(n,i,a,c){var d=n.updateQueue;Jr=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var A=T,U=A.next;A.next=null,_===null?f=U:_.next=U,_=A;var K=n.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=U:T.next=U,K.lastBaseUpdate=A))}if(f!==null){var Q=d.baseState;_=0,K=U=A=null,T=f;do{var G=T.lane,ne=T.eventTime;if((c&G)===G){K!==null&&(K=K.next={eventTime:ne,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ae=n,le=T;switch(G=i,ne=a,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Q=ae.call(ne,Q,G);break e}Q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,G=typeof ae=="function"?ae.call(ne,Q,G):ae,G==null)break e;Q=re({},Q,G);break e;case 2:Jr=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,G=d.effects,G===null?d.effects=[T]:G.push(T))}else ne={eventTime:ne,lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(U=K=ne,A=Q):K=K.next=ne,_|=G;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;G=T,T=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(K===null&&(A=Q),d.baseState=A,d.firstBaseUpdate=U,d.lastBaseUpdate=K,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else f===null&&(d.shared.lanes=0);Zi|=_,n.lanes=_,n.memoizedState=Q}}function Ep(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var da={},Kn=Qr(da),fa=Qr(da),pa=Qr(da);function Ki(n){if(n===da)throw Error(t(174));return n}function oh(n,i){switch($e(pa,i),$e(fa,n),$e(Kn,da),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:gs(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=gs(i,n)}Ze(Kn),$e(Kn,i)}function Qs(){Ze(Kn),Ze(fa),Ze(pa)}function Tp(n){Ki(pa.current);var i=Ki(Kn.current),a=gs(i,n.type);i!==a&&($e(fa,n),$e(Kn,a))}function ah(n){fa.current===n&&(Ze(Kn),Ze(fa))}var Xe=Qr(0);function Gl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var lh=[];function uh(){for(var n=0;n<lh.length;n++)lh[n]._workInProgressVersionPrimary=null;lh.length=0}var Kl=Ce.ReactCurrentDispatcher,ch=Ce.ReactCurrentBatchConfig,Qi=0,et=null,mt=null,vt=null,Ql=!1,ma=!1,ga=0,N0=0;function Ot(){throw Error(t(321))}function hh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!En(n[a],i[a]))return!1;return!0}function dh(n,i,a,c,d,f){if(Qi=f,et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Kl.current=n===null||n.memoizedState===null?L0:M0,n=a(c,d),ma){f=0;do{if(ma=!1,ga=0,25<=f)throw Error(t(301));f+=1,vt=mt=null,i.updateQueue=null,Kl.current=F0,n=a(c,d)}while(ma)}if(Kl.current=Jl,i=mt!==null&&mt.next!==null,Qi=0,vt=mt=et=null,Ql=!1,i)throw Error(t(300));return n}function fh(){var n=ga!==0;return ga=0,n}function Qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?et.memoizedState=vt=n:vt=vt.next=n,vt}function dn(){if(mt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var i=vt===null?et.memoizedState:vt.next;if(i!==null)vt=i,mt=n;else{if(n===null)throw Error(t(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},vt===null?et.memoizedState=vt=n:vt=vt.next=n}return vt}function ya(n,i){return typeof i=="function"?i(n):i}function ph(n){var i=dn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=mt,d=c.baseQueue,f=a.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}c.baseQueue=d=f,a.pending=null}if(d!==null){f=d.next,c=c.baseState;var T=_=null,A=null,U=f;do{var K=U.lane;if((Qi&K)===K)A!==null&&(A=A.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),c=U.hasEagerState?U.eagerState:n(c,U.action);else{var Q={lane:K,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};A===null?(T=A=Q,_=c):A=A.next=Q,et.lanes|=K,Zi|=K}U=U.next}while(U!==null&&U!==f);A===null?_=c:A.next=T,En(c,i.memoizedState)||(qt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=A,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do f=d.lane,et.lanes|=f,Zi|=f,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function mh(n){var i=dn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=n(f,_.action),_=_.next;while(_!==d);En(f,i.memoizedState)||(qt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,c]}function Ip(){}function Sp(n,i){var a=et,c=dn(),d=i(),f=!En(c.memoizedState,d);if(f&&(c.memoizedState=d,qt=!0),c=c.queue,gh(Ap.bind(null,a,c,n),[n]),c.getSnapshot!==i||f||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,_a(9,Rp.bind(null,a,c,d,i),void 0,null),wt===null)throw Error(t(349));(Qi&30)!==0||kp(a,i,d)}return d}function kp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Rp(n,i,a,c){i.value=a,i.getSnapshot=c,Cp(i)&&Pp(n)}function Ap(n,i,a){return a(function(){Cp(i)&&Pp(n)})}function Cp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!En(n,a)}catch{return!0}}function Pp(n){var i=_r(n,1);i!==null&&Rn(i,n,1,-1)}function xp(n){var i=Qn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:n},i.queue=n,n=n.dispatch=b0.bind(null,et,n),[i.memoizedState,n]}function _a(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Dp(){return dn().memoizedState}function Zl(n,i,a,c){var d=Qn();et.flags|=n,d.memoizedState=_a(1|i,a,void 0,c===void 0?null:c)}function Yl(n,i,a,c){var d=dn();c=c===void 0?null:c;var f=void 0;if(mt!==null){var _=mt.memoizedState;if(f=_.destroy,c!==null&&hh(c,_.deps)){d.memoizedState=_a(i,a,f,c);return}}et.flags|=n,d.memoizedState=_a(1|i,a,f,c)}function Np(n,i){return Zl(8390656,8,n,i)}function gh(n,i){return Yl(2048,8,n,i)}function Vp(n,i){return Yl(4,2,n,i)}function Op(n,i){return Yl(4,4,n,i)}function bp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Lp(n,i,a){return a=a!=null?a.concat([n]):null,Yl(4,4,bp.bind(null,i,n),a)}function yh(){}function Mp(n,i){var a=dn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Fp(n,i){var a=dn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Up(n,i,a){return(Qi&21)===0?(n.baseState&&(n.baseState=!1,qt=!0),n.memoizedState=a):(En(a,i)||(a=Ho(),et.lanes|=a,Zi|=a,n.baseState=!0),i)}function V0(n,i){var a=Ne;Ne=a!==0&&4>a?a:4,n(!0);var c=ch.transition;ch.transition={};try{n(!1),i()}finally{Ne=a,ch.transition=c}}function jp(){return dn().memoizedState}function O0(n,i,a){var c=ri(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Bp(n))zp(i,a);else if(a=_p(n,i,a,c),a!==null){var d=zt();Rn(a,n,c,d),Wp(a,i,c)}}function b0(n,i,a){var c=ri(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bp(n))zp(i,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,T=f(_,a);if(d.hasEagerState=!0,d.eagerState=T,En(T,_)){var A=i.interleaved;A===null?(d.next=d,ih(i)):(d.next=A.next,A.next=d),i.interleaved=d;return}}catch{}a=_p(n,i,d,c),a!==null&&(d=zt(),Rn(a,n,c,d),Wp(a,i,c))}}function Bp(n){var i=n.alternate;return n===et||i!==null&&i===et}function zp(n,i){ma=Ql=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Wp(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,qo(n,a)}}var Jl={readContext:hn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},L0={readContext:hn,useCallback:function(n,i){return Qn().memoizedState=[n,i===void 0?null:i],n},useContext:hn,useEffect:Np,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Zl(4194308,4,bp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Zl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Zl(4,2,n,i)},useMemo:function(n,i){var a=Qn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Qn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=O0.bind(null,et,n),[c.memoizedState,n]},useRef:function(n){var i=Qn();return n={current:n},i.memoizedState=n},useState:xp,useDebugValue:yh,useDeferredValue:function(n){return Qn().memoizedState=n},useTransition:function(){var n=xp(!1),i=n[0];return n=V0.bind(null,n[1]),Qn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=et,d=Qn();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),wt===null)throw Error(t(349));(Qi&30)!==0||kp(c,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Np(Ap.bind(null,c,f,n),[n]),c.flags|=2048,_a(9,Rp.bind(null,c,f,a,i),void 0,null),a},useId:function(){var n=Qn(),i=wt.identifierPrefix;if(Je){var a=yr,c=gr;a=(c&~(1<<32-Jt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ga++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=N0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},M0={readContext:hn,useCallback:Mp,useContext:hn,useEffect:gh,useImperativeHandle:Lp,useInsertionEffect:Vp,useLayoutEffect:Op,useMemo:Fp,useReducer:ph,useRef:Dp,useState:function(){return ph(ya)},useDebugValue:yh,useDeferredValue:function(n){var i=dn();return Up(i,mt.memoizedState,n)},useTransition:function(){var n=ph(ya)[0],i=dn().memoizedState;return[n,i]},useMutableSource:Ip,useSyncExternalStore:Sp,useId:jp,unstable_isNewReconciler:!1},F0={readContext:hn,useCallback:Mp,useContext:hn,useEffect:gh,useImperativeHandle:Lp,useInsertionEffect:Vp,useLayoutEffect:Op,useMemo:Fp,useReducer:mh,useRef:Dp,useState:function(){return mh(ya)},useDebugValue:yh,useDeferredValue:function(n){var i=dn();return mt===null?i.memoizedState=n:Up(i,mt.memoizedState,n)},useTransition:function(){var n=mh(ya)[0],i=dn().memoizedState;return[n,i]},useMutableSource:Ip,useSyncExternalStore:Sp,useId:jp,unstable_isNewReconciler:!1};function In(n,i){if(n&&n.defaultProps){i=re({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function _h(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:re({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Xl={isMounted:function(n){return(n=n._reactInternals)?vn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=zt(),d=ri(n),f=vr(c,d);f.payload=i,a!=null&&(f.callback=a),i=Xr(n,f,d),i!==null&&(Rn(i,n,d,c),$l(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=zt(),d=ri(n),f=vr(c,d);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Xr(n,f,d),i!==null&&(Rn(i,n,d,c),$l(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=zt(),c=ri(n),d=vr(a,c);d.tag=2,i!=null&&(d.callback=i),i=Xr(n,d,c),i!==null&&(Rn(i,n,c,a),$l(i,n,c))}};function Hp(n,i,a,c,d,f,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,f,_):i.prototype&&i.prototype.isPureReactComponent?!ia(a,c)||!ia(d,f):!0}function $p(n,i,a){var c=!1,d=Zr,f=i.contextType;return typeof f=="object"&&f!==null?f=hn(f):(d=$t(i)?Hi:Vt.current,c=i.contextTypes,f=(c=c!=null)?zs(n,d):Zr),i=new i(a,f),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Xl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=f),i}function qp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Xl.enqueueReplaceState(i,i.state,null)}function vh(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},sh(n);var f=i.contextType;typeof f=="object"&&f!==null?d.context=hn(f):(f=$t(i)?Hi:Vt.current,d.context=zs(n,f)),d.state=n.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(_h(n,i,f,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Xl.enqueueReplaceState(d,d.state,null),ql(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Zs(n,i){try{var a="",c=i;do a+=ke(c),c=c.return;while(c);var d=a}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:n,source:i,stack:d,digest:null}}function wh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Eh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function Gp(n,i,a){a=vr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){ou||(ou=!0,Lh=c),Eh(n,i)},a}function Kp(n,i,a){a=vr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Eh(n,i)}}var f=n.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){Eh(n,i),typeof c!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Qp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new U0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=X0.bind(null,n,i,a),i.then(n,n))}function Zp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Yp(n,i,a,c,d){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=vr(-1,1),i.tag=2,Xr(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var j0=Ce.ReactCurrentOwner,qt=!1;function Bt(n,i,a,c){i.child=n===null?yp(i,null,a,c):qs(i,n.child,a,c)}function Jp(n,i,a,c,d){a=a.render;var f=i.ref;return Ks(i,d),c=dh(n,i,a,c,f,d),a=fh(),n!==null&&!qt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,wr(n,i,d)):(Je&&a&&Qc(i),i.flags|=1,Bt(n,i,c,d),i.child)}function Xp(n,i,a,c,d){if(n===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=f,em(n,i,f,c,d)):(n=du(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(f=n.child,(n.lanes&d)===0){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:ia,a(_,c)&&n.ref===i.ref)return wr(n,i,d)}return i.flags|=1,n=si(f,c),n.ref=i.ref,n.return=i,i.child=n}function em(n,i,a,c,d){if(n!==null){var f=n.memoizedProps;if(ia(f,c)&&n.ref===i.ref)if(qt=!1,i.pendingProps=c=f,(n.lanes&d)!==0)(n.flags&131072)!==0&&(qt=!0);else return i.lanes=n.lanes,wr(n,i,d)}return Th(n,i,a,c,d)}function tm(n,i,a){var c=i.pendingProps,d=c.children,f=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Js,on),on|=a;else{if((a&1073741824)===0)return n=f!==null?f.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,$e(Js,on),on|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=f!==null?f.baseLanes:a,$e(Js,on),on|=c}else f!==null?(c=f.baseLanes|a,i.memoizedState=null):c=a,$e(Js,on),on|=c;return Bt(n,i,d,a),i.child}function nm(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Th(n,i,a,c,d){var f=$t(a)?Hi:Vt.current;return f=zs(i,f),Ks(i,d),a=dh(n,i,a,c,f,d),c=fh(),n!==null&&!qt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,wr(n,i,d)):(Je&&c&&Qc(i),i.flags|=1,Bt(n,i,a,d),i.child)}function rm(n,i,a,c,d){if($t(a)){var f=!0;Ml(i)}else f=!1;if(Ks(i,d),i.stateNode===null)tu(n,i),$p(i,a,c),vh(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,T=i.memoizedProps;_.props=T;var A=_.context,U=a.contextType;typeof U=="object"&&U!==null?U=hn(U):(U=$t(a)?Hi:Vt.current,U=zs(i,U));var K=a.getDerivedStateFromProps,Q=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function";Q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==c||A!==U)&&qp(i,_,c,U),Jr=!1;var G=i.memoizedState;_.state=G,ql(i,c,_,d),A=i.memoizedState,T!==c||G!==A||Ht.current||Jr?(typeof K=="function"&&(_h(i,a,K,c),A=i.memoizedState),(T=Jr||Hp(i,a,T,c,G,A,U))?(Q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=A),_.props=c,_.state=A,_.context=U,c=T):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,vp(n,i),T=i.memoizedProps,U=i.type===i.elementType?T:In(i.type,T),_.props=U,Q=i.pendingProps,G=_.context,A=a.contextType,typeof A=="object"&&A!==null?A=hn(A):(A=$t(a)?Hi:Vt.current,A=zs(i,A));var ne=a.getDerivedStateFromProps;(K=typeof ne=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==Q||G!==A)&&qp(i,_,c,A),Jr=!1,G=i.memoizedState,_.state=G,ql(i,c,_,d);var ae=i.memoizedState;T!==Q||G!==ae||Ht.current||Jr?(typeof ne=="function"&&(_h(i,a,ne,c),ae=i.memoizedState),(U=Jr||Hp(i,a,U,c,G,ae,A)||!1)?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ae,A),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ae,A)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ae),_.props=c,_.state=ae,_.context=A,c=U):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),c=!1)}return Ih(n,i,a,c,f,d)}function Ih(n,i,a,c,d,f){nm(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&lp(i,a,!1),wr(n,i,f);c=i.stateNode,j0.current=i;var T=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=qs(i,n.child,null,f),i.child=qs(i,null,T,f)):Bt(n,i,T,f),i.memoizedState=c.state,d&&lp(i,a,!0),i.child}function im(n){var i=n.stateNode;i.pendingContext?op(n,i.pendingContext,i.pendingContext!==i.context):i.context&&op(n,i.context,!1),oh(n,i.containerInfo)}function sm(n,i,a,c,d){return $s(),Xc(d),i.flags|=256,Bt(n,i,a,c),i.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function kh(n){return{baseLanes:n,cachePool:null,transitions:null}}function om(n,i,a){var c=i.pendingProps,d=Xe.current,f=!1,_=(i.flags&128)!==0,T;if((T=_)||(T=n!==null&&n.memoizedState===null?!1:(d&2)!==0),T?(f=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),$e(Xe,d&1),n===null)return Jc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=c.children,n=c.fallback,f?(c=i.mode,f=i.child,_={mode:"hidden",children:_},(c&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=_):f=fu(_,c,0,null),n=es(n,c,a,null),f.return=i,n.return=i,f.sibling=n,i.child=f,i.child.memoizedState=kh(a),i.memoizedState=Sh,n):Rh(i,_));if(d=n.memoizedState,d!==null&&(T=d.dehydrated,T!==null))return B0(n,i,_,c,T,d,a);if(f){f=c.fallback,_=i.mode,d=n.child,T=d.sibling;var A={mode:"hidden",children:c.children};return(_&1)===0&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=A,i.deletions=null):(c=si(d,A),c.subtreeFlags=d.subtreeFlags&14680064),T!==null?f=si(T,f):(f=es(f,_,a,null),f.flags|=2),f.return=i,c.return=i,c.sibling=f,i.child=c,c=f,f=i.child,_=n.child.memoizedState,_=_===null?kh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},f.memoizedState=_,f.childLanes=n.childLanes&~a,i.memoizedState=Sh,c}return f=n.child,n=f.sibling,c=si(f,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Rh(n,i){return i=fu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function eu(n,i,a,c){return c!==null&&Xc(c),qs(i,n.child,null,a),n=Rh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function B0(n,i,a,c,d,f,_){if(a)return i.flags&256?(i.flags&=-257,c=wh(Error(t(422))),eu(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(f=c.fallback,d=i.mode,c=fu({mode:"visible",children:c.children},d,0,null),f=es(f,d,_,null),f.flags|=2,c.return=i,f.return=i,c.sibling=f,i.child=c,(i.mode&1)!==0&&qs(i,n.child,null,_),i.child.memoizedState=kh(_),i.memoizedState=Sh,f);if((i.mode&1)===0)return eu(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var T=c.dgst;return c=T,f=Error(t(419)),c=wh(f,c,void 0),eu(n,i,_,c)}if(T=(_&n.childLanes)!==0,qt||T){if(c=wt,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,_r(n,d),Rn(c,n,d,-1))}return zh(),c=wh(Error(t(421))),eu(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=ew.bind(null,n),d._reactRetry=i,null):(n=f.treeContext,sn=Kr(d.nextSibling),rn=i,Je=!0,Tn=null,n!==null&&(un[cn++]=gr,un[cn++]=yr,un[cn++]=$i,gr=n.id,yr=n.overflow,$i=i),i=Rh(i,c.children),i.flags|=4096,i)}function am(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),rh(n.return,i,a)}function Ah(n,i,a,c,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=c,f.tail=a,f.tailMode=d)}function lm(n,i,a){var c=i.pendingProps,d=c.revealOrder,f=c.tail;if(Bt(n,i,c.children,a),c=Xe.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&am(n,a,i);else if(n.tag===19)am(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if($e(Xe,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Gl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Ah(i,!1,d,a,f);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Gl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Ah(i,!0,a,null,f);break;case"together":Ah(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function tu(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function wr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Zi|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=si(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=si(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function z0(n,i,a){switch(i.tag){case 3:im(i),$s();break;case 5:Tp(i);break;case 1:$t(i.type)&&Ml(i);break;case 4:oh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;$e(Wl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?($e(Xe,Xe.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?om(n,i,a):($e(Xe,Xe.current&1),n=wr(n,i,a),n!==null?n.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return lm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$e(Xe,Xe.current),c)break;return null;case 22:case 23:return i.lanes=0,tm(n,i,a)}return wr(n,i,a)}var um,Ch,cm,hm;um=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ch=function(){},cm=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Ki(Kn.current);var f=null;switch(a){case"input":d=ps(n,d),c=ps(n,c),f=[];break;case"select":d=re({},d,{value:void 0}),c=re({},c,{value:void 0}),f=[];break;case"textarea":d=Vo(n,d),c=Vo(n,c),f=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ol)}_n(a,c);var _;a=null;for(U in d)if(!c.hasOwnProperty(U)&&d.hasOwnProperty(U)&&d[U]!=null)if(U==="style"){var T=d[U];for(_ in T)T.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?f||(f=[]):(f=f||[]).push(U,null));for(U in c){var A=c[U];if(T=d?.[U],c.hasOwnProperty(U)&&A!==T&&(A!=null||T!=null))if(U==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||A&&A.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in A)A.hasOwnProperty(_)&&T[_]!==A[_]&&(a||(a={}),a[_]=A[_])}else a||(f||(f=[]),f.push(U,a)),a=A;else U==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,T=T?T.__html:void 0,A!=null&&T!==A&&(f=f||[]).push(U,A)):U==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(U,""+A):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(A!=null&&U==="onScroll"&&Qe("scroll",n),f||T===A||(f=[])):(f=f||[]).push(U,A))}a&&(f=f||[]).push("style",a);var U=f;(i.updateQueue=U)&&(i.flags|=4)}},hm=function(n,i,a,c){a!==c&&(i.flags|=4)};function va(n,i){if(!Je)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function bt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function W0(n,i,a){var c=i.pendingProps;switch(Zc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return $t(i.type)&&Ll(),bt(i),null;case 3:return c=i.stateNode,Qs(),Ze(Ht),Ze(Vt),uh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Bl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tn!==null&&(Uh(Tn),Tn=null))),Ch(n,i),bt(i),null;case 5:ah(i);var d=Ki(pa.current);if(a=i.type,n!==null&&i.stateNode!=null)cm(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return bt(i),null}if(n=Ki(Kn.current),Bl(i)){c=i.stateNode,a=i.type;var f=i.memoizedProps;switch(c[Gn]=i,c[ua]=f,n=(i.mode&1)!==0,a){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(d=0;d<oa.length;d++)Qe(oa[d],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":sl(c,f),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!f.multiple},Qe("invalid",c);break;case"textarea":Oo(c,f),Qe("invalid",c)}_n(a,f),d=null;for(var _ in f)if(f.hasOwnProperty(_)){var T=f[_];_==="children"?typeof T=="string"?c.textContent!==T&&(f.suppressHydrationWarning!==!0&&Vl(c.textContent,T,n),d=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(f.suppressHydrationWarning!==!0&&Vl(c.textContent,T,n),d=["children",""+T]):o.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&Qe("scroll",c)}switch(a){case"input":fs(c),No(c,f,!0);break;case"textarea":fs(c),Nr(c);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(c.onclick=Ol)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=bo(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Gn]=i,n[ua]=c,um(n,i,!1,!1),i.stateNode=n;e:{switch(_=_s(a,c),a){case"dialog":Qe("cancel",n),Qe("close",n),d=c;break;case"iframe":case"object":case"embed":Qe("load",n),d=c;break;case"video":case"audio":for(d=0;d<oa.length;d++)Qe(oa[d],n);d=c;break;case"source":Qe("error",n),d=c;break;case"img":case"image":case"link":Qe("error",n),Qe("load",n),d=c;break;case"details":Qe("toggle",n),d=c;break;case"input":sl(n,c),d=ps(n,c),Qe("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=re({},c,{value:void 0}),Qe("invalid",n);break;case"textarea":Oo(n,c),d=Vo(n,c),Qe("invalid",n);break;default:d=c}_n(a,d),T=d;for(f in T)if(T.hasOwnProperty(f)){var A=T[f];f==="style"?ys(n,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&al(n,A)):f==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&Pi(n,A):typeof A=="number"&&Pi(n,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?A!=null&&f==="onScroll"&&Qe("scroll",n):A!=null&&ve(n,f,A,_))}switch(a){case"input":fs(n),No(n,c,!1);break;case"textarea":fs(n),Nr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+we(c.value));break;case"select":n.multiple=!!c.multiple,f=c.value,f!=null?yn(n,!!c.multiple,f,!1):c.defaultValue!=null&&yn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Ol)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return bt(i),null;case 6:if(n&&i.stateNode!=null)hm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Ki(pa.current),Ki(Kn.current),Bl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Gn]=i,(f=c.nodeValue!==a)&&(n=rn,n!==null))switch(n.tag){case 3:Vl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Vl(c.nodeValue,a,(n.mode&1)!==0)}f&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Gn]=i,i.stateNode=c}return bt(i),null;case 13:if(Ze(Xe),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&sn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)pp(),$s(),i.flags|=98560,f=!1;else if(f=Bl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(t(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Gn]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),f=!1}else Tn!==null&&(Uh(Tn),Tn=null),f=!0;if(!f)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Xe.current&1)!==0?gt===0&&(gt=3):zh())),i.updateQueue!==null&&(i.flags|=4),bt(i),null);case 4:return Qs(),Ch(n,i),n===null&&aa(i.stateNode.containerInfo),bt(i),null;case 10:return nh(i.type._context),bt(i),null;case 17:return $t(i.type)&&Ll(),bt(i),null;case 19:if(Ze(Xe),f=i.memoizedState,f===null)return bt(i),null;if(c=(i.flags&128)!==0,_=f.rendering,_===null)if(c)va(f,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(_=Gl(n),_!==null){for(i.flags|=128,va(f,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)f=a,n=c,f.flags&=14680066,_=f.alternate,_===null?(f.childLanes=0,f.lanes=n,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,n=_.dependencies,f.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return $e(Xe,Xe.current&1|2),i.child}n=n.sibling}f.tail!==null&&Ke()>Xs&&(i.flags|=128,c=!0,va(f,!1),i.lanes=4194304)}else{if(!c)if(n=Gl(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),va(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Je)return bt(i),null}else 2*Ke()-f.renderingStartTime>Xs&&a!==1073741824&&(i.flags|=128,c=!0,va(f,!1),i.lanes=4194304);f.isBackwards?(_.sibling=i.child,i.child=_):(a=f.last,a!==null?a.sibling=_:i.child=_,f.last=_)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ke(),i.sibling=null,a=Xe.current,$e(Xe,c?a&1|2:a&1),i):(bt(i),null);case 22:case 23:return Bh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(on&1073741824)!==0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function H0(n,i){switch(Zc(i),i.tag){case 1:return $t(i.type)&&Ll(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qs(),Ze(Ht),Ze(Vt),uh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return ah(i),null;case 13:if(Ze(Xe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));$s()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ze(Xe),null;case 4:return Qs(),null;case 10:return nh(i.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var nu=!1,Lt=!1,$0=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ys(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(n,i,c)}else a.current=null}function Ph(n,i,a){try{a()}catch(c){rt(n,i,c)}}var dm=!1;function q0(n,i){if(Bc=hr,n=Hf(),Vc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,A=-1,U=0,K=0,Q=n,G=null;t:for(;;){for(var ne;Q!==a||d!==0&&Q.nodeType!==3||(T=_+d),Q!==f||c!==0&&Q.nodeType!==3||(A=_+c),Q.nodeType===3&&(_+=Q.nodeValue.length),(ne=Q.firstChild)!==null;)G=Q,Q=ne;for(;;){if(Q===n)break t;if(G===a&&++U===d&&(T=_),G===f&&++K===c&&(A=_),(ne=Q.nextSibling)!==null)break;Q=G,G=Q.parentNode}Q=ne}a=T===-1||A===-1?null:{start:T,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(zc={focusedElem:n,selectionRange:a},hr=!1,oe=i;oe!==null;)if(i=oe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,oe=n;else for(;oe!==null;){i=oe;try{var ae=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,ot=ae.memoizedState,L=i.stateNode,N=L.getSnapshotBeforeUpdate(i.elementType===i.type?le:In(i.type,le),ot);L.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){rt(i,i.return,Z)}if(n=i.sibling,n!==null){n.return=i.return,oe=n;break}oe=i.return}return ae=dm,dm=!1,ae}function wa(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var f=d.destroy;d.destroy=void 0,f!==void 0&&Ph(i,a,f)}d=d.next}while(d!==c)}}function ru(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function xh(n){var i=n.ref;if(i!==null){var a=n.stateNode;n.tag,n=a,typeof i=="function"?i(n):i.current=n}}function fm(n){var i=n.alternate;i!==null&&(n.alternate=null,fm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Gn],delete i[ua],delete i[qc],delete i[C0],delete i[P0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function pm(n){return n.tag===5||n.tag===3||n.tag===4}function mm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ol));else if(c!==4&&(n=n.child,n!==null))for(Dh(n,i,a),n=n.sibling;n!==null;)Dh(n,i,a),n=n.sibling}function Nh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Nh(n,i,a),n=n.sibling;n!==null;)Nh(n,i,a),n=n.sibling}var Rt=null,Sn=!1;function ei(n,i,a){for(a=a.child;a!==null;)gm(n,i,a),a=a.sibling}function gm(n,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Oi,a)}catch{}switch(a.tag){case 5:Lt||Ys(a,i);case 6:var c=Rt,d=Sn;Rt=null,ei(n,i,a),Rt=c,Sn=d,Rt!==null&&(Sn?(n=Rt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(Sn?(n=Rt,a=a.stateNode,n.nodeType===8?$c(n.parentNode,a):n.nodeType===1&&$c(n,a),Hr(n)):$c(Rt,a.stateNode));break;case 4:c=Rt,d=Sn,Rt=a.stateNode.containerInfo,Sn=!0,ei(n,i,a),Rt=c,Sn=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var f=d,_=f.destroy;f=f.tag,_!==void 0&&((f&2)!==0||(f&4)!==0)&&Ph(a,i,_),d=d.next}while(d!==c)}ei(n,i,a);break;case 1:if(!Lt&&(Ys(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(T){rt(a,i,T)}ei(n,i,a);break;case 21:ei(n,i,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,ei(n,i,a),Lt=c):ei(n,i,a);break;default:ei(n,i,a)}}function ym(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new $0),i.forEach(function(c){var d=tw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function kn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var f=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 5:Rt=T.stateNode,Sn=!1;break e;case 3:Rt=T.stateNode.containerInfo,Sn=!0;break e;case 4:Rt=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(Rt===null)throw Error(t(160));gm(f,_,d),Rt=null,Sn=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(U){rt(d,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)_m(i,n),i=i.sibling}function _m(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kn(i,n),Zn(n),c&4){try{wa(3,n,n.return),ru(3,n)}catch(le){rt(n,n.return,le)}try{wa(5,n,n.return)}catch(le){rt(n,n.return,le)}}break;case 1:kn(i,n),Zn(n),c&512&&a!==null&&Ys(a,a.return);break;case 5:if(kn(i,n),Zn(n),c&512&&a!==null&&Ys(a,a.return),n.flags&32){var d=n.stateNode;try{Pi(d,"")}catch(le){rt(n,n.return,le)}}if(c&4&&(d=n.stateNode,d!=null)){var f=n.memoizedProps,_=a!==null?a.memoizedProps:f,T=n.type,A=n.updateQueue;if(n.updateQueue=null,A!==null)try{T==="input"&&f.type==="radio"&&f.name!=null&&ms(d,f),_s(T,_);var U=_s(T,f);for(_=0;_<A.length;_+=2){var K=A[_],Q=A[_+1];K==="style"?ys(d,Q):K==="dangerouslySetInnerHTML"?al(d,Q):K==="children"?Pi(d,Q):ve(d,K,Q,U)}switch(T){case"input":Ci(d,f);break;case"textarea":ol(d,f);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var ne=f.value;ne!=null?yn(d,!!f.multiple,ne,!1):G!==!!f.multiple&&(f.defaultValue!=null?yn(d,!!f.multiple,f.defaultValue,!0):yn(d,!!f.multiple,f.multiple?[]:"",!1))}d[ua]=f}catch(le){rt(n,n.return,le)}}break;case 6:if(kn(i,n),Zn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,f=n.memoizedProps;try{d.nodeValue=f}catch(le){rt(n,n.return,le)}}break;case 3:if(kn(i,n),Zn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Hr(i.containerInfo)}catch(le){rt(n,n.return,le)}break;case 4:kn(i,n),Zn(n);break;case 13:kn(i,n),Zn(n),d=n.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(bh=Ke())),c&4&&ym(n);break;case 22:if(K=a!==null&&a.memoizedState!==null,n.mode&1?(Lt=(U=Lt)||K,kn(i,n),Lt=U):kn(i,n),Zn(n),c&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!K&&(n.mode&1)!==0)for(oe=n,K=n.child;K!==null;){for(Q=oe=K;oe!==null;){switch(G=oe,ne=G.child,G.tag){case 0:case 11:case 14:case 15:wa(4,G,G.return);break;case 1:Ys(G,G.return);var ae=G.stateNode;if(typeof ae.componentWillUnmount=="function"){c=G,a=G.return;try{i=c,ae.props=i.memoizedProps,ae.state=i.memoizedState,ae.componentWillUnmount()}catch(le){rt(c,a,le)}}break;case 5:Ys(G,G.return);break;case 22:if(G.memoizedState!==null){Em(Q);continue}}ne!==null?(ne.return=G,oe=ne):Em(Q)}K=K.sibling}e:for(K=null,Q=n;;){if(Q.tag===5){if(K===null){K=Q;try{d=Q.stateNode,U?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(T=Q.stateNode,A=Q.memoizedProps.style,_=A!=null&&A.hasOwnProperty("display")?A.display:null,T.style.display=br("display",_))}catch(le){rt(n,n.return,le)}}}else if(Q.tag===6){if(K===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(le){rt(n,n.return,le)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===n)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===n)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===n)break e;K===Q&&(K=null),Q=Q.return}K===Q&&(K=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:kn(i,n),Zn(n),c&4&&ym(n);break;case 21:break;default:kn(i,n),Zn(n)}}function Zn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(pm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Pi(d,""),c.flags&=-33);var f=mm(n);Nh(n,f,d);break;case 3:case 4:var _=c.stateNode.containerInfo,T=mm(n);Dh(n,T,_);break;default:throw Error(t(161))}}catch(A){rt(n,n.return,A)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function G0(n,i,a){oe=n,vm(n)}function vm(n,i,a){for(var c=(n.mode&1)!==0;oe!==null;){var d=oe,f=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||nu;if(!_){var T=d.alternate,A=T!==null&&T.memoizedState!==null||Lt;T=nu;var U=Lt;if(nu=_,(Lt=A)&&!U)for(oe=d;oe!==null;)_=oe,A=_.child,_.tag===22&&_.memoizedState!==null?Tm(d):A!==null?(A.return=_,oe=A):Tm(d);for(;f!==null;)oe=f,vm(f),f=f.sibling;oe=d,nu=T,Lt=U}wm(n)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,oe=f):wm(n)}}function wm(n){for(;oe!==null;){var i=oe;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Lt||ru(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:In(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&Ep(i,f,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Ep(i,_,a)}break;case 5:var T=i.stateNode;if(a===null&&i.flags&4){a=T;var A=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var K=U.memoizedState;if(K!==null){var Q=K.dehydrated;Q!==null&&Hr(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||i.flags&512&&xh(i)}catch(G){rt(i,i.return,G)}}if(i===n){oe=null;break}if(a=i.sibling,a!==null){a.return=i.return,oe=a;break}oe=i.return}}function Em(n){for(;oe!==null;){var i=oe;if(i===n){oe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,oe=a;break}oe=i.return}}function Tm(n){for(;oe!==null;){var i=oe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ru(4,i)}catch(A){rt(i,a,A)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(A){rt(i,d,A)}}var f=i.return;try{xh(i)}catch(A){rt(i,f,A)}break;case 5:var _=i.return;try{xh(i)}catch(A){rt(i,_,A)}}}catch(A){rt(i,i.return,A)}if(i===n){oe=null;break}var T=i.sibling;if(T!==null){T.return=i.return,oe=T;break}oe=i.return}}var K0=Math.ceil,iu=Ce.ReactCurrentDispatcher,Vh=Ce.ReactCurrentOwner,fn=Ce.ReactCurrentBatchConfig,Le=0,wt=null,ht=null,At=0,on=0,Js=Qr(0),gt=0,Ea=null,Zi=0,su=0,Oh=0,Ta=null,Gt=null,bh=0,Xs=1/0,Er=null,ou=!1,Lh=null,ti=null,au=!1,ni=null,lu=0,Ia=0,Mh=null,uu=-1,cu=0;function zt(){return(Le&6)!==0?Ke():uu!==-1?uu:uu=Ke()}function ri(n){return(n.mode&1)===0?1:(Le&2)!==0&&At!==0?At&-At:D0.transition!==null?(cu===0&&(cu=Ho()),cu):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:Cs(n.type)),n)}function Rn(n,i,a,c){if(50<Ia)throw Ia=0,Mh=null,Error(t(185));Fi(n,a,c),((Le&2)===0||n!==wt)&&(n===wt&&((Le&2)===0&&(su|=a),gt===4&&ii(n,At)),Kt(n,c),a===1&&Le===0&&(i.mode&1)===0&&(Xs=Ke()+500,Fl&&Yr()))}function Kt(n,i){var a=n.callbackNode;Mi(n,i);var c=lr(n,n===wt?At:0);if(c===0)a!==null&&Es(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Es(a),i===1)n.tag===0?x0(Sm.bind(null,n)):up(Sm.bind(null,n)),R0(function(){(Le&6)===0&&Yr()}),a=null;else{switch(Mn(c)){case 1:a=Ts;break;case 4:a=Bo;break;case 16:a=Vi;break;case 536870912:a=Is;break;default:a=Vi}a=Nm(a,Im.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Im(n,i){if(uu=-1,cu=0,(Le&6)!==0)throw Error(t(327));var a=n.callbackNode;if(eo()&&n.callbackNode!==a)return null;var c=lr(n,n===wt?At:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=hu(n,c);else{i=c;var d=Le;Le|=2;var f=Rm();(wt!==n||At!==i)&&(Er=null,Xs=Ke()+500,Ji(n,i));do try{Y0();break}catch(T){km(n,T)}while(!0);th(),iu.current=f,Le=d,ht!==null?i=0:(wt=null,At=0,i=gt)}if(i!==0){if(i===2&&(d=Wo(n),d!==0&&(c=d,i=Fh(n,d))),i===1)throw a=Ea,Ji(n,0),ii(n,c),Kt(n,Ke()),a;if(i===6)ii(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Q0(d)&&(i=hu(n,c),i===2&&(f=Wo(n),f!==0&&(c=f,i=Fh(n,f))),i===1))throw a=Ea,Ji(n,0),ii(n,c),Kt(n,Ke()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Xi(n,Gt,Er);break;case 3:if(ii(n,c),(c&130023424)===c&&(i=bh+500-Ke(),10<i)){if(lr(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){zt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Hc(Xi.bind(null,n,Gt,Er),i);break}Xi(n,Gt,Er);break;case 4:if(ii(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-Jt(c);f=1<<_,_=i[_],_>d&&(d=_),c&=~f}if(c=d,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*K0(c/1960))-c,10<c){n.timeoutHandle=Hc(Xi.bind(null,n,Gt,Er),c);break}Xi(n,Gt,Er);break;case 5:Xi(n,Gt,Er);break;default:throw Error(t(329))}}}return Kt(n,Ke()),n.callbackNode===a?Im.bind(null,n):null}function Fh(n,i){var a=Ta;return n.current.memoizedState.isDehydrated&&(Ji(n,i).flags|=256),n=hu(n,i),n!==2&&(i=Gt,Gt=a,i!==null&&Uh(i)),n}function Uh(n){Gt===null?Gt=n:Gt.push.apply(Gt,n)}function Q0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],f=d.getSnapshot;d=d.value;try{if(!En(f(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ii(n,i){for(i&=~Oh,i&=~su,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Jt(i),c=1<<a;n[a]=-1,i&=~c}}function Sm(n){if((Le&6)!==0)throw Error(t(327));eo();var i=lr(n,0);if((i&1)===0)return Kt(n,Ke()),null;var a=hu(n,i);if(n.tag!==0&&a===2){var c=Wo(n);c!==0&&(i=c,a=Fh(n,c))}if(a===1)throw a=Ea,Ji(n,0),ii(n,i),Kt(n,Ke()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Xi(n,Gt,Er),Kt(n,Ke()),null}function jh(n,i){var a=Le;Le|=1;try{return n(i)}finally{Le=a,Le===0&&(Xs=Ke()+500,Fl&&Yr())}}function Yi(n){ni!==null&&ni.tag===0&&(Le&6)===0&&eo();var i=Le;Le|=1;var a=fn.transition,c=Ne;try{if(fn.transition=null,Ne=1,n)return n()}finally{Ne=c,fn.transition=a,Le=i,(Le&6)===0&&Yr()}}function Bh(){on=Js.current,Ze(Js)}function Ji(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,k0(a)),ht!==null)for(a=ht.return;a!==null;){var c=a;switch(Zc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ll();break;case 3:Qs(),Ze(Ht),Ze(Vt),uh();break;case 5:ah(c);break;case 4:Qs();break;case 13:Ze(Xe);break;case 19:Ze(Xe);break;case 10:nh(c.type._context);break;case 22:case 23:Bh()}a=a.return}if(wt=n,ht=n=si(n.current,null),At=on=i,gt=0,Ea=null,Oh=su=Zi=0,Gt=Ta=null,Gi!==null){for(i=0;i<Gi.length;i++)if(a=Gi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,f=a.pending;if(f!==null){var _=f.next;f.next=d,c.next=_}a.pending=c}Gi=null}return n}function km(n,i){do{var a=ht;try{if(th(),Kl.current=Jl,Ql){for(var c=et.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ql=!1}if(Qi=0,vt=mt=et=null,ma=!1,ga=0,Vh.current=null,a===null||a.return===null){gt=1,Ea=i,ht=null;break}e:{var f=n,_=a.return,T=a,A=i;if(i=At,T.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var U=A,K=T,Q=K.tag;if((K.mode&1)===0&&(Q===0||Q===11||Q===15)){var G=K.alternate;G?(K.updateQueue=G.updateQueue,K.memoizedState=G.memoizedState,K.lanes=G.lanes):(K.updateQueue=null,K.memoizedState=null)}var ne=Zp(_);if(ne!==null){ne.flags&=-257,Yp(ne,_,T,f,i),ne.mode&1&&Qp(f,U,i),i=ne,A=U;var ae=i.updateQueue;if(ae===null){var le=new Set;le.add(A),i.updateQueue=le}else ae.add(A);break e}else{if((i&1)===0){Qp(f,U,i),zh();break e}A=Error(t(426))}}else if(Je&&T.mode&1){var ot=Zp(_);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Yp(ot,_,T,f,i),Xc(Zs(A,T));break e}}f=A=Zs(A,T),gt!==4&&(gt=2),Ta===null?Ta=[f]:Ta.push(f),f=_;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var L=Gp(f,A,i);wp(f,L);break e;case 1:T=A;var N=f.type,F=f.stateNode;if((f.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ti===null||!ti.has(F)))){f.flags|=65536,i&=-i,f.lanes|=i;var Z=Kp(f,T,i);wp(f,Z);break e}}f=f.return}while(f!==null)}Cm(a)}catch(ue){i=ue,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function Rm(){var n=iu.current;return iu.current=Jl,n===null?Jl:n}function zh(){(gt===0||gt===3||gt===2)&&(gt=4),wt===null||(Zi&268435455)===0&&(su&268435455)===0||ii(wt,At)}function hu(n,i){var a=Le;Le|=2;var c=Rm();(wt!==n||At!==i)&&(Er=null,Ji(n,i));do try{Z0();break}catch(d){km(n,d)}while(!0);if(th(),Le=a,iu.current=c,ht!==null)throw Error(t(261));return wt=null,At=0,gt}function Z0(){for(;ht!==null;)Am(ht)}function Y0(){for(;ht!==null&&!Ni();)Am(ht)}function Am(n){var i=Dm(n.alternate,n,on);n.memoizedProps=n.pendingProps,i===null?Cm(n):ht=i,Vh.current=null}function Cm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=W0(a,i,on),a!==null){ht=a;return}}else{if(a=H0(a,i),a!==null){a.flags&=32767,ht=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gt=6,ht=null;return}}if(i=i.sibling,i!==null){ht=i;return}ht=i=n}while(i!==null);gt===0&&(gt=5)}function Xi(n,i,a){var c=Ne,d=fn.transition;try{fn.transition=null,Ne=1,J0(n,i,a,c)}finally{fn.transition=d,Ne=c}return null}function J0(n,i,a,c){do eo();while(ni!==null);if((Le&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var f=a.lanes|a.childLanes;if(Cc(n,f),n===wt&&(ht=wt=null,At=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||au||(au=!0,Nm(Vi,function(){return eo(),null})),f=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||f){f=fn.transition,fn.transition=null;var _=Ne;Ne=1;var T=Le;Le|=4,Vh.current=null,q0(n,a),_m(a,n),_0(zc),hr=!!Bc,zc=Bc=null,n.current=a,G0(a),ar(),Le=T,Ne=_,fn.transition=f}else n.current=a;if(au&&(au=!1,ni=n,lu=d),f=n.pendingLanes,f===0&&(ti=null),_l(a.stateNode),Kt(n,Ke()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(ou)throw ou=!1,n=Lh,Lh=null,n;return(lu&1)!==0&&n.tag!==0&&eo(),f=n.pendingLanes,(f&1)!==0?n===Mh?Ia++:(Ia=0,Mh=n):Ia=0,Yr(),null}function eo(){if(ni!==null){var n=Mn(lu),i=fn.transition,a=Ne;try{if(fn.transition=null,Ne=16>n?16:n,ni===null)var c=!1;else{if(n=ni,ni=null,lu=0,(Le&6)!==0)throw Error(t(331));var d=Le;for(Le|=4,oe=n.current;oe!==null;){var f=oe,_=f.child;if((oe.flags&16)!==0){var T=f.deletions;if(T!==null){for(var A=0;A<T.length;A++){var U=T[A];for(oe=U;oe!==null;){var K=oe;switch(K.tag){case 0:case 11:case 15:wa(8,K,f)}var Q=K.child;if(Q!==null)Q.return=K,oe=Q;else for(;oe!==null;){K=oe;var G=K.sibling,ne=K.return;if(fm(K),K===U){oe=null;break}if(G!==null){G.return=ne,oe=G;break}oe=ne}}}var ae=f.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var ot=le.sibling;le.sibling=null,le=ot}while(le!==null)}}oe=f}}if((f.subtreeFlags&2064)!==0&&_!==null)_.return=f,oe=_;else e:for(;oe!==null;){if(f=oe,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:wa(9,f,f.return)}var L=f.sibling;if(L!==null){L.return=f.return,oe=L;break e}oe=f.return}}var N=n.current;for(oe=N;oe!==null;){_=oe;var F=_.child;if((_.subtreeFlags&2064)!==0&&F!==null)F.return=_,oe=F;else e:for(_=N;oe!==null;){if(T=oe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:ru(9,T)}}catch(ue){rt(T,T.return,ue)}if(T===_){oe=null;break e}var Z=T.sibling;if(Z!==null){Z.return=T.return,oe=Z;break e}oe=T.return}}if(Le=d,Yr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Oi,n)}catch{}c=!0}return c}finally{Ne=a,fn.transition=i}}return!1}function Pm(n,i,a){i=Zs(a,i),i=Gp(n,i,1),n=Xr(n,i,1),i=zt(),n!==null&&(Fi(n,1,i),Kt(n,i))}function rt(n,i,a){if(n.tag===3)Pm(n,n,a);else for(;i!==null;){if(i.tag===3){Pm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ti===null||!ti.has(c))){n=Zs(a,n),n=Kp(i,n,1),i=Xr(i,n,1),n=zt(),i!==null&&(Fi(i,1,n),Kt(i,n));break}}i=i.return}}function X0(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=zt(),n.pingedLanes|=n.suspendedLanes&a,wt===n&&(At&a)===a&&(gt===4||gt===3&&(At&130023424)===At&&500>Ke()-bh?Ji(n,0):Oh|=a),Kt(n,i)}function xm(n,i){i===0&&((n.mode&1)===0?i=1:(i=Br,Br<<=1,(Br&130023424)===0&&(Br=4194304)));var a=zt();n=_r(n,i),n!==null&&(Fi(n,i,a),Kt(n,a))}function ew(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),xm(n,a)}function tw(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),xm(n,a)}var Dm;Dm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Ht.current)qt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return qt=!1,z0(n,i,a);qt=(n.flags&131072)!==0}else qt=!1,Je&&(i.flags&1048576)!==0&&cp(i,jl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;tu(n,i),n=i.pendingProps;var d=zs(i,Vt.current);Ks(i,a),d=dh(null,i,c,n,d,a);var f=fh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,$t(c)?(f=!0,Ml(i)):f=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,sh(i),d.updater=Xl,i.stateNode=d,d._reactInternals=i,vh(i,c,n,a),i=Ih(null,i,c,!0,f,a)):(i.tag=0,Je&&f&&Qc(i),Bt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(tu(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=rw(c),n=In(c,n),d){case 0:i=Th(null,i,c,n,a);break e;case 1:i=rm(null,i,c,n,a);break e;case 11:i=Jp(null,i,c,n,a);break e;case 14:i=Xp(null,i,c,In(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:In(c,d),Th(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:In(c,d),rm(n,i,c,d,a);case 3:e:{if(im(i),n===null)throw Error(t(387));c=i.pendingProps,f=i.memoizedState,d=f.element,vp(n,i),ql(i,c,null,a);var _=i.memoizedState;if(c=_.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){d=Zs(Error(t(423)),i),i=sm(n,i,c,a,d);break e}else if(c!==d){d=Zs(Error(t(424)),i),i=sm(n,i,c,a,d);break e}else for(sn=Kr(i.stateNode.containerInfo.firstChild),rn=i,Je=!0,Tn=null,a=yp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if($s(),c===d){i=wr(n,i,a);break e}Bt(n,i,c,a)}i=i.child}return i;case 5:return Tp(i),n===null&&Jc(i),c=i.type,d=i.pendingProps,f=n!==null?n.memoizedProps:null,_=d.children,Wc(c,d)?_=null:f!==null&&Wc(c,f)&&(i.flags|=32),nm(n,i),Bt(n,i,_,a),i.child;case 6:return n===null&&Jc(i),null;case 13:return om(n,i,a);case 4:return oh(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=qs(i,null,c,a):Bt(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:In(c,d),Jp(n,i,c,d,a);case 7:return Bt(n,i,i.pendingProps,a),i.child;case 8:return Bt(n,i,i.pendingProps.children,a),i.child;case 12:return Bt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,f=i.memoizedProps,_=d.value,$e(Wl,c._currentValue),c._currentValue=_,f!==null)if(En(f.value,_)){if(f.children===d.children&&!Ht.current){i=wr(n,i,a);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var T=f.dependencies;if(T!==null){_=f.child;for(var A=T.firstContext;A!==null;){if(A.context===c){if(f.tag===1){A=vr(-1,a&-a),A.tag=2;var U=f.updateQueue;if(U!==null){U=U.shared;var K=U.pending;K===null?A.next=A:(A.next=K.next,K.next=A),U.pending=A}}f.lanes|=a,A=f.alternate,A!==null&&(A.lanes|=a),rh(f.return,a,i),T.lanes|=a;break}A=A.next}}else if(f.tag===10)_=f.type===i.type?null:f.child;else if(f.tag===18){if(_=f.return,_===null)throw Error(t(341));_.lanes|=a,T=_.alternate,T!==null&&(T.lanes|=a),rh(_,a,i),_=f.sibling}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}Bt(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,Ks(i,a),d=hn(d),c=c(d),i.flags|=1,Bt(n,i,c,a),i.child;case 14:return c=i.type,d=In(c,i.pendingProps),d=In(c.type,d),Xp(n,i,c,d,a);case 15:return em(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:In(c,d),tu(n,i),i.tag=1,$t(c)?(n=!0,Ml(i)):n=!1,Ks(i,a),$p(i,c,d),vh(i,c,d,a),Ih(null,i,c,!0,n,a);case 19:return lm(n,i,a);case 22:return tm(n,i,a)}throw Error(t(156,i.tag))};function Nm(n,i){return jo(n,i)}function nw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(n,i,a,c){return new nw(n,i,a,c)}function Wh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rw(n){if(typeof n=="function")return Wh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===b)return 11;if(n===lt)return 14}return 2}function si(n,i){var a=n.alternate;return a===null?(a=pn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function du(n,i,a,c,d,f){var _=2;if(c=n,typeof n=="function")Wh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case C:return es(a.children,d,f,i);case I:_=8,d|=8;break;case k:return n=pn(12,a,i,d|2),n.elementType=k,n.lanes=f,n;case S:return n=pn(13,a,i,d),n.elementType=S,n.lanes=f,n;case Ve:return n=pn(19,a,i,d),n.elementType=Ve,n.lanes=f,n;case He:return fu(a,d,f,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:_=10;break e;case P:_=9;break e;case b:_=11;break e;case lt:_=14;break e;case _t:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=pn(_,a,i,d),i.elementType=n,i.type=c,i.lanes=f,i}function es(n,i,a,c){return n=pn(7,n,c,i),n.lanes=a,n}function fu(n,i,a,c){return n=pn(22,n,c,i),n.elementType=He,n.lanes=a,n.stateNode={isHidden:!1},n}function Hh(n,i,a){return n=pn(6,n,null,i),n.lanes=a,n}function $h(n,i,a){return i=pn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function iw(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function qh(n,i,a,c,d,f,_,T,A){return n=new iw(n,i,a,T,A),i===1?(i=1,f===!0&&(i|=8)):i=0,f=pn(3,null,null,i),n.current=f,f.stateNode=n,f.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},sh(f),n}function sw(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Vm(n){if(!n)return Zr;n=n._reactInternals;e:{if(vn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if($t(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if($t(a))return ap(n,a,i)}return i}function Om(n,i,a,c,d,f,_,T,A){return n=qh(a,c,!0,n,d,f,_,T,A),n.context=Vm(null),a=n.current,c=zt(),d=ri(a),f=vr(c,d),f.callback=i??null,Xr(a,f,d),n.current.lanes=d,Fi(n,d,c),Kt(n,c),n}function pu(n,i,a,c){var d=i.current,f=zt(),_=ri(d);return a=Vm(a),i.context===null?i.context=a:i.pendingContext=a,i=vr(f,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Xr(d,i,_),n!==null&&(Rn(n,d,_,f),$l(n,d,_)),_}function mu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function bm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Gh(n,i){bm(n,i),(n=n.alternate)&&bm(n,i)}function ow(){return null}var Lm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Kh(n){this._internalRoot=n}gu.prototype.render=Kh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));pu(n,i,null,null)},gu.prototype.unmount=Kh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Yi(function(){pu(null,n,null,null)}),i[pr]=null}};function gu(n){this._internalRoot=n}gu.prototype.unstable_scheduleHydration=function(n){if(n){var i=Qo();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Xt.length&&i!==0&&i<Xt[a].priority;a++);Xt.splice(a,0,n),a===0&&Rs(n)}};function Qh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Mm(){}function aw(n,i,a,c,d){if(d){if(typeof c=="function"){var f=c;c=function(){var U=mu(_);f.call(U)}}var _=Om(i,c,n,0,null,!1,!1,"",Mm);return n._reactRootContainer=_,n[pr]=_.current,aa(n.nodeType===8?n.parentNode:n),Yi(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var T=c;c=function(){var U=mu(A);T.call(U)}}var A=qh(n,0,!1,null,null,!1,!1,"",Mm);return n._reactRootContainer=A,n[pr]=A.current,aa(n.nodeType===8?n.parentNode:n),Yi(function(){pu(i,A,a,c)}),A}function _u(n,i,a,c,d){var f=a._reactRootContainer;if(f){var _=f;if(typeof d=="function"){var T=d;d=function(){var A=mu(_);T.call(A)}}pu(i,_,n,d)}else _=aw(a,i,n,d,c);return mu(_)}Go=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Fe(i.pendingLanes);a!==0&&(qo(i,a|1),Kt(i,Ke()),(Le&6)===0&&(Xs=Ke()+500,Yr()))}break;case 13:Yi(function(){var c=_r(n,1);if(c!==null){var d=zt();Rn(c,n,1,d)}}),Gh(n,1)}},Ss=function(n){if(n.tag===13){var i=_r(n,134217728);if(i!==null){var a=zt();Rn(i,n,134217728,a)}Gh(n,134217728)}},Ko=function(n){if(n.tag===13){var i=ri(n),a=_r(n,i);if(a!==null){var c=zt();Rn(a,n,i,c)}Gh(n,i)}},Qo=function(){return Ne},Zo=function(n,i){var a=Ne;try{return Ne=n,i()}finally{Ne=a}},ir=function(n,i,a){switch(i){case"input":if(Ci(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=bl(c);if(!d)throw Error(t(90));Do(c),Ci(c,d)}}}break;case"textarea":ol(n,a);break;case"select":i=a.value,i!=null&&yn(n,!!a.multiple,i,!1)}},ul=jh,cl=Yi;var lw={usingClientEntryPoint:!1,Events:[ca,js,bl,Mr,Fr,jh]},Sa={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uw={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yl(n),n===null?null:n.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||ow,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{Oi=vu.inject(uw),Yt=vu}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw,Qt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(i))throw Error(t(200));return sw(n,i,null,a)},Qt.createRoot=function(n,i){if(!Qh(n))throw Error(t(299));var a=!1,c="",d=Lm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=qh(n,1,!1,null,null,a,!1,c,d),n[pr]=i.current,aa(n.nodeType===8?n.parentNode:n),new Kh(i)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=yl(i),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return Yi(n)},Qt.hydrate=function(n,i,a){if(!yu(i))throw Error(t(200));return _u(null,n,i,!0,a)},Qt.hydrateRoot=function(n,i,a){if(!Qh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,f="",_=Lm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=Om(i,null,n,1,a??null,d,!1,f,_),n[pr]=i.current,aa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new gu(i)},Qt.render=function(n,i,a){if(!yu(i))throw Error(t(200));return _u(null,n,i,!1,a)},Qt.unmountComponentAtNode=function(n){if(!yu(n))throw Error(t(40));return n._reactRootContainer?(Yi(function(){_u(null,null,n,!1,function(){n._reactRootContainer=null,n[pr]=null})}),!0):!1},Qt.unstable_batchedUpdates=jh,Qt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!yu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return _u(n,i,a,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var $m;function yw(){if($m)return Jh.exports;$m=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jh.exports=gw(),Jh.exports}var qm;function _w(){if(qm)return wu;qm=1;var r=yw();return wu.createRoot=r.createRoot,wu.hydrateRoot=r.hydrateRoot,wu}var vw=_w();const ww=xy(vw),Gm=[{id:"pascal",displayName:"Pascal",intensity:{Z1:"110129 bpm",Z2:"130143 bpm",Z3:"144156 bpm",Z4:"157170 bpm",Z5:"171+ bpm",BZ1:"100119 bpm",BZ2:"120133 bpm",BZ3:"134146 bpm",BZ4:"147160 bpm",BZ5:"161+ bpm"}},{id:"max",displayName:"Max",intensity:{Z1:"130147 bpm",Z2:"148162 bpm",Z3:"163177 bpm",Z4:"178192 bpm",Z5:"193+ bpm",BZ1:"120137 bpm",BZ2:"130143 bpm",BZ3:"144156 bpm",BZ4:"157170 bpm",BZ5:"171+ bpm"}},{id:"hendrik",displayName:"Hendrik",intensity:{Z1:"120143 bpm",Z2:"144157 bpm",Z3:"158170 bpm",Z4:"171184 bpm",Z5:"185+ bpm",BZ1:"105124 bpm",BZ2:"125138 bpm",BZ3:"139151 bpm",BZ4:"152165 bpm",BZ5:"166+ bpm"}}],Km=[{title:"Woche 1  Base",days:[{date:"19.1.2026",weekday:"Mo",run:`Run - Recovery
45 @Z1
5x20 Strides`},{date:"20.1.2026",weekday:"Di",run:`Run - Threshold
10 Warm Up @Z2
3x8 @Z4 P: 2
10 Cool Down @Z2`},{date:"21.1.2026",weekday:"Mi",strength:"Gym - Full Body"},{date:"22.1.2026",weekday:"Do",run:`Run - Easy
50 @Z2`},{date:"23.1.2026",weekday:"Fr",run:`Run - Long Run
14km @Z2`},{date:"24.1.2026",weekday:"Sa",bike:`Bike - Base
75 @BZ2`,athleteOverrides:{pascal:{run:`Run - Easy
45 @Z2`}}},{date:"25.1.2026",weekday:"So",strength:`Gym - Full Body
Beine reduziert`}]},{title:"Woche 2  Base",days:[{date:"26.1.2026",weekday:"Mo",run:"Rest"},{date:"27.1.2026",weekday:"Di",run:`Run - VO2Max
10 Warm Up @Z2
3x[
3 @ 4:00/km P: 2
2 @ 3:55/km P: 1:30
1 @ 3:45/km P: 2:30
]
10 Cool Down @Z2`,athleteOverrides:{hendrik:{run:`Run - VO2Max
10 Warm Up @Z2
3x[
3 @ 4:20/km P: 2
2 @ 4:15/km P: 1:30
1 @ 4:00/km P: 2:30
]
10 Cool Down @Z2`}}},{date:"28.1.2026",weekday:"Mi",strength:"Gym - Full Body"},{date:"29.1.2026",weekday:"Do",run:`Run - Easy
50 @Z2
5x20 Strides`},{date:"30.1.2026",weekday:"Fr",run:`Run - Long Run
15km @Z2`},{date:"31.1.2026",weekday:"Sa",bike:`Bike - Base
7590 @BZ2`,athleteOverrides:{pascal:{run:`Run - Easy
60 @Z2`}}},{date:"1.2.2026",weekday:"So",strength:"Gym - Full Body"}]},{title:"Woche 3  Base",days:[{date:"2.2.2026",weekday:"Mo",run:`Run - Recovery
45 @Z1
5x20 Strides`},{date:"3.2.2026",weekday:"Di",run:`Run - Threshold
10 Warm Up @Z2
2x12 @Z4 P: 2
10 Cool Down @Z2`},{date:"4.2.2026",weekday:"Mi",strength:"Gym - Full Body"},{date:"5.2.2026",weekday:"Do",bike:`Bike - Recovery
60 @BZ1`,athleteOverrides:{pascal:{run:`Run - Recovery
30 @Z1`}}},{date:"6.2.2026",weekday:"Fr",run:`Run - Long Run
16km @Z2`},{date:"7.2.2026",weekday:"Sa",bike:`Bike - Base
7590 @BZ2`,athleteOverrides:{pascal:{run:`Run - Easy
60 @Z2`}}},{date:"8.2.2026",weekday:"So",strength:"Gym - Full Body"}]},{title:"Woche 4  Base",days:[{date:"9.2.2026",weekday:"Mo",run:"Rest"},{date:"10.2.2026",weekday:"Di",run:`Run - VO2Max
10 Warm Up @Z2
6x800m @3:403:50/km P: 2 Trabpause
10 Cool Down @Z2`},{date:"11.2.2026",weekday:"Mi",strength:"Gym - Full Body"},{date:"12.2.2026",weekday:"Do",run:`Run - Easy
50 @Z2
5x20 Strides`},{date:"13.2.2026",weekday:"Fr",run:`Run - Long Run
17km @Z2`},{date:"14.2.2026",weekday:"Sa",bike:`Bike - Base
75 @BZ2`,athleteOverrides:{pascal:{run:`Run - Easy
50 @Z2`}}},{date:"15.2.2026",weekday:"So",strength:"Gym - Full Body"}]},{title:"Woche 5  Deload",days:[{date:"16.2.2026",weekday:"Mo",run:`Run - Recovery
40 @Z1`,notes:"Deload Week"},{date:"17.2.2026",weekday:"Di",run:`Run - Easy Threshold
10 Warm Up @Z2
3x6 @Z4 P: 2
10 Cool Down @Z2`,notes:"Deload Week"},{date:"18.2.2026",weekday:"Mi",strength:"Gym - Full Body (50% Volume)",notes:"Deload Week"},{date:"19.2.2026",weekday:"Do",run:`Run - Recovery
45 @Z1`,notes:"Deload Week"},{date:"20.2.2026",weekday:"Fr",run:`Run - Long Run
12km @Z2`,notes:"Deload Week"},{date:"21.2.2026",weekday:"Sa",bike:`Bike - Recovery
60 @BZ1`,notes:"Deload Week"},{date:"21.2.2026",weekday:"Sa",bike:`Bike - Recovery
60 @BZ1`,notes:"Deload Week",athleteOverrides:{pascal:{run:`Run - Recovery
30 @Z1`}}},{date:"22.2.2026",weekday:"So",strength:"Gym - Full Body (50% Volume)",notes:"Deload Week"}]},{title:"Woche 6  10k build",days:[{date:"23.2.2026",weekday:"Mo",run:`Run - Recovery
45 @Z1
5x20 Strides`,notes:"Phase 2 - 10k build starts"},{date:"24.2.2026",weekday:"Di",run:`Run - Threshold
10 Warm Up @Z2
3x8 @Z4 P: 2
10 Cool Down @Z2`},{date:"25.2.2026",weekday:"Mi",strength:"Gym - Full Body"},{date:"26.2.2026",weekday:"Do",run:`Run - Easy
45 @Z2`},{date:"27.2.2026",weekday:"Fr",run:`Run - 10k specific
10 Warm Up @Z2
4x1200m @4:00/km P: 2:30
10 Cool Down @Z2`},{date:"28.2.2026",weekday:"Sa",bike:`Bike - Base
60 @BZ2`,athleteOverrides:{pascal:{run:`Run - Easy
45 @Z2`}}},{date:"1.3.2026",weekday:"So",run:`Run - Long Run
18km @Z2`,strength:`Strength - Bodyweight
4x Max Push Ups
4x Max Pull Ups
Core`}]},{title:"Woche 7  10k build",days:[{date:"2.3.2026",weekday:"Mo",run:"Rest"},{date:"3.3.2026",weekday:"Di",run:`Run - VO2Max
10 Warm Up @Z2
5x1km @3:453:55/km P: 3
10 Cool Down @Z2`},{date:"4.3.2026",weekday:"Mi",strength:"Gym - Full Body (1 bung Beine)"},{date:"5.3.2026",weekday:"Do",run:`Run - Easy
45 @Z2
5x20 Strides`},{date:"6.3.2026",weekday:"Fr",run:`Run - 10k specific
10 Warm Up @Z2
2x2km @3:504:00/km P: 3
10 Cool Down @Z2`},{date:"7.3.2026",weekday:"Sa",bike:`Bike - Base
75 @BZ2`,athleteOverrides:{pascal:{run:`Run - Easy
60 @Z2`}}},{date:"8.3.2026",weekday:"So",run:`Run - Long Run
19km @Z2`,strength:`Strength - Bodyweight
4x Max Push Ups
4x Max Pull Ups
Core`}]},{title:"Woche 8  10k build",days:[{date:"9.3.2026",weekday:"Mo",run:`Run - Recovery
45 @Z1
5x20 Strides`,notes:"Schlaf ist sehr wichtig in dieser Woche!"},{date:"10.3.2026",weekday:"Di",run:`Run - Threshold
10 Warm Up @Z2
3x6 @Z4 P: 2
10 Cool Down @Z2`},{date:"11.3.2026",weekday:"Mi",strength:"Gym - Full Body"},{date:"12.3.2026",weekday:"Do",bike:`Bike - Recovery
60 @BZ1`},{date:"13.3.2026",weekday:"Fr",run:`Run - 10k specific
10 Warm Up @Z2
4x1km @3:554:00/km P: 90 jog
10 Cool Down @Z2`},{date:"14.3.2026",weekday:"Sa",bike:`Bike - Base
75 @BZ2`,athleteOverrides:{pascal:{run:`Run - Easy
60 @Z2`}}},{date:"15.3.2026",weekday:"So",run:`Run - Long Run
15km @Z2
3km @4:204:25/km`,strength:`Strength - Bodyweight
4x Max Push Ups
4x Max Pull Ups
Core`}]},{title:"Woche 9  10k build",days:[{date:"16.3.2026",weekday:"Mo",run:"Rest"},{date:"17.3.2026",weekday:"Di",run:`Run - VO2Max
10 Warm Up @Z2
6x800m @3:353:45/km P: 2 Trabpause
10 Cool Down @Z2`,notes:"Sehr toughe Woche; wenn mde: statt dessen 3x6 @Z4 P: 2"},{date:"18.3.2026",weekday:"Mi",strength:"Gym - Full Body (1 bung Beine)"},{date:"19.3.2026",weekday:"Do",run:`Run - Easy
45 @Z2
5x20 Strides`},{date:"20.3.2026",weekday:"Fr",run:`Run - 10k specific
10 Warm Up @Z2
2x2km @3:504:00/km P: 3
10 Cool Down @Z2`},{date:"21.3.2026",weekday:"Sa",bike:`Bike - Base
7590 @BZ2`,athleteOverrides:{pascal:{run:`Run - Easy
60 @Z2`}}},{date:"22.3.2026",weekday:"So",run:`Run - Long Run
16km @Z2`,strength:`Strength - Bodyweight
4x Max Push Ups
4x Max Pull Ups
Core`}]},{title:"Woche 10  10k build",days:[{date:"23.3.2026",weekday:"Mo",run:`Run - Recovery
45 @Z1
5x20 Strides`},{date:"24.3.2026",weekday:"Di",run:`Run - Threshold
10 Warm Up @Z2
4x6 @Z4 P: 2
10 Cool Down @Z2`},{date:"25.3.2026",weekday:"Mi",strength:"Gym - Full Body"},{date:"26.3.2026",weekday:"Do",run:`Run - Easy
40 @Z2`},{date:"27.3.2026",weekday:"Fr",run:`Run - 10k specific
10 Warm Up @Z2
3x2km @4:054:15/km P: 3
10 Cool Down @Z2`},{date:"28.3.2026",weekday:"Sa",bike:`Bike - Recovery
60 @BZ1`,athleteOverrides:{pascal:{run:`Run - Recovery
30 @Z1`}}},{date:"29.3.2026",weekday:"So",run:`Run - Long Run
20km @Z2`,strength:`Strength - Bodyweight
4x Max Push Ups
4x Max Pull Ups
Core`}]},{title:"Woche 11  Deload",days:[{date:"30.3.2026",weekday:"Mo",run:"Rest"},{date:"31.3.2026",weekday:"Di",run:`Run - Easy Threshold
10 Warm Up @Z2
3x6 @4:154:25/km P: 2
10 Cool Down @Z2`,notes:"Deload Week"},{date:"1.4.2026",weekday:"Mi",strength:"Gym - Full Body (50% Volume)",notes:"Deload Week"},{date:"2.4.2026",weekday:"Do",run:`Run - Easy
40 @Z2
5x20 Strides`,notes:"Deload Week"},{date:"3.4.2026",weekday:"Fr",run:`Run - Steady
810km @4:354:45/km`,notes:"Deload Week"},{date:"4.4.2026",weekday:"Sa",bike:`Bike - Recovery
60 @BZ1`,notes:"Deload Week"},{date:"5.4.2026",weekday:"So",run:`Run - Long Run
1213km @Z2`,strength:`Strength - Bodyweight
4x Max Push Ups
4x Max Pull Ups
Core`,notes:"Deload Week"}]},{title:"Woche 12  HM Peak",days:[{date:"6.4.2026",weekday:"Mo",run:`Run - Recovery
45 @Z1
5x20 Strides`,notes:"Phase 3 - HM Peak starts"},{date:"7.4.2026",weekday:"Di",run:`Run - HM specific
10 Warm Up @Z2
3x3km @4:124:18/km P: 3
10 Cool Down @Z2`},{date:"8.4.2026",weekday:"Mi",strength:"Gym - Full Body (1 bung Beine)"},{date:"9.4.2026",weekday:"Do",run:`Run - Easy
45 @Z2`},{date:"10.4.2026",weekday:"Fr",run:`Run - Recovery
45 @Z1
5x20 Strides`},{date:"11.4.2026",weekday:"Sa",bike:`Bike - Recovery
60 @BZ1`},{date:"12.4.2026",weekday:"So",run:`Run - Long Run
10km @Z2
3x[
2km @4:15/km
1km @Z2
]
1km @Z2`,strength:`Strength - Bodyweight
4x Max Push Ups
4x Max Pull Ups
Core`}]},{title:"Woche 13  HM Peak",days:[{date:"13.4.2026",weekday:"Mo",run:"Rest"},{date:"14.4.2026",weekday:"Di",run:`Run - VO2Max
10 Warm Up @Z2
6x800m @3:353:45/km P: 2 Trabpause
10 Cool Down @Z2`},{date:"15.4.2026",weekday:"Mo",run:"Rest"},{date:"16.4.2026",weekday:"Do",run:`Run - Easy
45 @Z2
5x20 Strides`},{date:"17.4.2026",weekday:"Fr",run:`Run - HM specific
10 Warm Up @Z2
2x5km @4:124:18/km P: 34
10 Cool Down @Z2`},{date:"18.4.2026",weekday:"Sa",bike:`Bike - Recovery
60 @BZ1`},{date:"19.4.2026",weekday:"So",run:`Run - Long Run
18km @Z2`,strength:`Strength - Bodyweight
2x Max Push Ups
2x Max Pull Ups`}]},{title:"Woche 14  10k Race Week (RBB Lauf)",days:[{date:"20.4.2026",weekday:"Mo",run:`Run - Recovery
40 @Z1
5x20 Strides`},{date:"21.4.2026",weekday:"Di",run:`Run - 10k specific
10 Warm Up @Z2
6x400m @3:303:40/km P: 200m easy jog
10 Cool Down @Z2`},{date:"22.4.2026",weekday:"Mi",strength:"Gym - Full Body (keine Beine)"},{date:"23.4.2026",weekday:"Do",run:`Run - Easy
3040 @Z2`},{date:"24.4.2026",weekday:"Fr",run:"Rest oder 20' Shakeout"},{date:"25.4.2026",weekday:"Sa",run:"Rest"},{date:"26.4.2026",weekday:"So",run:`Race Day - 10k (RBB Lauf)
Zielpace: 3:504:00/km`}]},{title:"Woche 15  Post-Race Recovery",days:[{date:"27.4.2026",weekday:"Mo",run:`Run - Recovery
30 @Z1`},{date:"28.4.2026",weekday:"Di",bike:`Bike - Recovery
30 @BZ1`,notes:"Falls starker Muskelkater: Bike entfallen lassen"},{date:"29.4.2026",weekday:"Mi",strength:"Gym - Full Body (50% Volume, keine Beine)"},{date:"30.4.2026",weekday:"Do",run:`Run - Easy
45 @Z2`},{date:"1.5.2026",weekday:"Fr",run:`Run - Threshold
10 Warm Up @Z2
2x6 @Z4 P: 2
10 Cool Down @Z2`},{date:"2.5.2026",weekday:"Sa",bike:`Bike - Base
75 @BZ2`},{date:"3.5.2026",weekday:"So",run:`Run - Long Run
20km @Z2`,strength:`Strength - Bodyweight
4x Max Push Ups
4x Max Pull Ups
Core`}]},{title:"Woche 16  HM Peak",days:[{date:"4.5.2026",weekday:"Mo",run:`Run - Recovery
40 @Z1
5x20 Strides`},{date:"5.5.2026",weekday:"Di",run:`Run - HM specific
10 Warm Up @Z2
3x4km @4:124:18/km P: 4
10 Cool Down @Z2`},{date:"6.5.2026",weekday:"Mi",strength:"Gym - Full Body (1 bung Beine)"},{date:"7.5.2026",weekday:"Do",run:`Run - Easy
45 @Z2`},{date:"8.5.2026",weekday:"Fr",run:`Run - Recovery
45 @Z1
5x20 Strides`},{date:"9.5.2026",weekday:"Sa",bike:`Bike - Recovery
60 @BZ1`},{date:"10.5.2026",weekday:"So",run:`Run - Long Run
14km @Z2
8km @4:15/km`,strength:`Strength - Bodyweight
4x Max Push Ups
4x Max Pull Ups
Core`}]},{title:"Woche 17  HM Peak",days:[{date:"11.5.2026",weekday:"Mo",run:"Rest"},{date:"12.5.2026",weekday:"Di",run:`Run - Easy
45 @Z2
5x20 Strides`},{date:"13.5.2026",weekday:"Mi",strength:"Gym - Full Body (1 bung Beine)"},{date:"14.5.2026",weekday:"Do",run:`Run - Easy
45 @Z2
5x20 Strides`},{date:"15.5.2026",weekday:"Fr",run:`Run - HM specific
10 Warm Up @Z2
2x15 @4:104:18/km P: 3
10 Cool Down @Z2`},{date:"16.5.2026",weekday:"Sa",bike:`Bike - Base
7590 @BZ2`},{date:"17.5.2026",weekday:"So",run:`Run - Long Run
22km @Z2`,strength:`Strength - Bodyweight
3x Max Push Ups
3x Max Pull Ups
Core`}]},{title:"Woche 18  HM Peak",days:[{date:"18.5.2026",weekday:"Mo",run:`Run - Recovery
45 @Z1
5x20 Strides`},{date:"19.5.2026",weekday:"Di",run:`Run - Threshold
10 Warm Up @Z2
2x8 @Z4 P: 2
10 Cool Down @Z2`,notes:"Alternative: 45 @Z2 + 5x20 Strides"},{date:"20.5.2026",weekday:"Mi",strength:"Gym - Upper Body"},{date:"21.5.2026",weekday:"Do",run:`Run - Easy
45 @Z2`},{date:"22.5.2026",weekday:"Fr",run:`Run - HM specific
10 Warm Up @Z2
6x2km @4:104:15/km P: 90
10 Cool Down @Z2`},{date:"23.5.2026",weekday:"Sa",bike:`Bike - Recovery
60 @BZ1`},{date:"24.5.2026",weekday:"So",run:`Run - Long Run
18km @Z2`}]},{title:"Woche 19  Taper",days:[{date:"25.5.2026",weekday:"Mo",run:`Run - Recovery
40 @Z1`,notes:"Taper Week"},{date:"26.5.2026",weekday:"Di",run:`Run - Race sharpening
10 Warm Up @Z2
3x2km @4:124:18/km P: 90
10 Cool Down @Z2`,notes:"Taper Week"},{date:"27.5.2026",weekday:"Mi",notes:`OFF / optional easy mobility
Taper Week`},{date:"28.5.2026",weekday:"Do",run:`Run - Easy
35 @Z2`,notes:"Taper Week"},{date:"29.5.2026",weekday:"Fr",notes:`Mobility
Taper Week`},{date:"30.5.2026",weekday:"Sa",run:`Run - Easy
3035 @Z1`,notes:"Taper Week"},{date:"31.5.2026",weekday:"So",notes:`Mobility
Taper Week`}]},{title:"Woche 20  Race Week",days:[{date:"1.6.2026",weekday:"Mo",run:`Run - Recovery
40 @Z1`,notes:"Race Week"},{date:"2.6.2026",weekday:"Di",run:`Run - Race sharpening
10 Warm Up @Z2
4x1km @4:124:18/km P: 90
10 Cool Down @Z2`,notes:"Race Week"},{date:"3.6.2026",weekday:"Mi",notes:`Mobility
Race Week`},{date:"4.6.2026",weekday:"Do",run:`Run - Easy
3035 @Z1`,notes:"Race Week"},{date:"5.6.2026",weekday:"Fr",run:`Run - Shakeout
1520 @Z1`,notes:"Race Week"},{date:"6.6.2026",weekday:"Sa",notes:`OFF & Carbs & Beine hoch  du hast so viel trainiert, du schaffst das!!!
Race Week`},{date:"7.6.2026",weekday:"So",run:`Race Day - HM (Schlsserlauf)
Zielpace: 4:15/km`,notes:"Race Week"}]}],Ew=({athletes:r,selected:e,onSelect:t})=>O.jsx("div",{style:{display:"flex",gap:12,marginBottom:24},children:r.map(s=>O.jsx("button",{onClick:()=>t(s.id),style:{padding:"8px 20px",borderRadius:20,border:e===s.id?"2px solid #1976d2":"1px solid #ccc",background:e===s.id?"#e3f2fd":"#fff",fontWeight:e===s.id?600:400,cursor:"pointer"},children:s.displayName},s.id))}),Tw=r=>{const e=(r.run||r.bike||r.strength||"").split(`
`)[0].toLowerCase();return e.includes("gym")?"#f3eaff":e.includes("recovery")||e.includes("rest")?"#f3f3f3":e.includes("easy")||e.includes("base")?"#e6f7e6":e.includes("threshold")||e.includes("10k")?"#fff4e0":e.includes("vo2max")?"#ffeaea":e.includes("long run")?"#e6f0fa":"#fff"};function Qm(r,e){const t=/\b(B?Z[1-5])\b/g;return r.split(`
`).map((s,o)=>{const u=[];let h=0,m;for(;(m=t.exec(s))!==null;){const[y]=m,v=m.index;v>h&&u.push(s.slice(h,v)),u.push(O.jsx("span",{style:{color:"#222"},children:e.intensity[y]||y},y+o)),h=v+y.length}return u.push(s.slice(h)),O.jsx("div",{children:u},o)})}function td(r,e){const t=r.split(`
`);return O.jsxs("div",{style:{marginTop:8},children:[O.jsx("div",{style:{fontWeight:700},children:Qm(t[0],e)}),t.slice(1).map((s,o)=>O.jsx("div",{children:Qm(s,e)},o))]})}const Iw=({week:r,athlete:e})=>O.jsx("div",{className:"week-grid-responsive",children:r.map(t=>{const s=t.athleteOverrides?.[e.id];let o=t.run,u=t.bike,h=t.strength,m=t.notes;s&&(o=s.run!==void 0?s.run:void 0,u=s.bike!==void 0?s.bike:void 0,h=s.strength!==void 0?s.strength:void 0,m=s.notes!==void 0?s.notes:m);const[y,v]=We.useState(!1);return O.jsxs("div",{className:"workout-card-responsive",style:{background:Tw({...t,run:o,bike:u,strength:h})},children:[O.jsxs("div",{style:{fontWeight:700,fontSize:18,marginBottom:4},children:[t.date," ",O.jsx("span",{style:{fontWeight:400,color:"#888",fontSize:15},children:t.weekday})]}),o&&td(o,e),u&&td(u,e),h&&td(h,e),!o&&!u&&!h&&O.jsx("div",{style:{color:"#888",marginTop:12},children:"Ruhetag"}),m&&O.jsxs("div",{style:{marginTop:12},children:[O.jsxs("button",{style:{background:"#f0f0f0",border:"1px solid #ddd",borderRadius:6,color:"#222",cursor:"pointer",fontWeight:500,fontSize:15,padding:"6px 14px 6px 10px",display:"flex",alignItems:"center",gap:8,boxShadow:y?"0 2px 8px #0001":void 0,transition:"box-shadow 0.2s"},onClick:()=>v(E=>!E),children:[O.jsx("span",{style:{display:"inline-block",transform:y?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s",fontSize:18,marginRight:6},children:">"}),"Notiz ",y?"ausblenden":"anzeigen"]}),y&&O.jsx("div",{style:{marginTop:8,background:"#f8f8fa",borderRadius:8,padding:10,color:"#333",fontSize:15},children:m})]})]},t.date+t.weekday)})}),Sw=({title:r,children:e,defaultOpen:t})=>{const[s,o]=We.useState(!!t);return O.jsxs("div",{style:{marginBottom:24,borderRadius:12,boxShadow:"0 2px 8px #0001",background:"#fff"},children:[O.jsxs("div",{style:{cursor:"pointer",fontWeight:700,fontSize:22,padding:"18px 24px",borderBottom:s?"1px solid #eee":void 0,background:s?"#f5f7fa":"#f0f0f0",borderTopLeftRadius:12,borderTopRightRadius:12,userSelect:"none"},onClick:()=>o(u=>!u),children:[r," ",O.jsx("span",{style:{float:"right",fontWeight:400,fontSize:18},children:s?"":""})]}),s&&O.jsx("div",{style:{padding:24},children:e})]})},kw=()=>{};var Zm={};const Dy=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Rw=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Ny={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,E=u>>2,R=(u&3)<<4|m>>4;let x=(m&15)<<2|v>>6,B=v&63;y||(B=64,h||(x=64)),s.push(t[E],t[R],t[x],t[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Dy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Rw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const R=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||v==null||R==null)throw new Aw;const x=u<<2|m>>4;if(s.push(x),v!==64){const B=m<<4&240|v>>2;if(s.push(B),R!==64){const X=v<<6&192|R;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cw=function(r){const e=Dy(r);return Ny.encodeByteArray(e,!0)},Fu=function(r){return Cw(r).replace(/\./g,"")},Vy=function(r){try{return Ny.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xw=()=>Pw().__FIREBASE_DEFAULTS__,Dw=()=>{if(typeof process>"u"||typeof Zm>"u")return;const r=Zm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Nw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Vy(r[1]);return e&&JSON.parse(e)},ac=()=>{try{return kw()||xw()||Dw()||Nw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Oy=r=>ac()?.emulatorHosts?.[r],Vw=r=>{const e=Oy(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},by=()=>ac()?.config,Ly=r=>ac()?.[`_${r}`];class Ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function My(r){return(await fetch(r,{credentials:"include"})).ok}function bw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fu(JSON.stringify(t)),Fu(JSON.stringify(h)),""].join(".")}const Na={};function Lw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Na))Na[e]?r.emulator.push(e):r.prod.push(e);return r}function Mw(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Ym=!1;function Fy(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Na[r]===e||Na[r]||Ym)return;Na[r]=e;function t(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=Lw().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,B){x.setAttribute("width","24"),x.setAttribute("id",B),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function v(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ym=!0,h()},x}function E(x,B){x.setAttribute("id",B),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function R(){const x=Mw(s),B=t("text"),X=document.getElementById(B)||document.createElement("span"),H=t("learnmore"),q=document.getElementById(H)||document.createElement("a"),ce=t("preprendIcon"),ye=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ve=x.element;m(ve),E(q,H);const Ce=v();y(ye,ce),ve.append(ye,X,q,Ce),document.body.appendChild(ve)}u?(X.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function Uw(){const r=ac()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ww(){const r=jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Hw(){return!Uw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $w(){try{return typeof indexedDB=="object"}catch{return!1}}function qw(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const Gw="FirebaseError";class xr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Gw,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ka.prototype.create)}}class Ka{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Kw(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new xr(o,m,s)}}function Kw(r,e){return r.replace(Qw,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Qw=/\{\$([^}]+)}/g;function Zw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function rs(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Jm(u)&&Jm(h)){if(!rs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Jm(r){return r!==null&&typeof r=="object"}function Qa(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Aa(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ca(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function Yw(r,e){const t=new Jw(r,e);return t.subscribe.bind(t)}class Jw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Xw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=nd),o.error===void 0&&(o.error=nd),o.complete===void 0&&(o.complete=nd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xw(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function nd(){}function Wt(r){return r&&r._delegate?r._delegate:r}class is{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ts="[DEFAULT]";class eE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Ow;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nE(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tE(r){return r===ts?void 0:r}function nE(r){return r.instantiationMode==="EAGER"}class rE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const iE={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},sE=Pe.INFO,oE={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},aE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=oE[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jd{constructor(e){this.name=e,this._logLevel=sE,this._logHandler=aE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const lE=(r,e)=>e.some(t=>r instanceof t);let Xm,eg;function uE(){return Xm||(Xm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cE(){return eg||(eg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uy=new WeakMap,pd=new WeakMap,jy=new WeakMap,rd=new WeakMap,Bd=new WeakMap;function hE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(pi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Uy.set(t,r)}).catch(()=>{}),Bd.set(e,r),e}function dE(r){if(pd.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});pd.set(r,e)}let md={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return pd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fE(r){md=r(md)}function pE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(id(this),e,...t);return jy.set(s,e.sort?e.sort():[e]),pi(s)}:cE().includes(r)?function(...e){return r.apply(id(this),e),pi(Uy.get(this))}:function(...e){return pi(r.apply(id(this),e))}}function mE(r){return typeof r=="function"?pE(r):(r instanceof IDBTransaction&&dE(r),lE(r,uE())?new Proxy(r,md):r)}function pi(r){if(r instanceof IDBRequest)return hE(r);if(rd.has(r))return rd.get(r);const e=mE(r);return e!==r&&(rd.set(r,e),Bd.set(e,r)),e}const id=r=>Bd.get(r);function gE(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=pi(h);return s&&h.addEventListener("upgradeneeded",y=>{s(pi(h.result),y.oldVersion,y.newVersion,pi(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const yE=["get","getKey","getAll","getAllKeys","count"],_E=["put","add","delete","clear"],sd=new Map;function tg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sd.get(e))return sd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=_E.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yE.includes(t)))return;const u=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),o&&y.done]))[0]};return sd.set(e,u),u}fE(r=>({...r,get:(e,t,s)=>tg(e,t)||r.get(e,t,s),has:(e,t)=>!!tg(e,t)||r.has(e,t)}));class vE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function wE(r){return r.getComponent()?.type==="VERSION"}const gd="@firebase/app",ng="0.14.7";const Rr=new jd("@firebase/app"),EE="@firebase/app-compat",TE="@firebase/analytics-compat",IE="@firebase/analytics",SE="@firebase/app-check-compat",kE="@firebase/app-check",RE="@firebase/auth",AE="@firebase/auth-compat",CE="@firebase/database",PE="@firebase/data-connect",xE="@firebase/database-compat",DE="@firebase/functions",NE="@firebase/functions-compat",VE="@firebase/installations",OE="@firebase/installations-compat",bE="@firebase/messaging",LE="@firebase/messaging-compat",ME="@firebase/performance",FE="@firebase/performance-compat",UE="@firebase/remote-config",jE="@firebase/remote-config-compat",BE="@firebase/storage",zE="@firebase/storage-compat",WE="@firebase/firestore",HE="@firebase/ai",$E="@firebase/firestore-compat",qE="firebase",GE="12.8.0";const yd="[DEFAULT]",KE={[gd]:"fire-core",[EE]:"fire-core-compat",[IE]:"fire-analytics",[TE]:"fire-analytics-compat",[kE]:"fire-app-check",[SE]:"fire-app-check-compat",[RE]:"fire-auth",[AE]:"fire-auth-compat",[CE]:"fire-rtdb",[PE]:"fire-data-connect",[xE]:"fire-rtdb-compat",[DE]:"fire-fn",[NE]:"fire-fn-compat",[VE]:"fire-iid",[OE]:"fire-iid-compat",[bE]:"fire-fcm",[LE]:"fire-fcm-compat",[ME]:"fire-perf",[FE]:"fire-perf-compat",[UE]:"fire-rc",[jE]:"fire-rc-compat",[BE]:"fire-gcs",[zE]:"fire-gcs-compat",[WE]:"fire-fst",[$E]:"fire-fst-compat",[HE]:"fire-vertex","fire-js":"fire-js",[qE]:"fire-js-all"};const Uu=new Map,QE=new Map,_d=new Map;function rg(r,e){try{r.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function po(r){const e=r.name;if(_d.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;_d.set(e,r);for(const t of Uu.values())rg(t,r);for(const t of QE.values())rg(t,r);return!0}function zd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function An(r){return r==null?!1:r.settings!==void 0}const ZE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new Ka("app","Firebase",ZE);class YE{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}const Io=GE;function By(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:yd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(t||(t=by()),!t)throw mi.create("no-options");const u=Uu.get(o);if(u){if(rs(t,u.options)&&rs(s,u.config))return u;throw mi.create("duplicate-app",{appName:o})}const h=new rE(o);for(const y of _d.values())h.addComponent(y);const m=new YE(t,s,h);return Uu.set(o,m),m}function zy(r=yd){const e=Uu.get(r);if(!e&&r===yd&&by())return By();if(!e)throw mi.create("no-app",{appName:r});return e}function gi(r,e,t){let s=KE[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(h.join(" "));return}po(new is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const JE="firebase-heartbeat-database",XE=1,Fa="firebase-heartbeat-store";let od=null;function Wy(){return od||(od=gE(JE,XE,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fa)}catch(t){console.warn(t)}}}}).catch(r=>{throw mi.create("idb-open",{originalErrorMessage:r.message})})),od}async function e1(r){try{const t=(await Wy()).transaction(Fa),s=await t.objectStore(Fa).get(Hy(r));return await t.done,s}catch(e){if(e instanceof xr)Rr.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function ig(r,e){try{const s=(await Wy()).transaction(Fa,"readwrite");await s.objectStore(Fa).put(e,Hy(r)),await s.done}catch(t){if(t instanceof xr)Rr.warn(t.message);else{const s=mi.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(s.message)}}}function Hy(r){return`${r.name}!${r.options.appId}`}const t1=1024,n1=30;class r1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new s1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>n1){const o=o1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sg(),{heartbeatsToSend:t,unsentEntries:s}=i1(this._heartbeatsCache.heartbeats),o=Fu(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rr.warn(e),""}}}function sg(){return new Date().toISOString().substring(0,10)}function i1(r,e=t1){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),og(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),og(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class s1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $w()?qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await e1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ig(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ig(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function og(r){return Fu(JSON.stringify({version:2,heartbeats:r})).length}function o1(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}function a1(r){po(new is("platform-logger",e=>new vE(e),"PRIVATE")),po(new is("heartbeat",e=>new r1(e),"PRIVATE")),gi(gd,ng,r),gi(gd,ng,"esm2020"),gi("fire-js","")}a1("");function $y(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l1=$y,qy=new Ka("auth","Firebase",$y());const ju=new jd("@firebase/auth");function u1(r,...e){ju.logLevel<=Pe.WARN&&ju.warn(`Auth (${Io}): ${r}`,...e)}function Cu(r,...e){ju.logLevel<=Pe.ERROR&&ju.error(`Auth (${Io}): ${r}`,...e)}function Dn(r,...e){throw Wd(r,...e)}function Jn(r,...e){return Wd(r,...e)}function Gy(r,e,t){const s={...l1(),[e]:t};return new Ka("auth","Firebase",s).create(e,{appName:r.name})}function yi(r){return Gy(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wd(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return qy.create(r,...e)}function me(r,e,...t){if(!r)throw Wd(e,...t)}function Ir(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Cu(e),new Error(e)}function Ar(r,e){r||Ir(e)}function vd(){return typeof self<"u"&&self.location?.href||""}function c1(){return ag()==="http:"||ag()==="https:"}function ag(){return typeof self<"u"&&self.location?.protocol||null}function h1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c1()||Bw()||"connection"in navigator)?navigator.onLine:!0}function d1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Za{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=Fw()||zw()}get(){return h1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hd(r,e){Ar(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Ky{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const f1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const p1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],m1=new Za(3e4,6e4);function ls(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ai(r,e,t,s,o={}){return Qy(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Qa({key:r.config.apiKey,...h}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:y,...u};return jw()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(v.credentials="include"),Ky.fetch()(await Zy(r,r.config.apiHost,t,m),v)})}async function Qy(r,e,t){r._canInitEmulator=!1;const s={...f1,...e};try{const o=new y1(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Eu(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[y,v]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(r,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw Eu(r,"email-already-in-use",h);if(y==="USER_DISABLED")throw Eu(r,"user-disabled",h);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Gy(r,E,v);Dn(r,E)}}catch(o){if(o instanceof xr)throw o;Dn(r,"network-request-failed",{message:String(o)})}}async function lc(r,e,t,s,o={}){const u=await Ai(r,e,t,s,o);return"mfaPendingCredential"in u&&Dn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Zy(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?Hd(r.config,o):`${r.config.apiScheme}://${o}`;return p1.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function g1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Jn(this.auth,"network-request-failed")),m1.get())})}}function Eu(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Jn(r,e,s);return o.customData._tokenResponse=t,o}function lg(r){return r!==void 0&&r.enterprise!==void 0}class _1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return g1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function v1(r,e){return Ai(r,"GET","/v2/recaptchaConfig",ls(r,e))}async function w1(r,e){return Ai(r,"POST","/v1/accounts:delete",e)}async function Bu(r,e){return Ai(r,"POST","/v1/accounts:lookup",e)}function Va(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E1(r,e=!1){const t=Wt(r),s=await t.getIdToken(e),o=$d(s);me(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Va(ad(o.auth_time)),issuedAtTime:Va(ad(o.iat)),expirationTime:Va(ad(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ad(r){return Number(r)*1e3}function $d(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vy(t);return o?JSON.parse(o):(Cu("Failed to decode base64 JWT payload"),null)}catch(o){return Cu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ug(r){const e=$d(r);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ua(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof xr&&T1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function T1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class I1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zu(r){const e=r.auth,t=await r.getIdToken(),s=await Ua(r,Bu(e,{idToken:t}));me(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Yy(o.providerUserInfo):[],h=k1(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!h?.length,v=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new wd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,E)}async function S1(r){const e=Wt(r);await zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Yy(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function R1(r,e){const t=await Qy(r,{},async()=>{const s=Qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Zy(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(y.credentials="include"),Ky.fetch()(h,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function A1(r,e){return Ai(r,"POST","/v2/accounts:revokeToken",ls(r,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ug(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=ug(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await R1(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new oo;return s&&(me(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(me(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(me(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function ai(r,e){me(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Cn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new I1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ua(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return E1(this,e)}reload(){return S1(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await zu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Ua(this,w1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,y=t._redirectEventId??void 0,v=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:R,emailVerified:x,isAnonymous:B,providerData:X,stsTokenManager:H}=t;me(R&&H,e,"internal-error");const q=oo.fromJSON(this.name,H);me(typeof R=="string",e,"internal-error"),ai(s,e.name),ai(o,e.name),me(typeof x=="boolean",e,"internal-error"),me(typeof B=="boolean",e,"internal-error"),ai(u,e.name),ai(h,e.name),ai(m,e.name),ai(y,e.name),ai(v,e.name),ai(E,e.name);const ce=new Cn({uid:R,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:B,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:v,lastLoginAt:E});return X&&Array.isArray(X)&&(ce.providerData=X.map(ye=>({...ye}))),y&&(ce._redirectEventId=y),ce}static async _fromIdTokenResponse(e,t,s=!1){const o=new oo;o.updateFromServerResponse(t);const u=new Cn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await zu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];me(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Yy(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const y=new Cn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,v),y}}const cg=new Map;function Sr(r){Ar(r instanceof Function,"Expected a class definition");let e=cg.get(r);return e?(Ar(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,cg.set(r,e),e)}class Jy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Jy.type="NONE";const hg=Jy;function Pu(r,e,t){return`firebase:${r}:${e}:${t}`}class ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Pu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Pu("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bu(this.auth,{idToken:e}).catch(()=>{});return t?Cn._fromGetAccountInfoResponse(this.auth,t,e):null}return Cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ao(Sr(hg),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Sr(hg);const h=Pu(s,e.config.apiKey,e.name);let m=null;for(const v of t)try{const E=await v._get(h);if(E){let R;if(typeof E=="string"){const x=await Bu(e,{idToken:E}).catch(()=>{});if(!x)break;R=await Cn._fromGetAccountInfoResponse(e,x,E)}else R=Cn._fromJSON(e,E);v!==u&&(m=R),u=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new ao(u,e,s):(u=y[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new ao(u,e,s))}}function dg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i_(e))return"Blackberry";if(s_(e))return"Webos";if(e_(e))return"Safari";if((e.includes("chrome/")||t_(e))&&!e.includes("edge/"))return"Chrome";if(r_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function Xy(r=jt()){return/firefox\//i.test(r)}function e_(r=jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t_(r=jt()){return/crios\//i.test(r)}function n_(r=jt()){return/iemobile/i.test(r)}function r_(r=jt()){return/android/i.test(r)}function i_(r=jt()){return/blackberry/i.test(r)}function s_(r=jt()){return/webos/i.test(r)}function qd(r=jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function C1(r=jt()){return qd(r)&&!!window.navigator?.standalone}function P1(){return Ww()&&document.documentMode===10}function o_(r=jt()){return qd(r)||r_(r)||s_(r)||i_(r)||/windows phone/i.test(r)||n_(r)}function a_(r,e=[]){let t;switch(r){case"Browser":t=dg(jt());break;case"Worker":t=`${dg(jt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Io}/${s}`}class x1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const y=e(u);h(y)}catch(y){m(y)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function D1(r,e={}){return Ai(r,"GET","/v2/passwordPolicy",ls(r,e))}const N1=6;class V1{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??N1,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class O1{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fg(this),this.idTokenSubscription=new fg(this),this.beforeStateQueue=new x1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bu(this,{idToken:e}),s=await Cn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(An(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(yi(this));const t=e?Wt(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D1(this),t=new V1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ka("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await A1(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sr(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,o);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&u1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function So(r){return Wt(r)}class fg{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yw(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let uc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b1(r){uc=r}function l_(r){return uc.loadJS(r)}function L1(){return uc.recaptchaEnterpriseScript}function M1(){return uc.gapiScript}function F1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class U1{constructor(){this.enterprise=new j1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class j1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const B1="recaptcha-enterprise",u_="NO_RECAPTCHA";class z1{constructor(e){this.type=B1,this.auth=So(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{v1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new _1(y);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(y=>{m(y)})})}function o(u,h,m){const y=window.grecaptcha;lg(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(u_)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U1().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&lg(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let y=L1();y.length!==0&&(y+=m),l_(y).then(()=>{o(m,u,h)}).catch(v=>{h(v)})}}).catch(m=>{h(m)})})}}async function pg(r,e,t,s=!1,o=!1){const u=new z1(r);let h;if(o)h=u_;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function mg(r,e,t,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await pg(r,e,t,t==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await pg(r,e,t,t==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function W1(r,e){const t=zd(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(rs(u,e??{}))return o;Dn(o,"already-initialized")}return t.initialize({options:e})}function H1(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function $1(r,e,t){const s=So(r);me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=c_(e),{host:h,port:m}=q1(e),y=m===null?"":`:${m}`,v={url:`${u}//${h}${y}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){me(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),me(rs(v,s.config.emulator)&&rs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,To(h)?(My(`${u}//${h}${y}`),Fy("Auth",!0)):G1()}function c_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function q1(r){const e=c_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:gg(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:gg(h)}}}function gg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function G1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Gd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function K1(r,e){return Ai(r,"POST","/v1/accounts:signUp",e)}async function Q1(r,e){return lc(r,"POST","/v1/accounts:signInWithPassword",ls(r,e))}async function Z1(r,e){return lc(r,"POST","/v1/accounts:signInWithEmailLink",ls(r,e))}async function Y1(r,e){return lc(r,"POST","/v1/accounts:signInWithEmailLink",ls(r,e))}class ja extends Gd{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ja(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ja(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,t,"signInWithPassword",Q1);case"emailLink":return Z1(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,s,"signUpPassword",K1);case"emailLink":return Y1(e,{idToken:t,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lo(r,e){return lc(r,"POST","/v1/accounts:signInWithIdp",ls(r,e))}const J1="http://localhost";class ss extends Gd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new ss(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return lo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,lo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,lo(e,t)}buildRequest(){const e={requestUri:J1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qa(t)}return e}}function X1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eT(r){const e=Aa(Ca(r)).link,t=e?Aa(Ca(e)).deep_link_id:null,s=Aa(Ca(r)).deep_link_id;return(s?Aa(Ca(s)).link:null)||s||t||e||r}class Kd{constructor(e){const t=Aa(Ca(e)),s=t.apiKey??null,o=t.oobCode??null,u=X1(t.mode??null);me(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=eT(e);try{return new Kd(t)}catch{return null}}}class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,t){return ja._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Kd.parseLink(t);return me(s,"argument-error"),ja._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class h_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ya extends h_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class li extends Ya{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";class ui extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ss._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ui.credential(t,s)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";class ci extends Ya{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";class hi extends Ya{constructor(){super("twitter.com")}static credential(e,t){return ss._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return hi.credential(t,s)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Cn._fromIdTokenResponse(e,s,o),h=yg(s);return new mo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=yg(s);return new mo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function yg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Wu extends xr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Wu(e,t,s,o)}}function d_(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Wu._fromErrorAndOperation(r,u,e,s):u})}async function tT(r,e,t=!1){const s=await Ua(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return mo._forOperation(r,"link",s)}async function nT(r,e,t=!1){const{auth:s}=r;if(An(s.app))return Promise.reject(yi(s));const o="reauthenticate";try{const u=await Ua(r,d_(s,o,e,r),t);me(u.idToken,s,"internal-error");const h=$d(u.idToken);me(h,s,"internal-error");const{sub:m}=h;return me(r.uid===m,s,"user-mismatch"),mo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Dn(s,"user-mismatch"),u}}async function f_(r,e,t=!1){if(An(r.app))return Promise.reject(yi(r));const s="signIn",o=await d_(r,s,e),u=await mo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function rT(r,e){return f_(So(r),e)}async function iT(r){const e=So(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function sT(r,e,t){return An(r.app)?Promise.reject(yi(r)):rT(Wt(r),ko.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iT(r),s})}function oT(r,e,t,s){return Wt(r).onIdTokenChanged(e,t,s)}function aT(r,e,t){return Wt(r).beforeAuthStateChanged(e,t)}function lT(r,e,t,s){return Wt(r).onAuthStateChanged(e,t,s)}function uT(r){return Wt(r).signOut()}const Hu="__sak";class p_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cT=1e3,hT=10;class m_ extends p_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);P1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hT):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},cT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}m_.type="LOCAL";const dT=m_;class g_ extends p_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}g_.type="SESSION";const y_=g_;function fT(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new cc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async v=>v(t.origin,u)),y=await fT(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cc.receivers=[];function Qd(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class pT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,y)=>{const v=Qd("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(R){const x=R;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Xn(){return window}function mT(r){Xn().location.href=r}function __(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function gT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yT(){return navigator?.serviceWorker?.controller||null}function _T(){return __()?self:null}const v_="firebaseLocalStorageDb",vT=1,$u="firebaseLocalStorage",w_="fbase_key";class Ja{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hc(r,e){return r.transaction([$u],e?"readwrite":"readonly").objectStore($u)}function wT(){const r=indexedDB.deleteDatabase(v_);return new Ja(r).toPromise()}function Ed(){const r=indexedDB.open(v_,vT);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore($u,{keyPath:w_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains($u)?e(s):(s.close(),await wT(),e(await Ed()))})})}async function _g(r,e,t){const s=hc(r,!0).put({[w_]:e,value:t});return new Ja(s).toPromise()}async function ET(r,e){const t=hc(r,!1).get(e),s=await new Ja(t).toPromise();return s===void 0?null:s.value}function vg(r,e){const t=hc(r,!0).delete(e);return new Ja(t).toPromise()}const TT=800,IT=3;class E_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ed(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>IT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return __()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cc._getInstance(_T()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gT(),!this.activeServiceWorker)return;this.sender=new pT(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ed();return await _g(e,Hu,"1"),await vg(e,Hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>_g(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>ET(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hc(o,!1).getAll();return new Ja(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E_.type="LOCAL";const ST=E_;new Za(3e4,6e4);function kT(r,e){return e?Sr(e):(me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zd extends Gd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RT(r){return f_(r.auth,new Zd(r),r.bypassAuthState)}function AT(r){const{auth:e,user:t}=r;return me(t,e,"internal-error"),nT(t,new Zd(r),r.bypassAuthState)}async function CT(r){const{auth:e,user:t}=r;return me(t,e,"internal-error"),tT(t,new Zd(r),r.bypassAuthState)}class T_{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RT;case"linkViaPopup":case"linkViaRedirect":return CT;case"reauthViaPopup":case"reauthViaRedirect":return AT;default:Dn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PT=new Za(2e3,1e4);class so extends T_{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Qd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PT.get())};e()}}so.currentPopupAction=null;const xT="pendingRedirect",xu=new Map;class DT extends T_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=xu.get(this.auth._key());if(!e){try{const s=await NT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}xu.set(this.auth._key(),e)}return this.bypassAuthState||xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NT(r,e){const t=bT(e),s=OT(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function VT(r,e){xu.set(r._key(),e)}function OT(r){return Sr(r._redirectPersistence)}function bT(r){return Pu(xT,r.config.apiKey,r.name)}async function LT(r,e,t=!1){if(An(r.app))return Promise.reject(yi(r));const s=So(r),o=kT(s,e),h=await new DT(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const MT=600*1e3;class FT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!I_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Jn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MT&&this.cachedEventUids.clear(),this.cachedEventUids.has(wg(e))}saveEventToCache(e){this.cachedEventUids.add(wg(e)),this.lastProcessedEventTime=Date.now()}}function wg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function I_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function UT(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I_(r);default:return!1}}async function jT(r,e={}){return Ai(r,"GET","/v1/projects",e)}const BT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zT=/^https?/;async function WT(r){if(r.config.emulator)return;const{authorizedDomains:e}=await jT(r);for(const t of e)try{if(HT(t))return}catch{}Dn(r,"unauthorized-domain")}function HT(r){const e=vd(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!zT.test(t))return!1;if(BT.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const $T=new Za(3e4,6e4);function Eg(){const r=Xn().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function qT(r){return new Promise((e,t)=>{function s(){Eg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Eg(),t(Jn(r,"network-request-failed"))},timeout:$T.get()})}if(Xn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xn().gapi?.load)s();else{const o=F1("iframefcb");return Xn()[o]=()=>{gapi.load?s():t(Jn(r,"network-request-failed"))},l_(`${M1()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Du=null,e})}let Du=null;function GT(r){return Du=Du||qT(r),Du}const KT=new Za(5e3,15e3),QT="__/auth/iframe",ZT="emulator/auth/iframe",YT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XT(r){const e=r.config;me(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Hd(e,ZT):`https://${r.config.authDomain}/${QT}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=JT.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Qa(s).slice(1)}`}async function eI(r){const e=await GT(r),t=Xn().gapi;return me(t,r,"internal-error"),e.open({where:document.body,url:XT(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YT,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Jn(r,"network-request-failed"),m=Xn().setTimeout(()=>{u(h)},KT.get());function y(){Xn().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(h)})}))}const tI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nI=500,rI=600,iI="_blank",sI="http://localhost";class Tg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oI(r,e,t,s=nI,o=rI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...tI,width:s.toString(),height:o.toString(),top:u,left:h},v=jt().toLowerCase();t&&(m=t_(v)?iI:t),Xy(v)&&(e=e||sI,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[B,X])=>`${x}${B}=${X},`,"");if(C1(v)&&m!=="_self")return aI(e||"",m),new Tg(null);const R=window.open(e||"",m,E);me(R,r,"popup-blocked");try{R.focus()}catch{}return new Tg(R)}function aI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const lI="__/auth/handler",uI="emulator/auth/handler",cI=encodeURIComponent("fac");async function Ig(r,e,t,s,o,u){me(r.config.authDomain,r,"auth-domain-config-required"),me(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Io,eventId:o};if(e instanceof h_){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Zw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,R]of Object.entries({}))h[E]=R}if(e instanceof Ya){const E=e.getScopes().filter(R=>R!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),v=y?`#${cI}=${encodeURIComponent(y)}`:"";return`${hI(r)}?${Qa(m).slice(1)}${v}`}function hI({config:r}){return r.emulator?Hd(r,uI):`https://${r.authDomain}/${lI}`}const ld="webStorageSupport";class dI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y_,this._completeRedirectFn=LT,this._overrideRedirectResult=VT}async _openPopup(e,t,s,o){Ar(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Ig(e,t,s,vd(),o);return oI(e,u,Qd())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Ig(e,t,s,vd(),o);return mT(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await eI(e),s=new FT(e);return t.register("authEvent",o=>(me(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ld,{type:ld},o=>{const u=o?.[0]?.[ld];u!==void 0&&t(!!u),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return o_()||e_()||qd()}}const fI=dI;var Sg="@firebase/auth",kg="1.12.0";class pI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gI(r){po(new is("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;me(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a_(r)},v=new O1(s,o,u,y);return H1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),po(new is("auth-internal",e=>{const t=So(e.getProvider("auth").getImmediate());return(s=>new pI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(Sg,kg,mI(r)),gi(Sg,kg,"esm2020")}const yI=300,_I=Ly("authIdTokenMaxAge")||yI;let Rg=null;const vI=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>_I)return;const o=t?.token;Rg!==o&&(Rg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wI(r=zy()){const e=zd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=W1(r,{popupRedirectResolver:fI,persistence:[ST,dT,y_]}),s=Ly("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=vI(u.toString());aT(t,h,()=>h(t.currentUser)),oT(t,m=>h(m))}}const o=Oy("auth");return o&&$1(t,`http://${o}`),t}function EI(){return document.getElementsByTagName("head")?.[0]??document}b1({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Jn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",EI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gI("Browser");var Ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _i,S_;(function(){var r;function e(C,I){function k(){}k.prototype=I.prototype,C.F=I.prototype,C.prototype=new k,C.prototype.constructor=C,C.D=function(V,P,b){for(var S=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)S[Ve-2]=arguments[Ve];return I.prototype[P].apply(V,S)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,I,k){k||(k=0);const V=Array(16);if(typeof I=="string")for(var P=0;P<16;++P)V[P]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(P=0;P<16;++P)V[P]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=C.g[0],k=C.g[1],P=C.g[2];let b=C.g[3],S;S=I+(b^k&(P^b))+V[0]+3614090360&4294967295,I=k+(S<<7&4294967295|S>>>25),S=b+(P^I&(k^P))+V[1]+3905402710&4294967295,b=I+(S<<12&4294967295|S>>>20),S=P+(k^b&(I^k))+V[2]+606105819&4294967295,P=b+(S<<17&4294967295|S>>>15),S=k+(I^P&(b^I))+V[3]+3250441966&4294967295,k=P+(S<<22&4294967295|S>>>10),S=I+(b^k&(P^b))+V[4]+4118548399&4294967295,I=k+(S<<7&4294967295|S>>>25),S=b+(P^I&(k^P))+V[5]+1200080426&4294967295,b=I+(S<<12&4294967295|S>>>20),S=P+(k^b&(I^k))+V[6]+2821735955&4294967295,P=b+(S<<17&4294967295|S>>>15),S=k+(I^P&(b^I))+V[7]+4249261313&4294967295,k=P+(S<<22&4294967295|S>>>10),S=I+(b^k&(P^b))+V[8]+1770035416&4294967295,I=k+(S<<7&4294967295|S>>>25),S=b+(P^I&(k^P))+V[9]+2336552879&4294967295,b=I+(S<<12&4294967295|S>>>20),S=P+(k^b&(I^k))+V[10]+4294925233&4294967295,P=b+(S<<17&4294967295|S>>>15),S=k+(I^P&(b^I))+V[11]+2304563134&4294967295,k=P+(S<<22&4294967295|S>>>10),S=I+(b^k&(P^b))+V[12]+1804603682&4294967295,I=k+(S<<7&4294967295|S>>>25),S=b+(P^I&(k^P))+V[13]+4254626195&4294967295,b=I+(S<<12&4294967295|S>>>20),S=P+(k^b&(I^k))+V[14]+2792965006&4294967295,P=b+(S<<17&4294967295|S>>>15),S=k+(I^P&(b^I))+V[15]+1236535329&4294967295,k=P+(S<<22&4294967295|S>>>10),S=I+(P^b&(k^P))+V[1]+4129170786&4294967295,I=k+(S<<5&4294967295|S>>>27),S=b+(k^P&(I^k))+V[6]+3225465664&4294967295,b=I+(S<<9&4294967295|S>>>23),S=P+(I^k&(b^I))+V[11]+643717713&4294967295,P=b+(S<<14&4294967295|S>>>18),S=k+(b^I&(P^b))+V[0]+3921069994&4294967295,k=P+(S<<20&4294967295|S>>>12),S=I+(P^b&(k^P))+V[5]+3593408605&4294967295,I=k+(S<<5&4294967295|S>>>27),S=b+(k^P&(I^k))+V[10]+38016083&4294967295,b=I+(S<<9&4294967295|S>>>23),S=P+(I^k&(b^I))+V[15]+3634488961&4294967295,P=b+(S<<14&4294967295|S>>>18),S=k+(b^I&(P^b))+V[4]+3889429448&4294967295,k=P+(S<<20&4294967295|S>>>12),S=I+(P^b&(k^P))+V[9]+568446438&4294967295,I=k+(S<<5&4294967295|S>>>27),S=b+(k^P&(I^k))+V[14]+3275163606&4294967295,b=I+(S<<9&4294967295|S>>>23),S=P+(I^k&(b^I))+V[3]+4107603335&4294967295,P=b+(S<<14&4294967295|S>>>18),S=k+(b^I&(P^b))+V[8]+1163531501&4294967295,k=P+(S<<20&4294967295|S>>>12),S=I+(P^b&(k^P))+V[13]+2850285829&4294967295,I=k+(S<<5&4294967295|S>>>27),S=b+(k^P&(I^k))+V[2]+4243563512&4294967295,b=I+(S<<9&4294967295|S>>>23),S=P+(I^k&(b^I))+V[7]+1735328473&4294967295,P=b+(S<<14&4294967295|S>>>18),S=k+(b^I&(P^b))+V[12]+2368359562&4294967295,k=P+(S<<20&4294967295|S>>>12),S=I+(k^P^b)+V[5]+4294588738&4294967295,I=k+(S<<4&4294967295|S>>>28),S=b+(I^k^P)+V[8]+2272392833&4294967295,b=I+(S<<11&4294967295|S>>>21),S=P+(b^I^k)+V[11]+1839030562&4294967295,P=b+(S<<16&4294967295|S>>>16),S=k+(P^b^I)+V[14]+4259657740&4294967295,k=P+(S<<23&4294967295|S>>>9),S=I+(k^P^b)+V[1]+2763975236&4294967295,I=k+(S<<4&4294967295|S>>>28),S=b+(I^k^P)+V[4]+1272893353&4294967295,b=I+(S<<11&4294967295|S>>>21),S=P+(b^I^k)+V[7]+4139469664&4294967295,P=b+(S<<16&4294967295|S>>>16),S=k+(P^b^I)+V[10]+3200236656&4294967295,k=P+(S<<23&4294967295|S>>>9),S=I+(k^P^b)+V[13]+681279174&4294967295,I=k+(S<<4&4294967295|S>>>28),S=b+(I^k^P)+V[0]+3936430074&4294967295,b=I+(S<<11&4294967295|S>>>21),S=P+(b^I^k)+V[3]+3572445317&4294967295,P=b+(S<<16&4294967295|S>>>16),S=k+(P^b^I)+V[6]+76029189&4294967295,k=P+(S<<23&4294967295|S>>>9),S=I+(k^P^b)+V[9]+3654602809&4294967295,I=k+(S<<4&4294967295|S>>>28),S=b+(I^k^P)+V[12]+3873151461&4294967295,b=I+(S<<11&4294967295|S>>>21),S=P+(b^I^k)+V[15]+530742520&4294967295,P=b+(S<<16&4294967295|S>>>16),S=k+(P^b^I)+V[2]+3299628645&4294967295,k=P+(S<<23&4294967295|S>>>9),S=I+(P^(k|~b))+V[0]+4096336452&4294967295,I=k+(S<<6&4294967295|S>>>26),S=b+(k^(I|~P))+V[7]+1126891415&4294967295,b=I+(S<<10&4294967295|S>>>22),S=P+(I^(b|~k))+V[14]+2878612391&4294967295,P=b+(S<<15&4294967295|S>>>17),S=k+(b^(P|~I))+V[5]+4237533241&4294967295,k=P+(S<<21&4294967295|S>>>11),S=I+(P^(k|~b))+V[12]+1700485571&4294967295,I=k+(S<<6&4294967295|S>>>26),S=b+(k^(I|~P))+V[3]+2399980690&4294967295,b=I+(S<<10&4294967295|S>>>22),S=P+(I^(b|~k))+V[10]+4293915773&4294967295,P=b+(S<<15&4294967295|S>>>17),S=k+(b^(P|~I))+V[1]+2240044497&4294967295,k=P+(S<<21&4294967295|S>>>11),S=I+(P^(k|~b))+V[8]+1873313359&4294967295,I=k+(S<<6&4294967295|S>>>26),S=b+(k^(I|~P))+V[15]+4264355552&4294967295,b=I+(S<<10&4294967295|S>>>22),S=P+(I^(b|~k))+V[6]+2734768916&4294967295,P=b+(S<<15&4294967295|S>>>17),S=k+(b^(P|~I))+V[13]+1309151649&4294967295,k=P+(S<<21&4294967295|S>>>11),S=I+(P^(k|~b))+V[4]+4149444226&4294967295,I=k+(S<<6&4294967295|S>>>26),S=b+(k^(I|~P))+V[11]+3174756917&4294967295,b=I+(S<<10&4294967295|S>>>22),S=P+(I^(b|~k))+V[2]+718787259&4294967295,P=b+(S<<15&4294967295|S>>>17),S=k+(b^(P|~I))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(P+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+b&4294967295}s.prototype.v=function(C,I){I===void 0&&(I=C.length);const k=I-this.blockSize,V=this.C;let P=this.h,b=0;for(;b<I;){if(P==0)for(;b<=k;)o(this,C,b),b+=this.blockSize;if(typeof C=="string"){for(;b<I;)if(V[P++]=C.charCodeAt(b++),P==this.blockSize){o(this,V),P=0;break}}else for(;b<I;)if(V[P++]=C[b++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=I},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var k=C.length-8;k<C.length;++k)C[k]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)C[I++]=this.g[k]>>>V&255;return C};function u(C,I){var k=m;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=I(C)}function h(C,I){this.h=I;const k=[];let V=!0;for(let P=C.length-1;P>=0;P--){const b=C[P]|0;V&&b==I||(k[P]=b,V=!1)}this.g=k}var m={};function y(C){return-128<=C&&C<128?u(C,function(I){return new h([I|0],I<0?-1:0)}):new h([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return R;if(C<0)return q(v(-C));const I=[];let k=1;for(let V=0;C>=k;V++)I[V]=C/k|0,k*=4294967296;return new h(I,0)}function E(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return q(E(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=v(Math.pow(I,8));let V=R;for(let b=0;b<C.length;b+=8){var P=Math.min(8,C.length-b);const S=parseInt(C.substring(b,b+P),I);P<8?(P=v(Math.pow(I,P)),V=V.j(P).add(v(S))):(V=V.j(k),V=V.add(v(S)))}return V}var R=y(0),x=y(1),B=y(16777216);r=h.prototype,r.m=function(){if(H(this))return-q(this).m();let C=0,I=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);C+=(V>=0?V:4294967296+V)*I,I*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(H(this))return"-"+q(this).toString(C);const I=v(Math.pow(C,6));var k=this;let V="";for(;;){const P=Ce(k,I).g;k=ce(k,P.j(I));let b=((k.g.length>0?k.g[0]:k.h)>>>0).toString(C);if(k=P,X(k))return b+V;for(;b.length<6;)b="0"+b;V=b+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function H(C){return C.h==-1}r.l=function(C){return C=ce(this,C),H(C)?-1:X(C)?0:1};function q(C){const I=C.g.length,k=[];for(let V=0;V<I;V++)k[V]=~C.g[V];return new h(k,~C.h).add(x)}r.abs=function(){return H(this)?q(this):this},r.add=function(C){const I=Math.max(this.g.length,C.g.length),k=[];let V=0;for(let P=0;P<=I;P++){let b=V+(this.i(P)&65535)+(C.i(P)&65535),S=(b>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);V=S>>>16,b&=65535,S&=65535,k[P]=S<<16|b}return new h(k,k[k.length-1]&-2147483648?-1:0)};function ce(C,I){return C.add(q(I))}r.j=function(C){if(X(this)||X(C))return R;if(H(this))return H(C)?q(this).j(q(C)):q(q(this).j(C));if(H(C))return q(this.j(q(C)));if(this.l(B)<0&&C.l(B)<0)return v(this.m()*C.m());const I=this.g.length+C.g.length,k=[];for(var V=0;V<2*I;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let P=0;P<C.g.length;P++){const b=this.i(V)>>>16,S=this.i(V)&65535,Ve=C.i(P)>>>16,lt=C.i(P)&65535;k[2*V+2*P]+=S*lt,ye(k,2*V+2*P),k[2*V+2*P+1]+=b*lt,ye(k,2*V+2*P+1),k[2*V+2*P+1]+=S*Ve,ye(k,2*V+2*P+1),k[2*V+2*P+2]+=b*Ve,ye(k,2*V+2*P+2)}for(C=0;C<I;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=I;C<2*I;C++)k[C]=0;return new h(k,0)};function ye(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function ve(C,I){this.g=C,this.h=I}function Ce(C,I){if(X(I))throw Error("division by zero");if(X(C))return new ve(R,R);if(H(C))return I=Ce(q(C),I),new ve(q(I.g),q(I.h));if(H(I))return I=Ce(C,q(I)),new ve(q(I.g),I.h);if(C.g.length>30){if(H(C)||H(I))throw Error("slowDivide_ only works with positive integers.");for(var k=x,V=I;V.l(C)<=0;)k=Ge(k),V=Ge(V);var P=Re(k,1),b=Re(V,1);for(V=Re(V,2),k=Re(k,2);!X(V);){var S=b.add(V);S.l(C)<=0&&(P=P.add(k),b=S),V=Re(V,1),k=Re(k,1)}return I=ce(C,P.j(I)),new ve(P,I)}for(P=R;C.l(I)>=0;){for(k=Math.max(1,Math.floor(C.m()/I.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),b=v(k),S=b.j(I);H(S)||S.l(C)>0;)k-=V,b=v(k),S=b.j(I);X(b)&&(b=x),P=P.add(b),C=ce(C,S)}return new ve(P,C)}r.B=function(C){return Ce(this,C).h},r.and=function(C){const I=Math.max(this.g.length,C.g.length),k=[];for(let V=0;V<I;V++)k[V]=this.i(V)&C.i(V);return new h(k,this.h&C.h)},r.or=function(C){const I=Math.max(this.g.length,C.g.length),k=[];for(let V=0;V<I;V++)k[V]=this.i(V)|C.i(V);return new h(k,this.h|C.h)},r.xor=function(C){const I=Math.max(this.g.length,C.g.length),k=[];for(let V=0;V<I;V++)k[V]=this.i(V)^C.i(V);return new h(k,this.h^C.h)};function Ge(C){const I=C.g.length+1,k=[];for(let V=0;V<I;V++)k[V]=C.i(V)<<1|C.i(V-1)>>>31;return new h(k,C.h)}function Re(C,I){const k=I>>5;I%=32;const V=C.g.length-k,P=[];for(let b=0;b<V;b++)P[b]=I>0?C.i(b+k)>>>I|C.i(b+k+1)<<32-I:C.i(b+k);return new h(P,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,S_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,_i=h}).apply(typeof Ag<"u"?Ag:typeof self<"u"?self:typeof window<"u"?window:{});var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k_,Pa,R_,Nu,Td,A_,C_,P_;(function(){var r,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tu=="object"&&Tu];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var g=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var M=l[w];if(!(M in g))break e;g=g[M]}l=l[l.length-1],w=g[l],p=p(w),p!=w&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(l){return l||function(p){var g=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&g.push([w,p[w]]);return g}});var u=u||{},h=this||self;function m(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function y(l,p,g){return l.call.apply(l.bind,arguments)}function v(l,p,g){return v=y,v.apply(null,arguments)}function E(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function R(l,p){function g(){}g.prototype=p.prototype,l.Z=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(w,M,j){for(var J=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)J[Te-2]=arguments[Te];return p.prototype[M].apply(w,J)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function B(l){const p=l.length;if(p>0){const g=Array(p);for(let w=0;w<p;w++)g[w]=l[w];return g}return[]}function X(l,p){for(let w=1;w<arguments.length;w++){const M=arguments[w];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=l.length||0;const j=M.length||0;l.length=g+j;for(let J=0;J<j;J++)l[g+J]=M[J]}else l.push(M)}}class H{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function q(l){h.setTimeout(()=>{throw l},0)}function ce(){var l=C;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ye{constructor(){this.h=this.g=null}add(p,g){const w=ve.get();w.set(p,g),this.h?this.h.next=w:this.g=w,this.h=w}}var ve=new H(()=>new Ce,l=>l.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,Re=!1,C=new ye,I=()=>{const l=Promise.resolve(void 0);Ge=()=>{l.then(k)}};function k(){for(var l;l=ce();){try{l.h.call(l.g)}catch(g){q(g)}var p=ve;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};h.addEventListener("test",g,p),h.removeEventListener("test",g,p)}catch{}return l})();function S(l){return/^[\s\xa0]*$/.test(l)}function Ve(l,p){P.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}R(Ve,P),Ve.prototype.init=function(l,p){const g=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),_t=0;function He(l,p,g,w,M){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!w,this.ha=M,this.key=++_t,this.da=this.fa=!1}function ee(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function he(l,p,g){for(const w in l)p.call(g,l[w],w,l)}function re(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function D(l){const p={};for(const g in l)p[g]=l[g];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(l,p){let g,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(g in w)l[g]=w[g];for(let j=0;j<$.length;j++)g=$[j],Object.prototype.hasOwnProperty.call(w,g)&&(l[g]=w[g])}}function te(l){this.src=l,this.g={},this.h=0}te.prototype.add=function(l,p,g,w,M){const j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);const J=Se(l,p,w,M);return J>-1?(p=l[J],g||(p.fa=!1)):(p=new He(p,this.src,j,!!w,M),p.fa=g,l.push(p)),p};function ke(l,p){const g=p.type;if(g in l.g){var w=l.g[g],M=Array.prototype.indexOf.call(w,p,void 0),j;(j=M>=0)&&Array.prototype.splice.call(w,M,1),j&&(ee(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Se(l,p,g,w){for(let M=0;M<l.length;++M){const j=l[M];if(!j.da&&j.listener==p&&j.capture==!!g&&j.ha==w)return M}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),we={};function je(l,p,g,w,M){if(Array.isArray(p)){for(let j=0;j<p.length;j++)je(l,p[j],g,w,M);return null}return g=No(g),l&&l[lt]?l.J(p,g,m(w)?!!w.capture:!1,M):Dt(l,p,g,!1,w,M)}function Dt(l,p,g,w,M,j){if(!p)throw Error("Invalid event type");const J=m(M)?!!M.capture:!!M;let Te=ms(l);if(Te||(l[Oe]=Te=new te(l)),g=Te.add(p,g,w,J,j),g.proxy)return g;if(w=fs(),g.proxy=w,w.src=l,w.listener=g,l.addEventListener)b||(M=J),M===void 0&&(M=!1),l.addEventListener(p.toString(),w,M);else if(l.attachEvent)l.attachEvent(ps(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function fs(){function l(g){return p.call(l.src,l.listener,g)}const p=sl;return l}function Do(l,p,g,w,M){if(Array.isArray(p))for(var j=0;j<p.length;j++)Do(l,p[j],g,w,M);else w=m(w)?!!w.capture:!!w,g=No(g),l&&l[lt]?(l=l.i,j=String(p).toString(),j in l.g&&(p=l.g[j],g=Se(p,g,w,M),g>-1&&(ee(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete l.g[j],l.h--)))):l&&(l=ms(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Se(p,g,w,M)),(g=l>-1?p[l]:null)&&Dr(g))}function Dr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[lt])ke(p.i,l);else{var g=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(g,w,l.capture):p.detachEvent?p.detachEvent(ps(g),w):p.addListener&&p.removeListener&&p.removeListener(w),(g=ms(p))?(ke(g,l),g.h==0&&(g.src=null,p[Oe]=null)):ee(l)}}}function ps(l){return l in we?we[l]:we[l]="on"+l}function sl(l,p){if(l.da)l=!0;else{p=new Ve(p,this);const g=l.listener,w=l.ha||l.src;l.fa&&Dr(l),l=g.call(w,p)}return l}function ms(l){return l=l[Oe],l instanceof te?l:null}var Ci="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(l){return typeof l=="function"?l:(l[Ci]||(l[Ci]=function(p){return l.handleEvent(p)}),l[Ci])}function ut(){V.call(this),this.i=new te(this),this.M=this,this.G=null}R(ut,V),ut.prototype[lt]=!0,ut.prototype.removeEventListener=function(l,p,g,w){Do(this,l,p,g,w)};function it(l,p){var g,w=l.G;if(w)for(g=[];w;w=w.G)g.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new P(p,l);else if(p instanceof P)p.target=p.target||l;else{var M=p;p=new P(w,l),Y(p,M)}M=!0;let j,J;if(g)for(J=g.length-1;J>=0;J--)j=p.g=g[J],M=yn(j,w,!0,p)&&M;if(j=p.g=l,M=yn(j,w,!0,p)&&M,M=yn(j,w,!1,p)&&M,g)for(J=0;J<g.length;J++)j=p.g=g[J],M=yn(j,w,!1,p)&&M}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const g=l.g[p];for(let w=0;w<g.length;w++)ee(g[w]);delete l.g[p],l.h--}}this.G=null},ut.prototype.J=function(l,p,g,w){return this.i.add(String(l),p,!1,g,w)},ut.prototype.K=function(l,p,g,w){return this.i.add(String(l),p,!0,g,w)};function yn(l,p,g,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let j=0;j<p.length;++j){const J=p[j];if(J&&!J.da&&J.capture==g){const Te=J.listener,st=J.ha||J.src;J.fa&&ke(l.i,J),M=Te.call(st,w)!==!1&&M}}return M&&!w.defaultPrevented}function Vo(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(l,p||0)}function Oo(l){l.g=Vo(()=>{l.g=null,l.i&&(l.i=!1,Oo(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class ol extends V{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(l){V.call(this),this.h=l,this.g={}}R(Nr,V);var bo=[];function gs(l){he(l.g,function(p,g){this.g.hasOwnProperty(g)&&Dr(p)},l),l.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),gs(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=h.JSON.stringify,al=h.JSON.parse,Pi=class{stringify(l){return h.JSON.stringify(l,void 0)}parse(l){return h.JSON.parse(l,void 0)}};function Or(){}function ll(){}var br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ys(){P.call(this,"d")}R(ys,P);function Lo(){P.call(this,"c")}R(Lo,P);var _n={},_s=null;function Lr(){return _s=_s||new ut}_n.Ia="serverreachability";function vs(l){P.call(this,_n.Ia,l)}R(vs,P);function ir(l){const p=Lr();it(p,new vs(p))}_n.STAT_EVENT="statevent";function sr(l,p){P.call(this,_n.STAT_EVENT,l),this.stat=p}R(sr,P);function nt(l){const p=Lr();it(p,new sr(p,l))}_n.Ja="timingevent";function Mo(l,p){P.call(this,_n.Ja,l),this.size=p}R(Mo,P);function Mr(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){l()},p)}function Fr(){this.g=!0}Fr.prototype.ua=function(){this.g=!1};function ul(l,p,g,w,M,j){l.info(function(){if(l.g)if(j){var J="",Te=j.split("&");for(let Be=0;Be<Te.length;Be++){var st=Te[Be].split("=");if(st.length>1){const ct=st[0];st=st[1];const nn=ct.split("_");J=nn.length>=2&&nn[1]=="type"?J+(ct+"="+st+"&"):J+(ct+"=redacted&")}}}else J=null;else J=j;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+p+`
`+g+`
`+J})}function cl(l,p,g,w,M,j,J){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+p+`
`+g+`
`+j+" "+J})}function Vn(l,p,g,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+xi(l,g)+(w?" "+w:"")})}function hl(l,p){l.info(function(){return"TIMEOUT: "+p})}Fr.prototype.info=function(){};function xi(l,p){if(!l.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(l=0;l<j.length;l++)if(Array.isArray(j[l])){var g=j[l];if(!(g.length<2)){var w=g[1];if(Array.isArray(w)&&!(w.length<1)){var M=w[0];if(M!="noop"&&M!="stop"&&M!="close")for(let J=1;J<w.length;J++)w[J]=""}}}}return Vr(j)}catch{return p}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function or(){}R(or,Or),or.prototype.g=function(){return new XMLHttpRequest},dl=new or;function On(l){return encodeURIComponent(String(l))}function ws(l){var p=1;l=l.split(":");const g=[];for(;p>0&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function an(l,p,g,w){this.j=l,this.i=p,this.l=g,this.S=w||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fl}function fl(){this.i=null,this.g="",this.h=!1}var pl={},Fo={};function vn(l,p,g){l.M=1,l.A=lr(ln(p)),l.u=g,l.R=!0,Uo(l,null)}function Uo(l,p){l.F=Date.now(),Di(l),l.B=ln(l.A);var g=l.B,w=l.S;Array.isArray(w)||(w=[String(w)]),Qo(g.i,"t",w),l.C=0,g=l.j.L,l.h=new fl,l.g=Sl(l.j,g?p:null,!l.u),l.P>0&&(l.O=new ol(v(l.Y,l,l.g),l.P)),p=l.V,g=l.g,w=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(bo[0]=M.toString()),M=bo);for(let j=0;j<M.length;j++){const J=je(g,M[j],w||p.handleEvent,!1,p.h||p);if(!J)break;p.g[J.key]=J}p=l.J?D(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),ir(),ul(l.i,l.v,l.B,l.l,l.S,l.u)}an.prototype.ba=function(l){l=l.target;const p=this.O;p&&Bn(l)==3?p.j():this.Y(l)},an.prototype.Y=function(l){try{if(l==this.g)e:{const Te=Bn(this.g),st=this.g.ya(),Be=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||Tl(this.g)))){this.K||Te!=4||st==7||(st==8||Be<=0?ir(3):ir(2)),Es(this);var p=this.g.ca();this.X=p;var g=ml(this);if(this.o=p==200,cl(this.i,this.v,this.B,this.l,this.S,Te,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,M=this.g;if((w=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(w)){var j=w;break t}}j=null}if(l=j)Vn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ke(this,l);else{this.o=!1,this.m=3,nt(12),ar(this),Ni(this);break e}}if(this.R){l=!0;let ct;for(;!this.K&&this.C<g.length;)if(ct=yl(this,g),ct==Fo){Te==4&&(this.m=4,nt(14),l=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==pl){this.m=4,nt(15),Vn(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Vn(this.i,this.l,ct,null),Ke(this,ct);if(gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||g.length!=0||this.h.h||(this.m=1,nt(16),l=!1),this.o=this.o&&l,!l)Vn(this.i,this.l,g,"[Invalid Chunked Response]"),ar(this),Ni(this);else if(g.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Bi(J),J.P=!0,nt(11))}}else Vn(this.i,this.l,g,null),Ke(this,g);Te==4&&ar(this),this.o&&!this.K&&(Te==4?Ds(this.j,this):(this.o=!1,Di(this)))}else Yo(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,nt(12)):(this.m=0,nt(13)),ar(this),Ni(this)}}}catch{}};function ml(l){if(!gl(l))return l.g.la();const p=Tl(l.g);if(p==="")return"";let g="";const w=p.length,M=Bn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return ar(l),Ni(l),"";l.h.i=new h.TextDecoder}for(let j=0;j<w;j++)l.h.h=!0,g+=l.h.i.decode(p[j],{stream:!(M&&j==w-1)});return p.length=0,l.h.g+=g,l.C=0,l.h.g}function gl(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function yl(l,p){var g=l.C,w=p.indexOf(`
`,g);return w==-1?Fo:(g=Number(p.substring(g,w)),isNaN(g)?pl:(w+=1,w+g>p.length?Fo:(p=p.slice(w,w+g),l.C=w+g,p)))}an.prototype.cancel=function(){this.K=!0,ar(this)};function Di(l){l.T=Date.now()+l.H,jo(l,l.H)}function jo(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Mr(v(l.aa,l),p)}function Es(l){l.D&&(h.clearTimeout(l.D),l.D=null)}an.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(hl(this.i,this.B),this.M!=2&&(ir(),nt(17)),ar(this),this.m=2,Ni(this)):jo(this,this.T-l)};function Ni(l){l.j.I==0||l.K||Ds(l.j,l)}function ar(l){Es(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,gs(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function Ke(l,p){try{var g=l.j;if(g.I!=0&&(g.g==l||zo(g.h,l))){if(!l.L&&zo(g.h,l)&&g.I==3){try{var w=g.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)xs(g),en(g);else break e;Hn(g),nt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Mr(v(g.Va,g),6e3));Vi(g.h)<=1&&g.ta&&(g.ta=void 0)}else tn(g,11)}else if((l.L||g.g==l)&&xs(g),!S(p))for(M=g.Ba.g.parse(p),p=0;p<M.length;p++){let Be=M[p];const ct=Be[0];if(!(ct<=g.K))if(g.K=ct,Be=Be[1],g.I==2)if(Be[0]=="c"){g.M=Be[1],g.ba=Be[2];const nn=Be[3];nn!=null&&(g.ka=nn,g.j.info("VER="+g.ka));const fr=Be[4];fr!=null&&(g.za=fr,g.j.info("SVER="+g.za));const $n=Be[5];$n!=null&&typeof $n=="number"&&$n>0&&(w=1.5*$n,g.O=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const qn=l.g;if(qn){const Os=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var j=w.h;j.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Is(j,j.h),j.h=null))}if(w.G){const ea=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ea&&(w.wa=ea,Fe(w.J,w.G,ea))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),w=g;var J=l;if(w.na=Xo(w,w.L?w.ba:null,w.W),J.L){Oi(w.h,J);var Te=J,st=w.O;st&&(Te.H=st),Te.D&&(Es(Te),Di(Te)),w.g=J}else Nt(w);g.i.length>0&&dr(g)}else Be[0]!="stop"&&Be[0]!="close"||tn(g,7);else g.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?tn(g,7):Cs(g):Be[0]!="noop"&&g.l&&g.l.qa(Be),g.A=0)}}ir(4)}catch{}}var Ac=class{constructor(l,p){this.g=l,this.map=p}};function Ts(l){this.l=l||10,h.PerformanceNavigationTiming?(l=h.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Vi(l){return l.h?1:l.g?l.g.size:0}function zo(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Is(l,p){l.g?l.g.add(p):l.h=p}function Oi(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ts.prototype.cancel=function(){if(this.i=Yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Yt(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.G);return p}return B(l.i)}var _l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jt(l,p){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const w=l[g].indexOf("=");let M,j=null;w>=0?(M=l[g].substring(0,w),j=l[g].substring(w+1)):M=l[g],p(M,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function bn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof bn?(this.l=l.l,bi(this,l.j),this.o=l.o,this.g=l.g,Ln(this,l.u),this.h=l.h,Br(this,Zo(l.i)),this.m=l.m):l&&(p=String(l).match(_l))?(this.l=!1,bi(this,p[1]||"",!0),this.o=Li(p[2]||""),this.g=Li(p[3]||"",!0),Ln(this,p[4]),this.h=Li(p[5]||"",!0),Br(this,p[6]||"",!0),this.m=Li(p[7]||"")):(this.l=!1,this.i=new Ne(null,this.l))}bn.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(Mi(p,Ho,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Mi(p,Ho,!0),"@"),l.push(On(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Mi(g,g.charAt(0)=="/"?Fi:$o,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Mi(g,qo)),l.join("")},bn.prototype.resolve=function(l){const p=ln(this);let g=!!l.j;g?bi(p,l.j):g=!!l.o,g?p.o=l.o:g=!!l.g,g?p.g=l.g:g=l.u!=null;var w=l.h;if(g)Ln(p,l.u);else if(g=!!l.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var M=p.h.lastIndexOf("/");M!=-1&&(w=p.h.slice(0,M+1)+w)}if(M=w,M==".."||M==".")w="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){w=M.lastIndexOf("/",0)==0,M=M.split("/");const j=[];for(let J=0;J<M.length;){const Te=M[J++];Te=="."?w&&J==M.length&&j.push(""):Te==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),w&&J==M.length&&j.push("")):(j.push(Te),w=!0)}w=j.join("/")}else w=M}return g?p.h=w:g=l.i.toString()!=="",g?Br(p,Zo(l.i)):g=!!l.m,g&&(p.m=l.m),p};function ln(l){return new bn(l)}function bi(l,p,g){l.j=g?Li(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Ln(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Br(l,p,g){p instanceof Ne?(l.i=p,ks(l.i,l.l)):(g||(p=Mi(p,Cc)),l.i=new Ne(p,l.l))}function Fe(l,p,g){l.i.set(p,g)}function lr(l){return Fe(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Li(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Mi(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,Wo),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Wo(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ho=/[#\/\?@]/g,$o=/[#\?:]/g,Fi=/[#\?]/g,Cc=/[#\?@]/g,qo=/#/g;function Ne(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Mn(l){l.g||(l.g=new Map,l.h=0,l.i&&Jt(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}r=Ne.prototype,r.add=function(l,p){Mn(this),this.i=null,l=Fn(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function Go(l,p){Mn(l),p=Fn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Ss(l,p){return Mn(l),p=Fn(l,p),l.g.has(p)}r.forEach=function(l,p){Mn(this),this.g.forEach(function(g,w){g.forEach(function(M){l.call(p,M,w,this)},this)},this)};function Ko(l,p){Mn(l);let g=[];if(typeof p=="string")Ss(l,p)&&(g=g.concat(l.g.get(Fn(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)g=g.concat(l[p]);return g}r.set=function(l,p){return Mn(this),this.i=null,l=Fn(this,l),Ss(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=Ko(this,l),l.length>0?String(l[0]):p):p};function Qo(l,p,g){Go(l,p),g.length>0&&(l.i=null,l.g.set(Fn(l,p),B(g)),l.h+=g.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var g=p[w];const M=On(g);g=Ko(this,g);for(let j=0;j<g.length;j++){let J=M;g[j]!==""&&(J+="="+On(g[j])),l.push(J)}}return this.i=l.join("&")};function Zo(l){const p=new Ne;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Fn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function ks(l,p){p&&!l.j&&(Mn(l),l.i=null,l.g.forEach(function(g,w){const M=w.toLowerCase();w!=M&&(Go(this,w),Qo(this,M,g))},l)),l.j=p}function Un(l,p){const g=new Fr;if(h.Image){const w=new Image;w.onload=E(St,g,"TestLoadImage: loaded",!0,p,w),w.onerror=E(St,g,"TestLoadImage: error",!1,p,w),w.onabort=E(St,g,"TestLoadImage: abort",!1,p,w),w.ontimeout=E(St,g,"TestLoadImage: timeout",!1,p,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function jn(l,p){const g=new Fr,w=new AbortController,M=setTimeout(()=>{w.abort(),St(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(j=>{clearTimeout(M),j.ok?St(g,"TestPingServer: ok",!0,p):St(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),St(g,"TestPingServer: error",!1,p)})}function St(l,p,g,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(g)}catch{}}function Ui(){this.g=new Pi}function ur(l){this.i=l.Sb||null,this.h=l.ab||!1}R(ur,Or),ur.prototype.g=function(){return new Xt(this.i,this.h)};function Xt(l,p){ut.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Xt,ut),r=Xt.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,wn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},r.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vl(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function vl(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}r.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?zr(this):wn(this),this.readyState==3&&vl(this)}},r.Oa=function(l){this.g&&(this.response=this.responseText=l,zr(this))},r.Na=function(l){this.g&&(this.response=l,zr(this))},r.ga=function(){this.g&&zr(this)};function zr(l){l.readyState=4,l.l=null,l.j=null,l.B=null,wn(l)}r.setRequestHeader=function(l,p){this.A.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function wn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Xt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function wl(l){let p="";return he(l,function(g,w){p+=w,p+=":",p+=g,p+=`\r
`}),p}function Rs(l,p,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=wl(g),typeof l=="string"?g!=null&&On(g):Fe(l,p,g))}function ze(l){ut.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(ze,ut);var El=/^https?$/i,Pc=["POST","PUT"];r=ze.prototype,r.Fa=function(l){this.H=l},r.ea=function(l,p,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=x(v(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(j){Wr(this,j);return}if(l=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)g.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const j of w.keys())g.set(j,w.get(j));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=h.FormData&&l instanceof h.FormData,!(Array.prototype.indexOf.call(Pc,p,void 0)>=0)||w||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of g)this.g.setRequestHeader(j,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(j){Wr(this,j)}};function Wr(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,Hr(l),hr(l)}function Hr(l){l.A||(l.A=!0,it(l,"complete"),it(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,it(this,"complete"),it(this,"abort"),hr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?cr(this):this.Xa())},r.Xa=function(){cr(this)};function cr(l){if(l.h&&typeof u<"u"){if(l.v&&Bn(l)==4)setTimeout(l.Ca.bind(l),0);else if(it(l,"readystatechange"),Bn(l)==4){l.h=!1;try{const j=l.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var w;if(w=j===0){let J=String(l.D).match(_l)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),w=!El.test(J?J.toLowerCase():"")}g=w}if(g)it(l,"complete"),it(l,"success");else{l.o=6;try{var M=Bn(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",Hr(l)}}finally{hr(l)}}}}function hr(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,p||it(l,"ready");try{g.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Bn(l){return l.g?l.g.readyState:0}r.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),al(p)}};function Tl(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Yo(l){const p={};l=(l.g&&Bn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(S(l[w]))continue;var g=ws(l[w]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=p[M]||[];p[M]=j,j.push(g)}re(p,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function As(l){this.za=0,this.i=[],this.j=new Fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zn("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zn("baseRetryDelayMs",5e3,l),this.Za=zn("retryDelaySeedMs",1e4,l),this.Ta=zn("forwardChannelMaxRetries",2,l),this.va=zn("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Ts(l&&l.concurrentRequestLimit),this.Ba=new Ui,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=As.prototype,r.ka=8,r.I=1,r.connect=function(l,p,g,w){nt(0),this.W=l,this.H=p||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.J=Xo(this,null,this.W),dr(this)};function Cs(l){if(Ps(l),l.I==3){var p=l.V++,g=ln(l.J);if(Fe(g,"SID",l.M),Fe(g,"RID",p),Fe(g,"TYPE","terminate"),Wn(l,g),p=new an(l,l.j,p),p.M=2,p.A=lr(ln(g)),g=!1,h.navigator&&h.navigator.sendBeacon)try{g=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&h.Image&&(new Image().src=p.A,g=!0),g||(p.g=Sl(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Di(p)}zi(l)}function en(l){l.g&&(Bi(l),l.g.cancel(),l.g=null)}function Ps(l){en(l),l.v&&(h.clearTimeout(l.v),l.v=null),xs(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&h.clearTimeout(l.m),l.m=null)}function dr(l){if(!Bo(l.h)&&!l.m){l.m=!0;var p=l.Ea;Ge||I(),Re||(Ge(),Re=!0),C.add(p,l),l.D=0}}function Il(l,p){return Vi(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Mr(v(l.Ea,l,p),Ns(l,l.D)),l.D++,!0)}r.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new an(this,this.j,l);let j=this.o;if(this.U&&(j?(j=D(j),Y(j,this.U)):j=this.U),this.u!==null||this.R||(M.J=j,j=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Jo(this,M,p),g=ln(this.J),Fe(g,"RID",l),Fe(g,"CVER",22),this.G&&Fe(g,"X-HTTP-Session-Id",this.G),Wn(this,g),j&&(this.R?p="headers="+On(wl(j))+"&"+p:this.u&&Rs(g,this.u,j)),Is(this.h,M),this.Ra&&Fe(g,"TYPE","init"),this.S?(Fe(g,"$req",p),Fe(g,"SID","null"),M.U=!0,vn(M,g,null)):vn(M,g,p),this.I=2}}else this.I==3&&(l?ji(this,l):this.i.length==0||Bo(this.h)||ji(this))};function ji(l,p){var g;p?g=p.l:g=l.V++;const w=ln(l.J);Fe(w,"SID",l.M),Fe(w,"RID",g),Fe(w,"AID",l.K),Wn(l,w),l.u&&l.o&&Rs(w,l.u,l.o),g=new an(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),p&&(l.i=p.G.concat(l.i)),p=Jo(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Is(l.h,g),vn(g,w,p)}function Wn(l,p){l.H&&he(l.H,function(g,w){Fe(p,w,g)}),l.l&&he({},function(g,w){Fe(p,w,g)})}function Jo(l,p,g){g=Math.min(l.i.length,g);const w=l.l?v(l.l.Ka,l.l,l):null;e:{var M=l.i;let Te=-1;for(;;){const st=["count="+g];Te==-1?g>0?(Te=M[0].g,st.push("ofs="+Te)):Te=0:st.push("ofs="+Te);let Be=!0;for(let ct=0;ct<g;ct++){var j=M[ct].g;const nn=M[ct].map;if(j-=Te,j<0)Te=Math.max(0,M[ct].g-100),Be=!1;else try{j="req"+j+"_"||"";try{var J=nn instanceof Map?nn:Object.entries(nn);for(const[fr,$n]of J){let qn=$n;m($n)&&(qn=Vr($n)),st.push(j+fr+"="+encodeURIComponent(qn))}}catch(fr){throw st.push(j+"type="+encodeURIComponent("_badmap")),fr}}catch{w&&w(nn)}}if(Be){J=st.join("&");break e}}J=void 0}return l=l.i.splice(0,g),p.G=l,J}function Nt(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;Ge||I(),Re||(Ge(),Re=!0),C.add(p,l),l.A=0}}function Hn(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Mr(v(l.Da,l),Ns(l,l.A)),l.A++,!0)}r.Da=function(){if(this.v=null,$r(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Mr(v(this.Wa,this),l)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nt(10),en(this),$r(this))};function Bi(l){l.B!=null&&(h.clearTimeout(l.B),l.B=null)}function $r(l){l.g=new an(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=ln(l.na);Fe(p,"RID","rpc"),Fe(p,"SID",l.M),Fe(p,"AID",l.K),Fe(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Fe(p,"TO",l.ia),Fe(p,"TYPE","xmlhttp"),Wn(l,p),l.u&&l.o&&Rs(p,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=lr(ln(p)),g.u=null,g.R=!0,Uo(g,l)}r.Va=function(){this.C!=null&&(this.C=null,en(this),Hn(this),nt(19))};function xs(l){l.C!=null&&(h.clearTimeout(l.C),l.C=null)}function Ds(l,p){var g=null;if(l.g==p){xs(l),Bi(l),l.g=null;var w=2}else if(zo(l.h,p))g=p.G,Oi(l.h,p),w=1;else return;if(l.I!=0){if(p.o)if(w==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var M=l.D;w=Lr(),it(w,new Mo(w,g)),dr(l)}else Nt(l);else if(M=p.m,M==3||M==0&&p.X>0||!(w==1&&Il(l,p)||w==2&&Hn(l)))switch(g&&g.length>0&&(p=l.h,p.i=p.i.concat(g)),M){case 1:tn(l,5);break;case 4:tn(l,10);break;case 3:tn(l,6);break;default:tn(l,2)}}}function Ns(l,p){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*p}function tn(l,p){if(l.j.info("Error code "+p),p==2){var g=v(l.bb,l),w=l.Ua;const M=!w;w=new bn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||bi(w,"https"),lr(w),M?Un(w.toString(),g):jn(w.toString(),g)}else nt(2);l.I=0,l.l&&l.l.pa(p),zi(l),Ps(l)}r.bb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function zi(l){if(l.I=0,l.ja=[],l.l){const p=Yt(l.h);(p.length!=0||l.i.length!=0)&&(X(l.ja,p),X(l.ja,l.i),l.h.i.length=0,B(l.i),l.i.length=0),l.l.oa()}}function Xo(l,p,g){var w=g instanceof bn?ln(g):new bn(g);if(w.g!="")p&&(w.g=p+"."+w.g),Ln(w,w.u);else{var M=h.location;w=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const j=new bn(null);w&&bi(j,w),p&&(j.g=p),M&&Ln(j,M),g&&(j.h=g),w=j}return g=l.G,p=l.wa,g&&p&&Fe(w,g,p),Fe(w,"VER",l.ka),Wn(l,w),w}function Sl(l,p,g){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new ze(new ur({ab:g})):new ze(l.ma),p.Fa(l.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function kl(){}r=kl.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vs(){}Vs.prototype.g=function(l,p){return new kt(l,p)};function kt(l,p){ut.call(this),this.g=new As(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!S(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new qr(this)}R(kt,ut),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Cs(this.g)},kt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Vr(l),l=g);p.i.push(new Ac(p.Ya++,l)),p.I==3&&dr(p)},kt.prototype.N=function(){this.g.l=null,delete this.j,Cs(this.g),delete this.g,kt.Z.N.call(this)};function Rl(l){ys.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}R(Rl,ys);function Al(){Lo.call(this),this.status=1}R(Al,Lo);function qr(l){this.g=l}R(qr,kl),qr.prototype.ra=function(){it(this.g,"a")},qr.prototype.qa=function(l){it(this.g,new Rl(l))},qr.prototype.pa=function(l){it(this.g,new Al)},qr.prototype.oa=function(){it(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,P_=function(){return new Vs},C_=function(){return Lr()},A_=_n,Td={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Nu=Ur,jr.COMPLETE="complete",R_=jr,ll.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",ut.prototype.listen=ut.prototype.J,Pa=ll,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,k_=ze}).apply(typeof Tu<"u"?Tu:typeof self<"u"?self:typeof window<"u"?window:{});class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");let Ro="12.8.0";function TI(r){Ro=r}const os=new jd("@firebase/firestore");function to(){return os.logLevel}function ie(r,...e){if(os.logLevel<=Pe.DEBUG){const t=e.map(Yd);os.debug(`Firestore (${Ro}): ${r}`,...t)}}function Cr(r,...e){if(os.logLevel<=Pe.ERROR){const t=e.map(Yd);os.error(`Firestore (${Ro}): ${r}`,...t)}}function go(r,...e){if(os.logLevel<=Pe.WARN){const t=e.map(Yd);os.warn(`Firestore (${Ro}): ${r}`,...t)}}function Yd(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function ge(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,x_(r,s,t)}function x_(r,e,t){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Cr(s),new Error(s)}function Ue(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||x_(e,o,s)}function Ie(r,e){return r}const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class D_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class II{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ft.UNAUTHENTICATED)))}shutdown(){}}class SI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kI{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let u=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string",31837,{l:s}),new D_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class RI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class AI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new RI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ft.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);const s=u=>{u.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ie("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Cg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Jd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function Id(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return ud(o)===ud(u)?xe(o,u):ud(o)?1:-1}return xe(r.length,e.length)}const xI=55296,DI=57343;function ud(r){const e=r.charCodeAt(0);return e>=xI&&e<=DI}function yo(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}const Pg="__name__";class Yn{constructor(e,t,s){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ge(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Yn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yn?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Yn.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return xe(e.length,t.length)}static compareSegments(e,t){const s=Yn.isNumericId(e),o=Yn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Yn.extractNumericId(e).compare(Yn.extractNumericId(t)):Id(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class qe extends Yn{construct(e,t,s){return new qe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new qe(t)}static emptyPath(){return new qe([])}}const NI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Yn{construct(e,t,s){return new Pt(e,t,s)}static isValidIdentifier(e){return NI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pg}static keyField(){return new Pt([Pg])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new se(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new se(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new se(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(t)}static emptyPath(){return new Pt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(qe.fromString(e))}static fromName(e){return new de(qe.fromString(e).popFirst(5))}static empty(){return new de(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new qe(e.slice()))}}function N_(r,e,t){if(!t)throw new se(z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function VI(r,e,t,s){if(e===!0&&s===!0)throw new se(z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function xg(r){if(!de.isDocumentKey(r))throw new se(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dg(r){if(de.isDocumentKey(r))throw new se(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function V_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function dc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function qu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dc(r);throw new se(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function pt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Xa(r,e){if(!V_(r))throw new se(z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new se(z.INVALID_ARGUMENT,t);return!0}const Ng=-62135596800,Vg=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Vg);return new Ye(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ng)throw new se(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vg}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xa(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ng;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:pt("string",Ye._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ye(0,0))}static max(){return new Ee(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ba=-1;function OI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new Ye(t+1,0):new Ye(t,s));return new Ei(o,de.empty(),e)}function bI(r){return new Ei(r.readTime,r.key,Ba)}class Ei{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ei(Ee.min(),de.empty(),Ba)}static max(){return new Ei(Ee.max(),de.empty(),Ba)}}function LI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(r.documentKey,e.documentKey),t!==0?t:xe(r.largestBatchId,e.largestBatchId))}const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(r){if(r.code!==z.FAILED_PRECONDITION||r.message!==MI)throw r;ie("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):W.reject(t)}static resolve(e){return new W(((t,s)=>{t(e)}))}static reject(e){return new W(((t,s)=>{s(e)}))}static waitFor(e){return new W(((t,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&t()}),(y=>s(y)))})),h=!0,u===o&&t()}))}static or(e){let t=W.resolve(!1);for(const s of e)t=t.next((o=>o?W.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new W(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const v=y;t(e[v]).next((E=>{h[v]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new W(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function UI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Co(r){return r.name==="IndexedDbTransactionError"}class fc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fc.ce=-1;const Xd=-1;function pc(r){return r==null}function Gu(r){return r===0&&1/r==-1/0}function jI(r){return typeof r=="number"&&Number.isInteger(r)&&!Gu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const O_="";function BI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Og(e)),e=zI(r.get(t),e);return Og(e)}function zI(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case O_:t+="";break;default:t+=u}}return t}function Og(r){return r+O_+""}function bg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function us(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function b_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class tt{constructor(e,t){this.comparator=e,this.root=t||Ct.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ct.RED,this.left=o??Ct.EMPTY,this.right=u??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ct(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ct.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ct(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lg(this.data.getIterator())}getIteratorFrom(e){return new Lg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class Lg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new yt(Pt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class L_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new L_("Invalid base64 string: "+u):u}})(e);return new xt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(r){if(Ue(!!r,39018),typeof r=="string"){let e=0;const t=WI.exec(r);if(Ue(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(r.seconds),nanos:at(r.nanos)}}function at(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ii(r){return typeof r=="string"?xt.fromBase64String(r):xt.fromUint8Array(r)}const M_="server_timestamp",F_="__type__",U_="__previous_value__",j_="__local_write_time__";function ef(r){return(r?.mapValue?.fields||{})[F_]?.stringValue===M_}function mc(r){const e=r.mapValue.fields[U_];return ef(e)?mc(e):e}function za(r){const e=Ti(r.mapValue.fields[j_].timestampValue);return new Ye(e.seconds,e.nanos)}class HI{constructor(e,t,s,o,u,h,m,y,v,E,R){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=E,this.apiKey=R}}const Ku="(default)";class Wa{constructor(e,t){this.projectId=e,this.database=t||Ku}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===Ku}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}function $I(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new se(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(r.options.projectId,e)}const B_="__type__",qI="__max__",Su={mapValue:{}},z_="__vector__",Qu="value";function Si(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ef(r)?4:KI(r)?9007199254740991:GI(r)?10:11:ge(28295,{value:r})}function rr(r,e){if(r===e)return!0;const t=Si(r);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return za(r).isEqual(za(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ti(o.timestampValue),m=Ti(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ii(o.bytesValue).isEqual(Ii(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return at(o.geoPointValue.latitude)===at(u.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return at(o.integerValue)===at(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=at(o.doubleValue),m=at(u.doubleValue);return h===m?Gu(h)===Gu(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(bg(h)!==bg(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!rr(h[y],m[y])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function Ha(r,e){return(r.values||[]).find((t=>rr(t,e)))!==void 0}function _o(r,e){if(r===e)return 0;const t=Si(r),s=Si(e);if(t!==s)return xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=at(u.integerValue||u.doubleValue),y=at(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return Mg(r.timestampValue,e.timestampValue);case 4:return Mg(za(r),za(e));case 5:return Id(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=Ii(u),y=Ii(h);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const E=xe(m[v],y[v]);if(E!==0)return E}return xe(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=xe(at(u.latitude),at(h.latitude));return m!==0?m:xe(at(u.longitude),at(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Fg(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},y=h.fields||{},v=m[Qu]?.arrayValue,E=y[Qu]?.arrayValue,R=xe(v?.values?.length||0,E?.values?.length||0);return R!==0?R:Fg(v,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Su.mapValue&&h===Su.mapValue)return 0;if(u===Su.mapValue)return 1;if(h===Su.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),v=h.fields||{},E=Object.keys(v);y.sort(),E.sort();for(let R=0;R<y.length&&R<E.length;++R){const x=Id(y[R],E[R]);if(x!==0)return x;const B=_o(m[y[R]],v[E[R]]);if(B!==0)return B}return xe(y.length,E.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:t})}}function Mg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const t=Ti(r),s=Ti(e),o=xe(t.seconds,s.seconds);return o!==0?o:xe(t.nanos,s.nanos)}function Fg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=_o(t[o],s[o]);if(u)return u}return xe(t.length,s.length)}function vo(r){return Sd(r)}function Sd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Ti(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ii(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return de.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Sd(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sd(t.fields[h])}`;return o+"}"})(r.mapValue):ge(61005,{value:r})}function Vu(r){switch(Si(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mc(r);return e?16+Vu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ii(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Vu(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return us(s.fields,((u,h)=>{o+=u.length+Vu(h)})),o})(r.mapValue);default:throw ge(13486,{value:r})}}function Ug(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function kd(r){return!!r&&"integerValue"in r}function tf(r){return!!r&&"arrayValue"in r}function jg(r){return!!r&&"nullValue"in r}function Bg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ou(r){return!!r&&"mapValue"in r}function GI(r){return(r?.mapValue?.fields||{})[B_]?.stringValue===z_}function Oa(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return us(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Oa(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oa(r.arrayValue.values[t]);return e}return{...r}}function KI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qI}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ou(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oa(t)}setAll(e){let t=Pt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Oa(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ou(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ou(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){us(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Oa(this.value))}}function W_(r){const e=[];return us(r.fields,((t,s)=>{const o=new Pt([t]);if(Ou(s)){const u=W_(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Pn(e)}class Ut{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ut(e,0,Ee.min(),Ee.min(),Ee.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ut(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,Ee.min(),Ee.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Ee.min(),Ee.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zu{constructor(e,t){this.position=e,this.inclusive=t}}function zg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),t.key):s=_o(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!rr(r.position[t],e.position[t]))return!1;return!0}class Yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function QI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class H_{}class ft extends H_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new YI(e,t,s):t==="array-contains"?new e2(e,s):t==="in"?new t2(e,s):t==="not-in"?new n2(e,s):t==="array-contains-any"?new r2(e,s):new ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new JI(e,s):new XI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(_o(t,this.value)):t!==null&&Si(this.value)===Si(t)&&this.matchesComparison(_o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends H_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nn(e,t)}matches(e){return $_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $_(r){return r.op==="and"}function q_(r){return ZI(r)&&$_(r)}function ZI(r){for(const e of r.filters)if(e instanceof Nn)return!1;return!0}function Rd(r){if(r instanceof ft)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(q_(r))return r.filters.map((e=>Rd(e))).join(",");{const e=r.filters.map((t=>Rd(t))).join(",");return`${r.op}(${e})`}}function G_(r,e){return r instanceof ft?(function(s,o){return o instanceof ft&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)})(r,e):r instanceof Nn?(function(s,o){return o instanceof Nn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&G_(h,o.filters[m])),!0):!1})(r,e):void ge(19439)}function K_(r){return r instanceof ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${vo(t.value)}`})(r):r instanceof Nn?(function(t){return t.op.toString()+" {"+t.getFilters().map(K_).join(" ,")+"}"})(r):"Filter"}class YI extends ft{constructor(e,t,s){super(e,t,s),this.key=de.fromName(s.referenceValue)}matches(e){const t=de.comparator(e.key,this.key);return this.matchesComparison(t)}}class JI extends ft{constructor(e,t){super(e,"in",t),this.keys=Q_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class XI extends ft{constructor(e,t){super(e,"not-in",t),this.keys=Q_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Q_(r,e){return(e.arrayValue?.values||[]).map((t=>de.fromName(t.referenceValue)))}class e2 extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tf(t)&&Ha(t.arrayValue,this.value)}}class t2 extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ha(this.value.arrayValue,t)}}class n2 extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ha(this.value.arrayValue,t)}}class r2 extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ha(this.value.arrayValue,s)))}}class i2{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Hg(r,e=null,t=[],s=[],o=null,u=null,h=null){return new i2(r,e,t,s,o,u,h)}function nf(r){const e=Ie(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Rd(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),pc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>vo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>vo(s))).join(",")),e.Te=t}return e.Te}function rf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!QI(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!G_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Wg(r.startAt,e.startAt)&&Wg(r.endAt,e.endAt)}function Ad(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class el{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function s2(r,e,t,s,o,u,h,m){return new el(r,e,t,s,o,u,h,m)}function Z_(r){return new el(r)}function $g(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function o2(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Y_(r){return r.collectionGroup!==null}function ba(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new yt(Pt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Yu(u,s))})),t.has(Pt.keyField().canonicalString())||e.Ie.push(new Yu(Pt.keyField(),s))}return e.Ie}function er(r){const e=Ie(r);return e.Ee||(e.Ee=a2(e,ba(r))),e.Ee}function a2(r,e){if(r.limitType==="F")return Hg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Yu(o.field,u)}));const t=r.endAt?new Zu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zu(r.startAt.position,r.startAt.inclusive):null;return Hg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Cd(r,e){const t=r.filters.concat([e]);return new el(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Pd(r,e,t){return new el(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gc(r,e){return rf(er(r),er(e))&&r.limitType===e.limitType}function J_(r){return`${nf(er(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>K_(o))).join(", ")}]`),pc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>vo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>vo(o))).join(",")),`Target(${s})`})(er(r))}; limitType=${r.limitType})`}function yc(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ba(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,y){const v=zg(h,m,y);return h.inclusive?v<=0:v<0})(s.startAt,ba(s),o)||s.endAt&&!(function(h,m,y){const v=zg(h,m,y);return h.inclusive?v>=0:v>0})(s.endAt,ba(s),o))})(r,e)}function l2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function X_(r){return(e,t)=>{let s=!1;for(const o of ba(r)){const u=u2(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function u2(r,e,t){const s=r.field.isKeyField()?de.comparator(e.key,t.key):(function(u,h,m){const y=h.data.field(u),v=m.data.field(u);return y!==null&&v!==null?_o(y,v):ge(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:r.dir})}}class cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return b_(this.inner)}size(){return this.innerSize}}const c2=new tt(de.comparator);function Pr(){return c2}const ev=new tt(de.comparator);function xa(...r){let e=ev;for(const t of r)e=e.insert(t.key,t);return e}function tv(r){let e=ev;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ns(){return La()}function nv(){return La()}function La(){return new cs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const h2=new tt(de.comparator),d2=new yt(de.comparator);function De(...r){let e=d2;for(const t of r)e=e.add(t);return e}const f2=new yt(xe);function p2(){return f2}function sf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function rv(r){return{integerValue:""+r}}function m2(r,e){return jI(e)?rv(e):sf(r,e)}class _c{constructor(){this._=void 0}}function g2(r,e,t){return r instanceof $a?(function(o,u){const h={fields:{[F_]:{stringValue:M_},[j_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ef(u)&&(u=mc(u)),u&&(h.fields[U_]=u),{mapValue:h}})(t,e):r instanceof qa?sv(r,e):r instanceof Ga?ov(r,e):(function(o,u){const h=iv(o,u),m=qg(h)+qg(o.Ae);return kd(h)&&kd(o.Ae)?rv(m):sf(o.serializer,m)})(r,e)}function y2(r,e,t){return r instanceof qa?sv(r,e):r instanceof Ga?ov(r,e):t}function iv(r,e){return r instanceof Ju?(function(s){return kd(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class $a extends _c{}class qa extends _c{constructor(e){super(),this.elements=e}}function sv(r,e){const t=av(e);for(const s of r.elements)t.some((o=>rr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ga extends _c{constructor(e){super(),this.elements=e}}function ov(r,e){let t=av(e);for(const s of r.elements)t=t.filter((o=>!rr(o,s)));return{arrayValue:{values:t}}}class Ju extends _c{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function qg(r){return at(r.integerValue||r.doubleValue)}function av(r){return tf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _2{constructor(e,t){this.field=e,this.transform=t}}function v2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof qa&&o instanceof qa||s instanceof Ga&&o instanceof Ga?yo(s.elements,o.elements,rr):s instanceof Ju&&o instanceof Ju?rr(s.Ae,o.Ae):s instanceof $a&&o instanceof $a})(r.transform,e.transform)}class w2{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vc{}function lv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new cv(r.key,kr.none()):new tl(r.key,r.data,kr.none());{const t=r.data,s=mn.empty();let o=new yt(Pt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new hs(r.key,s,new Pn(o.toArray()),kr.none())}}function E2(r,e,t){r instanceof tl?(function(o,u,h){const m=o.value.clone(),y=Kg(o.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,t):r instanceof hs?(function(o,u,h){if(!bu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Kg(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(uv(o)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(r,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Ma(r,e,t,s){return r instanceof tl?(function(u,h,m,y){if(!bu(u.precondition,h))return m;const v=u.value.clone(),E=Qg(u.fieldTransforms,y,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(r,e,t,s):r instanceof hs?(function(u,h,m,y){if(!bu(u.precondition,h))return m;const v=Qg(u.fieldTransforms,y,h),E=h.data;return E.setAll(uv(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(r,e,t,s):(function(u,h,m){return bu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,t)}function T2(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=iv(s.transform,o||null);u!=null&&(t===null&&(t=mn.empty()),t.set(s.field,u))}return t||null}function Gg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((u,h)=>v2(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tl extends vc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends vc{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uv(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Kg(r,e,t){const s=new Map;Ue(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,y2(h,m,t[o]))}return s}function Qg(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,g2(u,h,e))}return s}class cv extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I2 extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class S2{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&E2(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ma(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ma(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=nv();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const y=lv(h,m);y!==null&&s.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((t,s)=>Gg(t,s)))&&yo(this.baseMutations,e.baseMutations,((t,s)=>Gg(t,s)))}}class of{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ue(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return h2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new of(e,t,s,o)}}class k2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class R2{constructor(e,t){this.count=e,this.unchangedNames=t}}var dt,be;function A2(r){switch(r){case z.OK:return ge(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function hv(r){if(r===void 0)return Cr("GRPC error has no .code"),z.UNKNOWN;switch(r){case dt.OK:return z.OK;case dt.CANCELLED:return z.CANCELLED;case dt.UNKNOWN:return z.UNKNOWN;case dt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case dt.INTERNAL:return z.INTERNAL;case dt.UNAVAILABLE:return z.UNAVAILABLE;case dt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case dt.NOT_FOUND:return z.NOT_FOUND;case dt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case dt.ABORTED:return z.ABORTED;case dt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case dt.DATA_LOSS:return z.DATA_LOSS;default:return ge(39323,{code:r})}}(be=dt||(dt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";function C2(){return new TextEncoder}const P2=new _i([4294967295,4294967295],0);function Zg(r){const e=C2().encode(r),t=new S_;return t.update(e),new Uint8Array(t.digest())}function Yg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _i([t,s],0),new _i([o,u],0)]}class af{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Da(`Invalid padding: ${t}`);if(s<0)throw new Da(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Da(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Da(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_i.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(_i.fromNumber(s)));return o.compare(P2)===1&&(o=new _i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Zg(e),[s,o]=Yg(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new af(u,o,t);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const t=Zg(e),[s,o]=Yg(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wc{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new wc(Ee.min(),o,new tt(xe),Pr(),De())}}class nl{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new nl(s,t,De(),De(),De())}}class Lu{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class dv{constructor(e,t){this.targetId=e,this.Ce=t}}class fv{constructor(e,t,s=xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Jg{constructor(){this.ve=0,this.Fe=Xg(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),s=De();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ge(38017,{changeType:u})}})),new nl(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=Xg()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class x2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pr(),this.He=ku(),this.Je=ku(),this.Ze=new tt(xe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Ad(u))if(s===0){const h=new de(u.path);this.et(t,h,Ut.newNoDocument(h,Ee.min()))}else Ue(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(t);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Ii(s).toUint8Array()}catch(y){if(y instanceof L_)return go("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new af(h,o,u)}catch(y){return go(y instanceof Da?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Ad(m.target)){const y=new de(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,Ut.newNoDocument(y,e))}u.Be&&(t.set(h,u.ke()),u.Ke())}}));let s=De();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new wc(e,t,this.Ze,this.je,s);return this.je=Pr(),this.He=ku(),this.Je=ku(),this.Ze=new tt(xe),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Jg,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new yt(xe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new yt(xe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ie("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jg),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ku(){return new tt(de.comparator)}function Xg(){return new tt(de.comparator)}const D2={asc:"ASCENDING",desc:"DESCENDING"},N2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class O2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xd(r,e){return r.useProto3Json||pc(e)?e:{value:e}}function Xu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function b2(r,e){return Xu(r,e.toTimestamp())}function tr(r){return Ue(!!r,49232),Ee.fromTimestamp((function(t){const s=Ti(t);return new Ye(s.seconds,s.nanos)})(r))}function lf(r,e){return Dd(r,e).canonicalString()}function Dd(r,e){const t=(function(o){return new qe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function mv(r){const e=qe.fromString(r);return Ue(wv(e),10190,{key:e.toString()}),e}function Nd(r,e){return lf(r.databaseId,e.path)}function cd(r,e){const t=mv(e);if(t.get(1)!==r.databaseId.projectId)throw new se(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new se(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new de(yv(t))}function gv(r,e){return lf(r.databaseId,e)}function L2(r){const e=mv(r);return e.length===4?qe.emptyPath():yv(e)}function Vd(r){return new qe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yv(r){return Ue(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ey(r,e,t){return{name:Nd(r,e),fields:t.value.mapValue.fields}}function M2(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ge(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(Ue(E===void 0||typeof E=="string",58123),xt.fromBase64String(E||"")):(Ue(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const E=v.code===void 0?z.UNKNOWN:hv(v.code);return new se(E,v.message||"")})(h);t=new fv(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=cd(r,s.document.name),u=tr(s.document.updateTime),h=s.document.createTime?tr(s.document.createTime):Ee.min(),m=new mn({mapValue:{fields:s.document.fields}}),y=Ut.newFoundDocument(o,u,h,m),v=s.targetIds||[],E=s.removedTargetIds||[];t=new Lu(v,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=cd(r,s.document),u=s.readTime?tr(s.readTime):Ee.min(),h=Ut.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Lu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=cd(r,s.document),u=s.removedTargetIds||[];t=new Lu([],u,o,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new R2(o,u),m=s.targetId;t=new dv(m,h)}}return t}function F2(r,e){let t;if(e instanceof tl)t={update:ey(r,e.key,e.value)};else if(e instanceof cv)t={delete:Nd(r,e.key)};else if(e instanceof hs)t={update:ey(r,e.key,e.data),updateMask:G2(e.fieldMask)};else{if(!(e instanceof I2))return ge(16599,{dt:e.type});t={verify:Nd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof $a)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof qa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ga)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ju)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ge(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:b2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ge(27497)})(r,e.precondition)),t}function U2(r,e){return r&&r.length>0?(Ue(e!==void 0,14353),r.map((t=>(function(o,u){let h=o.updateTime?tr(o.updateTime):tr(u);return h.isEqual(Ee.min())&&(h=tr(u)),new w2(h,o.transformResults||[])})(t,e)))):[]}function j2(r,e){return{documents:[gv(r,e.path)]}}function B2(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=gv(r,o);const u=(function(v){if(v.length!==0)return vv(Nn.create(v,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((E=>(function(x){return{field:ro(x.field),direction:H2(x.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=xd(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function z2(r){let e=L2(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ue(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(R){const x=_v(R);return x instanceof Nn&&q_(x)?x.getFilters():[x]})(t.where));let h=[];t.orderBy&&(h=(function(R){return R.map((x=>(function(X){return new Yu(io(X.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(x)))})(t.orderBy));let m=null;t.limit&&(m=(function(R){let x;return x=typeof R=="object"?R.value:R,pc(x)?null:x})(t.limit));let y=null;t.startAt&&(y=(function(R){const x=!!R.before,B=R.values||[];return new Zu(B,x)})(t.startAt));let v=null;return t.endAt&&(v=(function(R){const x=!R.before,B=R.values||[];return new Zu(B,x)})(t.endAt)),s2(e,o,h,u,m,"F",y,v)}function W2(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _v(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=io(t.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(t.unaryFilter.field);return ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=io(t.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(t){return ft.create(io(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Nn.create(t.compositeFilter.filters.map((s=>_v(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(t.compositeFilter.op))})(r):ge(30097,{filter:r})}function H2(r){return D2[r]}function $2(r){return N2[r]}function q2(r){return V2[r]}function ro(r){return{fieldPath:r.canonicalString()}}function io(r){return Pt.fromServerFormat(r.fieldPath)}function vv(r){return r instanceof ft?(function(t){if(t.op==="=="){if(Bg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(jg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(jg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:$2(t.op),value:t.value}}})(r):r instanceof Nn?(function(t){const s=t.getFilters().map((o=>vv(o)));return s.length===1?s[0]:{compositeFilter:{op:q2(t.op),filters:s}}})(r):ge(54877,{filter:r})}function G2(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function wv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Ev(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class di{constructor(e,t,s,o,u=Ee.min(),h=Ee.min(),m=xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class K2{constructor(e){this.yt=e}}function Q2(r){const e=z2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pd(e,e.limit,"L"):e}class Z2{constructor(){this.Sn=new Y2}addToCollectionParentIndex(e,t){return this.Sn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Ei.min())}updateCollectionGroup(e,t,s){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class Y2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new yt(qe.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new yt(qe.comparator)).toArray()}}const ty={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tv=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(Tv,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);class wo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wo(0)}static ar(){return new wo(-1)}}const ny="LruGarbageCollector",J2=1048576;function ry([r,e],[t,s]){const o=xe(r,t);return o===0?xe(e,s):o}class X2{constructor(e){this.Pr=e,this.buffer=new yt(ry),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ry(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ie(ny,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Co(t)?ie(ny,"Ignoring IndexedDB error during garbage collection: ",t):await Ao(t)}await this.Ar(3e5)}))}}class tS{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return W.resolve(fc.ce);const s=new X2(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(ty)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ty):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,u,h,m,y,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,h=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(s=R,m=Date.now(),this.removeTargets(e,s,t)))).next((R=>(u=R,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((R=>(v=Date.now(),to()<=Pe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${R} documents in `+(v-y)+`ms
Total Duration: ${v-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R}))))}}function nS(r,e){return new tS(r,e)}class rS{constructor(){this.changes=new cs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?W.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Ma(s.mutation,o,Pn.empty(),Ye.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,De()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=De()){const o=ns();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let h=xa();return u.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=ns();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,De())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,s,o){let u=Pr();const h=La(),m=(function(){return La()})();return t.forEach(((y,v)=>{const E=s.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof hs)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),Ma(E.mutation,v,E.mutation.getFieldMask(),Ye.now())):h.set(v.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((v,E)=>h.set(v,E))),t.forEach(((v,E)=>m.set(v,new iS(E,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=La();let o=new tt(((h,m)=>h-m)),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((y=>{const v=t.get(y);if(v===null)return;let E=s.get(y)||Pn.empty();E=m.applyToLocalView(v,E),s.set(y,E);const R=(o.get(m.batchId)||De()).add(y);o=o.insert(m.batchId,R)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,E=y.value,R=nv();E.forEach((x=>{if(!u.has(x)){const B=lv(t.get(x),s.get(x));B!==null&&R.set(x,B),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,R))}return W.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return o2(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Y_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):W.resolve(ns());let m=Ba,y=u;return h.next((v=>W.forEach(v,((E,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{y=y.insert(E,x)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,y,v,De()))).next((E=>({batchId:m,changes:tv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next((s=>{let o=xa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=xa();return this.indexManager.getCollectionParents(e,u).next((m=>W.forEach(m,(y=>{const v=(function(R,x){return new el(x,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(t,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((E=>{E.forEach(((R,x)=>{h=h.insert(R,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((h=>{u.forEach(((y,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,Ut.newInvalidDocument(E)))}));let m=xa();return h.forEach(((y,v)=>{const E=u.get(y);E!==void 0&&Ma(E.mutation,v,Pn.empty(),Ye.now()),yc(t,v)&&(m=m.insert(y,v))})),m}))}}class oS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return W.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:tr(o.createTime)}})(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:Q2(o.bundledQuery),readTime:tr(o.readTime)}})(t)),W.resolve()}}class aS{constructor(){this.overlays=new tt(de.comparator),this.Lr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ns();return W.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.bt(e,t,u)})),W.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),W.resolve()}getOverlaysForCollection(e,t,s){const o=ns(),u=t.length+1,h=new de(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new tt(((v,E)=>v-E));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=ns(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=ns(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,E)=>m.set(v,E))),!(m.size()>=o)););return W.resolve(m)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new k2(t,s));let u=this.Lr.get(t);u===void 0&&(u=De(),this.Lr.set(t,u)),this.Lr.set(t,u.add(s.key))}}class lS{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}class uf{constructor(){this.kr=new yt(Tt.Kr),this.qr=new yt(Tt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Tt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Tt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new de(new qe([])),s=new Tt(t,e),o=new Tt(t,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new de(new qe([])),s=new Tt(t,e),o=new Tt(t,e+1);let u=De();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Tt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return de.comparator(e.key,t.key)||xe(e.Hr,t.Hr)}static Ur(e,t){return xe(e.Hr,t.Hr)||de.comparator(e.key,t.key)}}class uS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new yt(Tt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new S2(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Tt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,t){return W.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Xd:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Tt(t,0),o=new Tt(t,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new yt(xe);return t.forEach((o=>{const u=new Tt(o,0),h=new Tt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),W.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const h=new Tt(new de(u),0);let m=new yt(xe);return this.Jr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(m=m.add(y.Hr)),!0)}),h),W.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ue(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return W.forEach(t.mutations,(o=>{const u=new Tt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Tt(t,0),o=this.Jr.firstAfterOrEqual(s);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cS{constructor(e){this.ti=e,this.docs=(function(){return new tt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return W.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let s=Pr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ut.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Pr();const h=t.path,m=new de(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:E}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||LI(bI(E),s)<=0||(o.has(E.key)||yc(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,t,s,o){ge(9500)}ni(e,t){return W.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new hS(this)}getSize(e){return W.resolve(this.size)}}class hS extends rS{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),W.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class dS{constructor(e){this.persistence=e,this.ri=new cs((t=>nf(t)),rf),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new uf,this.targetCount=0,this.oi=wo._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),W.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.lr(t),W.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return W.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),W.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return W.resolve(s)}containsKey(e,t){return W.resolve(this.si.containsKey(t))}}class Iv{constructor(e,t){this._i={},this.overlays={},this.ai=new fc(0),this.ui=!1,this.ui=!0,this.ci=new lS,this.referenceDelegate=e(this),this.li=new dS(this),this.indexManager=new Z2,this.remoteDocumentCache=(function(o){return new cS(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new K2(t),this.Pi=new oS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new uS(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){ie("MemoryPersistence","Starting transaction:",e);const o=new fS(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,t){return W.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class fS extends FI{constructor(e){super(),this.currentSequenceNumber=e}}class cf{constructor(e){this.persistence=e,this.Ri=new uf,this.Ai=null}static Vi(e){return new cf(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),W.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),W.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(s=>{const o=de.fromPath(s);return this.mi(e,o).next((u=>{u||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return W.or([()=>W.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ec{constructor(e,t){this.persistence=e,this.fi=new cs((s=>BI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=nS(this,t)}static Vi(e,t){return new ec(e,t)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return W.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?W.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,t).next((m=>{m||(s++,u.removeEntry(h,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),W.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vu(e.data.value)),t}wr(e,t,s){return W.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=De(),o=De();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hf(e,t.fromCache,s,o)}}class pS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Hw()?8:UI(jt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.gs(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,t,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new pS;return this.ys(e,t,h).next((m=>{if(u.result=m,this.As)return this.ws(e,t,h,m.size)}))})).next((()=>u.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(to()<=Pe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",no(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(to()<=Pe.DEBUG&&ie("QueryEngine","Query:",no(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(to()<=Pe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",no(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(t))):W.resolve())}gs(e,t){if($g(t))return W.resolve(null);let s=er(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Pd(t,null,"F"),s=er(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=De(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.bs(t,m);return this.Ss(t,v,h,y.readTime)?this.gs(e,Pd(t,null,"F")):this.Ds(e,v,t,y)}))))})))))}ps(e,t,s,o){return $g(t)||o.isEqual(Ee.min())?W.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(t,u);return this.Ss(t,h,s,o)?W.resolve(null):(to()<=Pe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(t)),this.Ds(e,h,t,OI(o,Ba)).next((m=>m)))}))}bs(e,t){let s=new yt(X_(e));return t.forEach(((o,u)=>{yc(e,u)&&(s=s.add(u))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,t,s){return to()<=Pe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",no(t)),this.fs.getDocumentsMatchingQuery(e,t,Ei.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const df="LocalStore",gS=3e8;class yS{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new tt(xe),this.Fs=new cs((u=>nf(u)),rf),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function _S(r,e,t,s){return new yS(r,e,t,s)}async function Sv(r,e){const t=Ie(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let y=De();for(const v of o){h.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}for(const v of u){m.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(s,y).next((v=>({Ns:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function vS(r,e){const t=Ie(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,E){const R=v.batch,x=R.keys();let B=W.resolve();return x.forEach((X=>{B=B.next((()=>E.getEntry(y,X))).next((H=>{const q=v.docVersions.get(X);Ue(q!==null,48541),H.version.compareTo(q)<0&&(R.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),E.addEntry(H)))}))})),B.next((()=>m.mutationQueue.removeMutationBatch(y,R)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=De();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function kv(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function wS(r,e){const t=Ie(r),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const m=[];e.targetChanges.forEach(((E,R)=>{const x=o.get(R);if(!x)return;m.push(t.li.removeMatchingKeys(u,E.removedDocuments,R).next((()=>t.li.addMatchingKeys(u,E.addedDocuments,R))));let B=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?B=B.withResumeToken(xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),o=o.insert(R,B),(function(H,q,ce){return H.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=gS?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(x,B,E)&&m.push(t.li.updateTargetData(u,B))}));let y=Pr(),v=De();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(ES(u,h,e.documentUpdates).next((E=>{y=E.Bs,v=E.Ls}))),!s.isEqual(Ee.min())){const E=t.li.getLastRemoteSnapshotVersion(u).next((R=>t.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,y,v))).next((()=>y))})).then((u=>(t.vs=o,u)))}function ES(r,e,t){let s=De(),o=De();return t.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Pr();return t.forEach(((m,y)=>{const v=u.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ee.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):ie(df,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{Bs:h,Ls:o}}))}function TS(r,e){const t=Ie(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Xd),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function IS(r,e){const t=Ie(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((u=>u?(o=u,W.resolve(o)):t.li.allocateTargetId(s).next((h=>(o=new di(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Od(r,e,t){const s=Ie(r),o=s.vs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Co(h))throw h;ie(df,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function iy(r,e,t){const s=Ie(r);let o=Ee.min(),u=De();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,E){const R=Ie(y),x=R.Fs.get(E);return x!==void 0?W.resolve(R.vs.get(x)):R.li.getTargetData(v,E)})(s,h,er(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((y=>{u=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Ee.min(),t?u:De()))).next((m=>(SS(s,l2(e),m),{documents:m,ks:u})))))}function SS(r,e,t){let s=r.Ms.get(e)||Ee.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class sy{constructor(){this.activeTargetIds=p2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kS{constructor(){this.vo=new sy,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new sy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RS{Mo(e){}shutdown(){}}const oy="ConnectivityMonitor";class ay{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ie(oy,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ie(oy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ru=null;function bd(){return Ru===null?Ru=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ru++,"0x"+Ru.toString(16)}const hd="RestConnection",AS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class CS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Ku?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=bd(),m=this.Qo(e,t.toUriEncodedString());ie(hd,`Sending RPC '${e}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:v}=new URL(m),E=To(v);return this.zo(e,m,y,s,E).then((R=>(ie(hd,`Received RPC '${e}' ${h}: `,R),R)),(R=>{throw go(hd,`RPC '${e}' ${h} failed with error: `,R,"url: ",m,"request:",s),R}))}jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,t){const s=AS[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class PS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Mt="WebChannelConnection",Ra=(r,e,t)=>{r.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class uo extends CS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!uo.c_){const e=C_();Ra(e,A_.STAT_EVENT,(t=>{t.stat===Td.PROXY?ie(Mt,"STAT_EVENT: detected buffering proxy"):t.stat===Td.NOPROXY&&ie(Mt,"STAT_EVENT: detected no buffering proxy")})),uo.c_=!0}}zo(e,t,s,o,u){const h=bd();return new Promise(((m,y)=>{const v=new k_;v.setWithCredentials(!0),v.listenOnce(R_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Nu.NO_ERROR:const R=v.getResponseJson();ie(Mt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),m(R);break;case Nu.TIMEOUT:ie(Mt,`RPC '${e}' ${h} timed out`),y(new se(z.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const x=v.getStatus();if(ie(Mt,`RPC '${e}' ${h} failed with status:`,x,"response text:",v.getResponseText()),x>0){let B=v.getResponseJson();Array.isArray(B)&&(B=B[0]);const X=B?.error;if(X&&X.status&&X.message){const H=(function(ce){const ye=ce.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(ye)>=0?ye:z.UNKNOWN})(X.status);y(new se(H,X.message))}else y(new se(z.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new se(z.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ie(Mt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ie(Mt,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",E,s,15)}))}T_(e,t,s){const o=bd(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=u.join("");ie(Mt,`Creating RPC '${e}' stream ${o}: ${v}`,m);const E=h.createWebChannel(v,m);this.I_(E);let R=!1,x=!1;const B=new PS({Ho:X=>{x?ie(Mt,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(R||(ie(Mt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),R=!0),ie(Mt,`RPC '${e}' stream ${o} sending:`,X),E.send(X))},Jo:()=>E.close()});return Ra(E,Pa.EventType.OPEN,(()=>{x||(ie(Mt,`RPC '${e}' stream ${o} transport opened.`),B.i_())})),Ra(E,Pa.EventType.CLOSE,(()=>{x||(x=!0,ie(Mt,`RPC '${e}' stream ${o} transport closed`),B.o_(),this.E_(E))})),Ra(E,Pa.EventType.ERROR,(X=>{x||(x=!0,go(Mt,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),B.o_(new se(z.UNAVAILABLE,"The operation could not be completed")))})),Ra(E,Pa.EventType.MESSAGE,(X=>{if(!x){const H=X.data[0];Ue(!!H,16349);const q=H,ce=q?.error||q[0]?.error;if(ce){ie(Mt,`RPC '${e}' stream ${o} received error:`,ce);const ye=ce.status;let ve=(function(Re){const C=dt[Re];if(C!==void 0)return hv(C)})(ye),Ce=ce.message;ve===void 0&&(ve=z.INTERNAL,Ce="Unknown error status: "+ye+" with message "+ce.message),x=!0,B.o_(new se(ve,Ce)),E.close()}else ie(Mt,`RPC '${e}' stream ${o} received:`,H),B.__(H)}})),uo.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return P_()}}function xS(r){return new uo(r)}function dd(){return typeof document<"u"?document:null}function Ec(r){return new O2(r,!0)}uo.c_=!1;class Rv{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ly="PersistentStream";class Av{constructor(e,t,s,o,u,h,m,y){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new se(z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(ly,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ie(ly,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DS extends Av{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=M2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?tr(h.readTime):Ee.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Vd(this.serializer),t.addTarget=(function(u,h){let m;const y=h.target;if(m=Ad(y)?{documents:j2(u,y)}:{query:B2(u,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=pv(u,h.resumeToken);const v=xd(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=Xu(u,h.snapshotVersion.toTimestamp());const v=xd(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const s=W2(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Vd(this.serializer),t.removeTarget=e,this.K_(t)}}class NS extends Av{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=U2(e.writeResults,e.commitTime),s=tr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Vd(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>F2(this.serializer,s)))};this.K_(t)}}class VS{}class OS extends VS{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Dd(t,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(z.UNKNOWN,u.toString())}))}jo(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Dd(t,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new se(z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function bS(r,e,t,s){return new OS(r,e,t,s)}class LS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(t),this.aa=!1):ie("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const as="RemoteStore";class MS{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ds(this)&&(ie(as,"Restarting streams for network reachability change."),await(async function(y){const v=Ie(y);v.Ea.add(4),await rl(v),v.Va.set("Unknown"),v.Ea.delete(4),await Tc(v)})(this))}))})),this.Va=new LS(s,o)}}async function Tc(r){if(ds(r))for(const e of r.Ra)await e(!0)}async function rl(r){for(const e of r.Ra)await e(!1)}function Cv(r,e){const t=Ie(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),gf(t)?mf(t):Po(t).O_()&&pf(t,e))}function ff(r,e){const t=Ie(r),s=Po(t);t.Ia.delete(e),s.O_()&&Pv(t,e),t.Ia.size===0&&(s.O_()?s.L_():ds(t)&&t.Va.set("Unknown"))}function pf(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(r).Z_(e)}function Pv(r,e){r.da.$e(e),Po(r).X_(e)}function mf(r){r.da=new x2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Va.ua()}function gf(r){return ds(r)&&!Po(r).x_()&&r.Ia.size>0}function ds(r){return Ie(r).Ea.size===0}function xv(r){r.da=void 0}async function FS(r){r.Va.set("Online")}async function US(r){r.Ia.forEach(((e,t)=>{pf(r,e)}))}async function jS(r,e){xv(r),gf(r)?(r.Va.ha(e),mf(r)):r.Va.set("Unknown")}async function BS(r,e,t){if(r.Va.set("Online"),e instanceof fv&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){ie(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tc(r,s)}else if(e instanceof Lu?r.da.Xe(e):e instanceof dv?r.da.st(e):r.da.tt(e),!t.isEqual(Ee.min()))try{const s=await kv(r.localStore);t.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(v);E&&u.Ia.set(v,E.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,v)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(xt.EMPTY_BYTE_STRING,E.snapshotVersion)),Pv(u,y);const R=new di(E.target,y,v,E.sequenceNumber);pf(u,R)})),u.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(s){ie(as,"Failed to raise snapshot:",s),await tc(r,s)}}async function tc(r,e,t){if(!Co(e))throw e;r.Ea.add(1),await rl(r),r.Va.set("Offline"),t||(t=()=>kv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ie(as,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Tc(r)}))}function Dv(r,e){return e().catch((t=>tc(r,t,e)))}async function Ic(r){const e=Ie(r),t=ki(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xd;for(;zS(e);)try{const o=await TS(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,WS(e,o)}catch(o){await tc(e,o)}Nv(e)&&Vv(e)}function zS(r){return ds(r)&&r.Ta.length<10}function WS(r,e){r.Ta.push(e);const t=ki(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function Nv(r){return ds(r)&&!ki(r).x_()&&r.Ta.length>0}function Vv(r){ki(r).start()}async function HS(r){ki(r).ra()}async function $S(r){const e=ki(r);for(const t of r.Ta)e.ea(t.mutations)}async function qS(r,e,t){const s=r.Ta.shift(),o=of.from(s,e,t);await Dv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ic(r)}async function GS(r,e){e&&ki(r).Y_&&await(async function(s,o){if((function(h){return A2(h)&&h!==z.ABORTED})(o.code)){const u=s.Ta.shift();ki(s).B_(),await Dv(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ic(s)}})(r,e),Nv(r)&&Vv(r)}async function uy(r,e){const t=Ie(r);t.asyncQueue.verifyOperationInProgress(),ie(as,"RemoteStore received new credentials");const s=ds(t);t.Ea.add(3),await rl(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Tc(t)}async function KS(r,e){const t=Ie(r);e?(t.Ea.delete(2),await Tc(t)):e||(t.Ea.add(2),await rl(t),t.Va.set("Unknown"))}function Po(r){return r.ma||(r.ma=(function(t,s,o){const u=Ie(t);return u.sa(),new DS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:FS.bind(null,r),Yo:US.bind(null,r),t_:jS.bind(null,r),J_:BS.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),gf(r)?mf(r):r.Va.set("Unknown")):(await r.ma.stop(),xv(r))}))),r.ma}function ki(r){return r.fa||(r.fa=(function(t,s,o){const u=Ie(t);return u.sa(),new NS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:HS.bind(null,r),t_:GS.bind(null,r),ta:$S.bind(null,r),na:qS.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Ic(r)):(await r.fa.stop(),r.Ta.length>0&&(ie(as,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class yf{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new yf(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _f(r,e){if(Cr("AsyncQueue",`${e}: ${r}`),Co(r))return new se(z.UNAVAILABLE,`${e}: ${r}`);throw r}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||de.comparator(t.key,s.key):(t,s)=>de.comparator(t.key,s.key),this.keyedMap=xa(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class cy{constructor(){this.ga=new tt(de.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Eo{constructor(e,t,s,o,u,h,m,y,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new Eo(e,t,co.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class QS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ZS{constructor(){this.queries=hy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ie(t),u=o.queries;o.queries=hy(),u.forEach(((h,m)=>{for(const y of m.ba)y.onError(s)}))})(this,new se(z.ABORTED,"Firestore shutting down"))}}function hy(){return new cs((r=>J_(r)),gc)}async function YS(r,e){const t=Ie(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new QS,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=_f(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ba.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&vf(t)}async function JS(r,e){const t=Ie(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function XS(r,e){const t=Ie(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&vf(t)}function ek(r,e,t){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(t);s.queries.delete(e)}function vf(r){r.Ca.forEach((e=>{e.next()}))}var Ld,dy;(dy=Ld||(Ld={})).Ma="default",dy.Cache="cache";class tk{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ld.Cache}}class Ov{constructor(e){this.key=e}}class bv{constructor(e){this.key=e}}class nk{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=De(),this.mutatedKeys=De(),this.eu=X_(e),this.tu=new co(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new cy,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,R)=>{const x=o.get(E),B=yc(this.query,R)?R:null,X=!!x&&this.mutatedKeys.has(x.key),H=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let q=!1;x&&B?x.data.isEqual(B.data)?X!==H&&(s.track({type:3,doc:B}),q=!0):this.su(x,B)||(s.track({type:2,doc:B}),q=!0,(y&&this.eu(B,y)>0||v&&this.eu(B,v)<0)&&(m=!0)):!x&&B?(s.track({type:0,doc:B}),q=!0):x&&!B&&(s.track({type:1,doc:x}),q=!0,(y||v)&&(m=!0)),q&&(B?(h=h.add(B),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,R)=>(function(B,X){const H=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:q})}};return H(B)-H(X)})(E.type,R.type)||this.eu(E.doc,R.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,v=y!==this.Xa;return this.Xa=y,h.length!==0||v?{snapshot:new Eo(this.query,e.tu,u,h,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cy,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=De(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new bv(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new Ov(s))})),t}cu(e){this.Za=e.ks,this.Ya=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wf="SyncEngine";class rk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ik{constructor(e){this.key=e,this.hu=!1}}class sk{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new cs((m=>J_(m)),gc),this.Iu=new Map,this.Eu=new Set,this.Ru=new tt(de.comparator),this.Au=new Map,this.Vu=new uf,this.du={},this.mu=new Map,this.fu=wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ok(r,e,t=!0){const s=Bv(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Lv(s,e,t,!0),o}async function ak(r,e){const t=Bv(r);await Lv(t,e,!0,!1)}async function Lv(r,e,t,s){const o=await IS(r.localStore,er(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await lk(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Cv(r.remoteStore,o),m}async function lk(r,e,t,s,o){r.pu=(R,x,B)=>(async function(H,q,ce,ye){let ve=q.view.ru(ce);ve.Ss&&(ve=await iy(H.localStore,q.query,!1).then((({documents:C})=>q.view.ru(C,ve))));const Ce=ye&&ye.targetChanges.get(q.targetId),Ge=ye&&ye.targetMismatches.get(q.targetId)!=null,Re=q.view.applyChanges(ve,H.isPrimaryClient,Ce,Ge);return py(H,q.targetId,Re.au),Re.snapshot})(r,R,x,B);const u=await iy(r.localStore,e,!0),h=new nk(e,u.ks),m=h.ru(u.documents),y=nl.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=h.applyChanges(m,r.isPrimaryClient,y);py(r,t,v.au);const E=new rk(e,t,h);return r.Tu.set(e,E),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),v.snapshot}async function uk(r,e,t){const s=Ie(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!gc(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Od(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ff(s.remoteStore,o.targetId),Md(s,o.targetId)})).catch(Ao)):(Md(s,o.targetId),await Od(s.localStore,o.targetId,!0))}async function ck(r,e){const t=Ie(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ff(t.remoteStore,s.targetId))}async function hk(r,e,t){const s=_k(r);try{const o=await(function(h,m){const y=Ie(h),v=Ye.now(),E=m.reduce(((B,X)=>B.add(X.key)),De());let R,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let X=Pr(),H=De();return y.xs.getEntries(B,E).next((q=>{X=q,X.forEach(((ce,ye)=>{ye.isValidDocument()||(H=H.add(ce))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,X))).next((q=>{R=q;const ce=[];for(const ye of m){const ve=T2(ye,R.get(ye.key).overlayedDocument);ve!=null&&ce.push(new hs(ye.key,ve,W_(ve.value.mapValue),kr.exists(!0)))}return y.mutationQueue.addMutationBatch(B,v,ce,m)})).next((q=>{x=q;const ce=q.applyToLocalDocumentSet(R,H);return y.documentOverlayCache.saveOverlays(B,q.batchId,ce)}))})).then((()=>({batchId:x.batchId,changes:tv(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,y){let v=h.du[h.currentUser.toKey()];v||(v=new tt(xe)),v=v.insert(m,y),h.du[h.currentUser.toKey()]=v})(s,o.batchId,t),await il(s,o.changes),await Ic(s.remoteStore)}catch(o){const u=_f(o,"Failed to persist write");t.reject(u)}}async function Mv(r,e){const t=Ie(r);try{const s=await wS(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ue(h.hu,14607):o.removedDocuments.size>0&&(Ue(h.hu,42227),h.hu=!1))})),await il(t,s,e)}catch(s){await Ao(s)}}function fy(r,e,t){const s=Ie(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const y=Ie(h);y.onlineState=m;let v=!1;y.queries.forEach(((E,R)=>{for(const x of R.ba)x.va(m)&&(v=!0)})),v&&vf(y)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dk(r,e,t){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new tt(de.comparator);h=h.insert(u,Ut.newNoDocument(u,Ee.min()));const m=De().add(u),y=new wc(Ee.min(),new Map,new tt(xe),h,m);await Mv(s,y),s.Ru=s.Ru.remove(u),s.Au.delete(e),Ef(s)}else await Od(s.localStore,e,!1).then((()=>Md(s,e,t))).catch(Ao)}async function fk(r,e){const t=Ie(r),s=e.batch.batchId;try{const o=await vS(t.localStore,e);Uv(t,s,null),Fv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await il(t,o)}catch(o){await Ao(o)}}async function pk(r,e,t){const s=Ie(r);try{const o=await(function(h,m){const y=Ie(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return y.mutationQueue.lookupMutationBatch(v,m).next((R=>(Ue(R!==null,37113),E=R.keys(),y.mutationQueue.removeMutationBatch(v,R)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>y.localDocuments.getDocuments(v,E)))}))})(s.localStore,e);Uv(s,e,t),Fv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await il(s,o)}catch(o){await Ao(o)}}function Fv(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function Uv(r,e,t){const s=Ie(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Md(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||jv(r,s)}))}function jv(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(ff(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),Ef(r))}function py(r,e,t){for(const s of t)s instanceof Ov?(r.Vu.addReference(s.key,e),mk(r,s)):s instanceof bv?(ie(wf,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||jv(r,s.key)):ge(19791,{wu:s})}function mk(r,e){const t=e.key,s=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(s)||(ie(wf,"New document in limbo: "+t),r.Eu.add(s),Ef(r))}function Ef(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new de(qe.fromString(e)),s=r.fu.next();r.Au.set(s,new ik(t)),r.Ru=r.Ru.insert(t,s),Cv(r.remoteStore,new di(er(Z_(t.path)),s,"TargetPurposeLimboResolution",fc.ce))}}async function il(r,e,t){const s=Ie(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{h.push(s.pu(y,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const E=v?!v.fromCache:t?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(v){o.push(v);const E=hf.Es(y.targetId,v);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(y,v){const E=Ie(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>W.forEach(v,(x=>W.forEach(x.Ts,(B=>E.persistence.referenceDelegate.addReference(R,x.targetId,B))).next((()=>W.forEach(x.Is,(B=>E.persistence.referenceDelegate.removeReference(R,x.targetId,B)))))))))}catch(R){if(!Co(R))throw R;ie(df,"Failed to update sequence numbers: "+R)}for(const R of v){const x=R.targetId;if(!R.fromCache){const B=E.vs.get(x),X=B.snapshotVersion,H=B.withLastLimboFreeSnapshotVersion(X);E.vs=E.vs.insert(x,H)}}})(s.localStore,u))}async function gk(r,e){const t=Ie(r);if(!t.currentUser.isEqual(e)){ie(wf,"User change. New user:",e.toKey());const s=await Sv(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new se(z.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await il(t,s.Ns)}}function yk(r,e){const t=Ie(r),s=t.Au.get(e);if(s&&s.hu)return De().add(s.key);{let o=De();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Bv(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dk.bind(null,e),e.Pu.J_=XS.bind(null,e.eventManager),e.Pu.yu=ek.bind(null,e.eventManager),e}function _k(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pk.bind(null,e),e}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _S(this.persistence,new mS,e.initialUser,this.serializer)}Cu(e){return new Iv(cf.Vi,this.serializer)}Du(e){return new kS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class vk extends nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ue(this.persistence.referenceDelegate instanceof ec,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new eS(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new Iv((s=>ec.Vi(s,t)),this.serializer)}}class Fd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gk.bind(null,this.syncEngine),await KS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZS})()}createDatastore(e){const t=Ec(e.databaseInfo.databaseId),s=xS(e.databaseInfo);return bS(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,h,m){return new MS(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>fy(this.syncEngine,t,0)),(function(){return ay.v()?new ay:new RS})())}createSyncEngine(e,t){return(function(o,u,h,m,y,v,E){const R=new sk(o,u,h,m,y,v);return E&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ie(t);ie(as,"RemoteStore shutting down."),s.Ea.add(5),await rl(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fd.provider={build:()=>new Fd};class wk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ri="FirestoreClient";class Ek{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=Ft.UNAUTHENTICATED,this.clientId=Jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ie(Ri,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ie(Ri,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=_f(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function fd(r,e){r.asyncQueue.verifyOperationInProgress(),ie(Ri,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Sv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function my(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Tk(r);ie(Ri,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>uy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>uy(e.remoteStore,o))),r._onlineComponents=e}async function Tk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ie(Ri,"Using user provided OfflineComponentProvider");try{await fd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===z.FAILED_PRECONDITION||o.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;go("Error using user provided cache. Falling back to memory cache: "+t),await fd(r,new nc)}}else ie(Ri,"Using default OfflineComponentProvider"),await fd(r,new vk(void 0));return r._offlineComponents}async function zv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ie(Ri,"Using user provided OnlineComponentProvider"),await my(r,r._uninitializedComponentsProvider._online)):(ie(Ri,"Using default OnlineComponentProvider"),await my(r,new Fd))),r._onlineComponents}function Ik(r){return zv(r).then((e=>e.syncEngine))}async function Sk(r){const e=await zv(r),t=e.eventManager;return t.onListen=ok.bind(null,e.syncEngine),t.onUnlisten=uk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ak.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ck.bind(null,e.syncEngine),t}function kk(r,e,t={}){const s=new vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,v){const E=new wk({next:x=>{E.Nu(),h.enqueueAndForget((()=>JS(u,R))),x.fromCache&&y.source==="server"?v.reject(new se(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),R=new tk(m,E,{includeMetadataChanges:!0,Ka:!0});return YS(u,R)})(await Sk(r),r.asyncQueue,e,t,s))),s.promise}function Rk(r,e){const t=new vi;return r.asyncQueue.enqueueAndForget((async()=>hk(await Ik(r),e,t))),t.promise}function Wv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Ak="ComponentProvider",gy=new Map;function Ck(r,e,t,s,o){return new HI(r,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Wv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const Hv="firestore.googleapis.com",yy=!0;class _y{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hv,this.ssl=yy}else this.host=e.host,this.ssl=e.ssl??yy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J2)throw new se(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _y({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _y(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new II;switch(s.type){case"firstParty":return new AI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=gy.get(t);s&&(ie(Ak,"Removing Datastore"),gy.delete(t),s.terminate())})(this),Promise.resolve()}}function Pk(r,e,t,s={}){r=qu(r,Sc);const o=To(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;o&&(My(`https://${m}`),Fy("Firestore",!0)),u.host!==Hv&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!rs(y,h)&&(r._setSettings(y),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=Ft.MOCK_USER;else{v=bw(s.mockUserToken,r._app?.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new se(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ft(R)}r._authCredentials=new SI(new D_(v,E))}}class xo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class It{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Xa(t,It._jsonSchema))return new It(e,s||null,new de(qe.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:pt("string",It._jsonSchemaVersion),referencePath:pt("string")};class wi extends xo{constructor(e,t,s){super(e,t,Z_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new de(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function $v(r,e,...t){if(r=Wt(r),N_("collection","path",e),r instanceof Sc){const s=qe.fromString(e,...t);return Dg(s),new wi(r,null,s)}{if(!(r instanceof It||r instanceof wi))throw new se(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(qe.fromString(e,...t));return Dg(s),new wi(r.firestore,null,s)}}function xk(r,e,...t){if(r=Wt(r),arguments.length===1&&(e=Jd.newId()),N_("doc","path",e),r instanceof Sc){const s=qe.fromString(e,...t);return xg(s),new It(r,null,new de(s))}{if(!(r instanceof It||r instanceof wi))throw new se(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(qe.fromString(e,...t));return xg(s),new It(r.firestore,r instanceof wi?r.converter:null,new de(s))}}const vy="AsyncQueue";class wy{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rv(this,"async_queue_retry"),this._c=()=>{const s=dd();s&&ie(vy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=dd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;ie(vy,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",Ey(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=yf.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ge(47125,{Pc:Ey(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ey(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Tf extends Sc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new wy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wy(e),this._firestoreClient=void 0,await e}}}function Dk(r,e){const t=typeof r=="object"?r:zy(),s=typeof r=="string"?r:Ku,o=zd(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Vw("firestore");u&&Pk(o,...u)}return o}function qv(r){if(r._terminated)throw new se(z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Nk(r),r._firestoreClient}function Nk(r){const e=r._freezeSettings(),t=Ck(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Ek(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(xt.fromBase64String(e))}catch(t){throw new se(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gn(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xa(e,gn._jsonSchema))return gn.fromBase64String(e.bytes)}}gn._jsonSchemaVersion="firestore/bytes/1.0",gn._jsonSchema={type:pt("string",gn._jsonSchemaVersion),bytes:pt("string")};class Gv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class If{constructor(e){this._methodName=e}}class nr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(Xa(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:pt("string",nr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};class xn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xa(e,xn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new xn(e.vectorValues);throw new se(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xn._jsonSchemaVersion="firestore/vectorValue/1.0",xn._jsonSchema={type:pt("string",xn._jsonSchemaVersion),vectorValues:pt("object")};const Vk=/^__.*__$/;class Ok{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new tl(e,this.data,t,this.fieldTransforms)}}function Kv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:r})}}class Sf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Sf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return rc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Kv(this.dataSource)&&Vk.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class bk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ec(e)}createContext(e,t,s,o=!1){return new Sf({dataSource:e,methodName:t,targetDoc:s,path:Pt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qv(r){const e=r._freezeSettings(),t=Ec(r._databaseId);return new bk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Lk(r,e,t,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,t,o);Jv("Data must be an object, but it was:",h,s);const m=Zv(s,h);let y,v;if(u.merge)y=new Pn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const R of u.mergeFields){const x=kc(e,R,t);if(!h.contains(x))throw new se(z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);jk(E,x)||E.push(x)}y=new Pn(E),v=h.fieldTransforms.filter((R=>y.covers(R.field)))}else y=null,v=h.fieldTransforms;return new Ok(new mn(m),y,v)}class kf extends If{_toFieldTransform(e){return new _2(e.path,new $a)}isEqual(e){return e instanceof kf}}function Mk(r,e,t,s=!1){return Rf(t,r.createContext(s?4:3,e))}function Rf(r,e){if(Yv(r=Wt(r)))return Jv("Unsupported field value:",e,r),Zv(r,e);if(r instanceof If)return(function(s,o){if(!Kv(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let y=Rf(m,o.childContextForArray(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return m2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ye.fromDate(s);return{timestampValue:Xu(o.serializer,u)}}if(s instanceof Ye){const u=new Ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xu(o.serializer,u)}}if(s instanceof nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gn)return{bytesValue:pv(o.serializer,s._byteString)};if(s instanceof It){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xn)return(function(h,m){const y=h instanceof xn?h.toArray():h;return{mapValue:{fields:{[B_]:{stringValue:z_},[Qu]:{arrayValue:{values:y.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return sf(m.serializer,E)}))}}}}}})(s,o);if(Ev(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${dc(s)}`)})(r,e)}function Zv(r,e){const t={};return b_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(r,((s,o)=>{const u=Rf(o,e.childContextForField(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function Yv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ye||r instanceof nr||r instanceof gn||r instanceof It||r instanceof If||r instanceof xn||Ev(r))}function Jv(r,e,t){if(!Yv(t)||!V_(t)){const s=dc(t);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function kc(r,e,t){if((e=Wt(e))instanceof Gv)return e._internalPath;if(typeof e=="string")return Uk(r,e);throw rc("Field path arguments must be of type string or ",r,!1,void 0,t)}const Fk=new RegExp("[~\\*/\\[\\]]");function Uk(r,e,t){if(e.search(Fk)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Gv(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function rc(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${s}`),h&&(y+=` in document ${o}`),y+=")"),new se(z.INVALID_ARGUMENT,m+r+y)}function jk(r,e){return r.some((t=>t.isEqual(e)))}class Bk{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return us(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[Qu].arrayValue?.values?.map((s=>at(s.doubleValue)));return new xn(t)}convertGeoPoint(e){return new nr(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=mc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(za(e));default:return null}}convertTimestamp(e){const t=Ti(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=qe.fromString(e);Ue(wv(s),9688,{name:e});const o=new Wa(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(t)||Cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class zk extends Bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function Wk(){return new kf("serverTimestamp")}const Ty="@firebase/firestore",Iy="4.10.0";class Xv{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(kc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Hk extends Xv{data(){return super.data()}}function $k(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Af{}class qk extends Af{}function Gk(r,e,...t){let s=[];e instanceof Af&&s.push(e),s=s.concat(t),(function(u){const h=u.filter((y=>y instanceof Cf)).length,m=u.filter((y=>y instanceof Rc)).length;if(h>1||h>0&&m>0)throw new se(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Rc extends qk{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Rc(e,t,s)}_apply(e){const t=this._parse(e);return e0(e._query,t),new xo(e.firestore,e.converter,Cd(e._query,t))}_parse(e){const t=Qv(e.firestore);return(function(u,h,m,y,v,E,R){let x;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new se(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ky(R,E);const X=[];for(const H of R)X.push(Sy(y,u,H));x={arrayValue:{values:X}}}else x=Sy(y,u,R)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ky(R,E),x=Mk(m,h,R,E==="in"||E==="not-in");return ft.create(v,E,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Kk(r,e,t){const s=e,o=kc("where",r);return Rc._create(o,s,t)}class Cf extends Af{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cf(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Nn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const y of m)e0(h,y),h=Cd(h,y)})(e._query,t),new xo(e.firestore,e.converter,Cd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Sy(r,e,t){if(typeof(t=Wt(t))=="string"){if(t==="")throw new se(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y_(e)&&t.indexOf("/")!==-1)throw new se(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(qe.fromString(t));if(!de.isDocumentKey(s))throw new se(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ug(r,new de(s))}if(t instanceof It)return Ug(r,t._key);throw new se(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dc(t)}.`)}function ky(r,e){if(!Array.isArray(r)||r.length===0)throw new se(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e0(r,e){const t=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new se(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Qk(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ho extends Xv{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(kc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ho._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",ho._jsonSchema={type:pt("string",ho._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class Mu extends ho{data(e={}){return super.data(e)}}class fo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Mu(this._firestore,this._userDataWriter,s.key,s,new Au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const y=new Mu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Mu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:Zk(m.type),doc:y,oldIndex:v,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:pt("string",fo._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};function Yk(r){r=qu(r,xo);const e=qu(r.firestore,Tf),t=qv(e),s=new zk(e);return $k(r._query),kk(t,r._query).then((o=>new fo(e,s,r,o)))}function Jk(r,e){const t=qu(r.firestore,Tf),s=xk(r),o=Qk(r.converter,e),u=Qv(r.firestore);return Xk(t,[Lk(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,kr.exists(!1))]).then((()=>s))}function Xk(r,e){const t=qv(r);return Rk(t,e)}(function(e,t=!0){TI(Io),po(new is("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Tf(new kI(s.getProvider("auth-internal")),new CI(h,s.getProvider("app-check-internal")),$I(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),gi(Ty,Iy,e),gi(Ty,Iy,"esm2020")})();var eR="firebase",tR="12.8.0";gi(eR,tR,"app");const nR={apiKey:"AIzaSyCVlpwKJTE0RGMF4U3F1wuRCgNn-q9KWgw",authDomain:"coach-max-a6dee.firebaseapp.com",projectId:"coach-max-a6dee",storageBucket:"coach-max-a6dee.firebasestorage.app",messagingSenderId:"490974771173",appId:"1:490974771173:web:465ff918c0c1772652610c"},t0=By(nR),ic=wI(t0),n0=Dk(t0);async function rR(r,e){const t=await sT(ic,r,e);return console.log("UID:",t.user.uid),t.user}async function Ry(r){const e=ic.currentUser;if(!e)throw new Error("Not logged in");try{await Jk($v(n0,"workout_logs"),{userId:e.uid,date:r.date,workout:r.workout,distance:r.distance??null,pace:r.pace??null,hf:r.hf??null,warmup:r.warmup??null,intervals:r.intervals??null,cooldown:r.cooldown??null,createdAt:Wk()})}catch(t){throw console.error("[DEBUG] Fehler beim Speichern des Workouts:",t),t}}const iR=({onLogin:r,error:e})=>{const[t,s]=We.useState(""),[o,u]=We.useState("");async function h(m){m.preventDefault(),await r(t,o)}return O.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(120deg, #f5f7fa 0%, #c3cfe2 100%)"},children:[O.jsxs("div",{style:{background:"white",padding:40,borderRadius:16,boxShadow:"0 8px 32px rgba(44,62,80,0.12)",minWidth:340,display:"flex",flexDirection:"column",alignItems:"center"},children:[O.jsx("h2",{style:{marginBottom:24,fontWeight:700,color:"#2c3e50"},children:"Login"}),O.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:18,width:"100%"},children:[O.jsx("input",{type:"email",placeholder:"E-Mail",value:t,onChange:m=>s(m.target.value),required:!0,style:{padding:"12px 16px",borderRadius:8,border:"1px solid #c3cfe2",fontSize:16,outline:"none",background:"#f5f7fa"}}),O.jsx("input",{type:"password",placeholder:"Passwort",value:o,onChange:m=>u(m.target.value),required:!0,style:{padding:"12px 16px",borderRadius:8,border:"1px solid #c3cfe2",fontSize:16,outline:"none",background:"#f5f7fa"}}),O.jsx("button",{type:"submit",style:{padding:"12px 0",borderRadius:8,border:"none",background:"#2c3e50",color:"white",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px rgba(44,62,80,0.08)"},children:"Login"})]}),e&&O.jsx("div",{style:{color:"#e74c3c",marginTop:16},children:e})]}),O.jsx("div",{style:{marginTop:32,color:"#7f8c8d",fontSize:14},children:O.jsx("span",{children:"Halbmarathon Trainingsplan Coach OS"})})]})},sR=({onLog:r,todayWorkout:e,logError:t})=>{const[s,o]=We.useState(""),[u,h]=We.useState(""),[m,y]=We.useState(""),[v,E]=We.useState(!1);async function R(x){x.preventDefault(),E(!1),await r({distance:s,pace:u,hf:m}),E(!0),o(""),h(""),y("")}return O.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:[O.jsxs("div",{style:{background:"white",padding:24,borderRadius:16,boxShadow:"0 8px 32px rgba(44,62,80,0.12)",minWidth:0,width:"100%",maxWidth:370,display:"flex",flexDirection:"column",alignItems:"center",boxSizing:"border-box"},children:[O.jsx("h2",{style:{marginBottom:24,fontWeight:700,color:"#2c3e50",fontSize:28,textAlign:"center"},children:"Workout fr heute"}),O.jsx("div",{style:{marginBottom:24,color:"#34495e",fontSize:18,fontWeight:500,textAlign:"center",wordBreak:"break-word"},children:e}),O.jsxs("form",{onSubmit:R,style:{display:"flex",flexDirection:"column",gap:18,width:"100%"},children:[O.jsx("input",{type:"text",placeholder:"Distanz in km",value:s,onChange:x=>o(x.target.value),required:!0,style:{padding:"12px 16px",borderRadius:8,border:"1px solid #c3cfe2",fontSize:16,outline:"none",background:"#f5f7fa"}}),O.jsx("input",{type:"text",placeholder:"Pace in min/km",value:u,onChange:x=>h(x.target.value),required:!0,style:{padding:"12px 16px",borderRadius:8,border:"1px solid #c3cfe2",fontSize:16,outline:"none",background:"#f5f7fa"}}),O.jsx("input",{type:"text",placeholder:"Durchschnittliche HF",value:m,onChange:x=>y(x.target.value),required:!0,style:{padding:"12px 16px",borderRadius:8,border:"1px solid #c3cfe2",fontSize:16,outline:"none",background:"#f5f7fa"}}),O.jsx("button",{type:"submit",style:{padding:"12px 0",borderRadius:8,border:"none",background:"#27ae60",color:"white",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px rgba(44,62,80,0.08)"},children:"Workout loggen"})]}),v&&O.jsx("div",{style:{color:"#27ae60",marginTop:16},children:"Erfolgreich gespeichert!"}),t&&O.jsx("div",{style:{color:"#e74c3c",marginTop:16},children:t})]}),O.jsx("div",{style:{marginTop:32,color:"#7f8c8d",fontSize:14},children:O.jsx("span",{children:"Halbmarathon Trainingsplan Coach OS"})})]})},oR=({onLog:r,todayWorkout:e,logError:t})=>{const[s,o]=We.useState({distance:"",pace:"",hf:""}),[u,h]=We.useState({distance:"",pace:"",hf:""}),[m,y]=We.useState([{distance:"",pace:"",hf:""}]),[v,E]=We.useState(!1);function R(H,q,ce){y(ye=>ye.map((ve,Ce)=>Ce===H?{...ve,[q]:ce}:ve))}function x(){y(H=>[...H,{distance:"",pace:"",hf:""}])}function B(H){y(q=>q.filter((ce,ye)=>ye!==H))}async function X(H){H.preventDefault(),E(!1),await r({warmup:s,intervals:m,cooldown:u}),E(!0),o({distance:"",pace:"",hf:""}),h({distance:"",pace:"",hf:""}),y([{distance:"",pace:"",hf:""}])}return O.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:[O.jsxs("div",{style:{background:"white",padding:24,borderRadius:16,boxShadow:"0 8px 32px rgba(44,62,80,0.12)",minWidth:0,width:"100%",maxWidth:370,display:"flex",flexDirection:"column",alignItems:"center",boxSizing:"border-box"},children:[O.jsx("h2",{style:{marginBottom:24,fontWeight:700,color:"#2c3e50",fontSize:28,textAlign:"center"},children:"Workout fr heute"}),O.jsx("div",{style:{marginBottom:24,color:"#34495e",fontSize:18,fontWeight:500,textAlign:"center",wordBreak:"break-word"},children:e}),O.jsxs("form",{onSubmit:X,style:{display:"flex",flexDirection:"column",gap:18,width:"100%"},children:[O.jsxs("fieldset",{style:{border:"none",marginBottom:12},children:[O.jsx("legend",{style:{fontWeight:600,color:"#2980b9",marginBottom:8},children:"Warm Up"}),O.jsx("input",{type:"text",placeholder:"Distanz in km",value:s.distance,onChange:H=>o({...s,distance:H.target.value}),required:!0,style:{...Tr}}),O.jsx("input",{type:"text",placeholder:"Pace in min/km",value:s.pace,onChange:H=>o({...s,pace:H.target.value}),required:!0,style:{...Tr}}),O.jsx("input",{type:"text",placeholder:"Durchschnittliche HF",value:s.hf,onChange:H=>o({...s,hf:H.target.value}),required:!0,style:{...Tr}})]}),O.jsxs("fieldset",{style:{border:"none",marginBottom:12},children:[O.jsx("legend",{style:{fontWeight:600,color:"#2980b9",marginBottom:8},children:"Intervalle"}),m.map((H,q)=>O.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6,marginBottom:10,border:"1px solid #c3cfe2",borderRadius:8,padding:8,background:"#f5f7fa"},children:[O.jsxs("div",{style:{fontWeight:500,color:"#34495e",marginBottom:4},children:["Intervall ",q+1]}),O.jsx("input",{type:"text",placeholder:"Distanz in km",value:H.distance,onChange:ce=>R(q,"distance",ce.target.value),required:!0,style:{...Tr}}),O.jsx("input",{type:"text",placeholder:"Pace in min/km",value:H.pace,onChange:ce=>R(q,"pace",ce.target.value),required:!0,style:{...Tr}}),O.jsx("input",{type:"text",placeholder:"Durchschnittliche HF",value:H.hf,onChange:ce=>R(q,"hf",ce.target.value),required:!0,style:{...Tr}}),m.length>1&&O.jsx("button",{type:"button",onClick:()=>B(q),style:{background:"#e74c3c",color:"white",border:"none",borderRadius:6,padding:"4px 8px",marginTop:4,cursor:"pointer",fontSize:12},children:"Entfernen"})]},q)),O.jsx("button",{type:"button",onClick:x,style:{background:"#27ae60",color:"white",border:"none",borderRadius:8,padding:"8px 0",fontWeight:600,fontSize:15,cursor:"pointer",marginTop:6},children:"Intervall hinzufgen"})]}),O.jsxs("fieldset",{style:{border:"none",marginBottom:12},children:[O.jsx("legend",{style:{fontWeight:600,color:"#2980b9",marginBottom:8},children:"Cool Down"}),O.jsx("input",{type:"text",placeholder:"Distanz in km",value:u.distance,onChange:H=>h({...u,distance:H.target.value}),required:!0,style:{...Tr}}),O.jsx("input",{type:"text",placeholder:"Pace in min/km",value:u.pace,onChange:H=>h({...u,pace:H.target.value}),required:!0,style:{...Tr}}),O.jsx("input",{type:"text",placeholder:"Durchschnittliche HF",value:u.hf,onChange:H=>h({...u,hf:H.target.value}),required:!0,style:{...Tr}})]}),O.jsx("button",{type:"submit",style:{padding:"12px 0",borderRadius:8,border:"none",background:"#27ae60",color:"white",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px rgba(44,62,80,0.08)"},children:"Workout loggen"})]}),v&&O.jsx("div",{style:{color:"#27ae60",marginTop:16},children:"Erfolgreich gespeichert!"}),t&&O.jsx("div",{style:{color:"#e74c3c",marginTop:16},children:t})]}),O.jsx("div",{style:{marginTop:32,color:"#7f8c8d",fontSize:14},children:O.jsx("span",{children:"Halbmarathon Trainingsplan Coach OS"})})]})},Tr={padding:"10px 14px",borderRadius:8,border:"1px solid #c3cfe2",fontSize:15,outline:"none",background:"#f5f7fa",marginBottom:4},aR=({value:r,onChange:e})=>O.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center",margin:"24px 0"},children:[O.jsx("button",{onClick:()=>e("z1z2"),style:{padding:"8px 18px",borderRadius:8,border:r==="z1z2"?"2px solid #2980b9":"1px solid #c3cfe2",background:r==="z1z2"?"#2980b9":"#f5f7fa",color:r==="z1z2"?"white":"#2c3e50",fontWeight:700,fontSize:15,cursor:"pointer"},children:"Z1 & Z2 Workouts"}),O.jsx("button",{onClick:()=>e("longrun"),style:{padding:"8px 18px",borderRadius:8,border:r==="longrun"?"2px solid #2980b9":"1px solid #c3cfe2",background:r==="longrun"?"#2980b9":"#f5f7fa",color:r==="longrun"?"white":"#2c3e50",fontWeight:700,fontSize:15,cursor:"pointer"},children:"Long Runs"}),O.jsx("button",{onClick:()=>e("interval"),style:{padding:"8px 18px",borderRadius:8,border:r==="interval"?"2px solid #2980b9":"1px solid #c3cfe2",background:r==="interval"?"#2980b9":"#f5f7fa",color:r==="interval"?"white":"#2c3e50",fontWeight:700,fontSize:15,cursor:"pointer"},children:"Intervalle"})]}),Ay=({entries:r,title:e})=>{function t(s){const o=(s||"").split(`
`)[0].toLowerCase();return o.includes("gym")?"#f3eaff":o.includes("recovery")||o.includes("rest")?"#f3f3f3":o.includes("easy")||o.includes("base")?"#e6f7e6":o.includes("threshold")||o.includes("10k")?"#fff4e0":o.includes("vo2max")?"#ffeaea":o.includes("long run")?"#e6f0fa":"#fff"}return O.jsxs("div",{style:{width:"100%",overflowX:"auto",marginTop:32},children:[O.jsx("h3",{style:{textAlign:"center",fontWeight:700,color:"#2c3e50",marginBottom:12},children:e}),O.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:320,background:"white",borderRadius:12,boxShadow:"0 2px 12px rgba(44,62,80,0.08)",fontSize:13},children:[O.jsx("thead",{children:O.jsxs("tr",{style:{background:"#f5f7fa"},children:[O.jsx("th",{style:{padding:"8px 4px",fontWeight:700,color:"#2c3e50",borderBottom:"1px solid #c3cfe2",minWidth:70},children:"Datum"}),O.jsx("th",{style:{padding:"8px 4px",fontWeight:700,color:"#2c3e50",borderBottom:"1px solid #c3cfe2",minWidth:90},children:"Workout"}),O.jsx("th",{style:{padding:"8px 4px",fontWeight:700,color:"#2c3e50",borderBottom:"1px solid #c3cfe2",minWidth:60},children:"Distanz"}),O.jsx("th",{style:{padding:"8px 4px",fontWeight:700,color:"#2c3e50",borderBottom:"1px solid #c3cfe2",minWidth:60},children:"Pace"}),O.jsx("th",{style:{padding:"8px 4px",fontWeight:700,color:"#2c3e50",borderBottom:"1px solid #c3cfe2",minWidth:60},children:" HF"})]})}),O.jsx("tbody",{children:r.length===0?O.jsx("tr",{children:O.jsx("td",{colSpan:5,style:{textAlign:"center",padding:16,color:"#7f8c8d"},children:"Keine Workouts geloggt."})}):r.map((s,o)=>O.jsxs("tr",{style:{background:t(s.workout)},children:[O.jsx("td",{style:{padding:"7px 4px",borderBottom:"1px solid #f0f0f0"},children:s.date}),O.jsx("td",{style:{padding:"7px 4px",borderBottom:"1px solid #f0f0f0",whiteSpace:"pre-line",wordBreak:"break-word",maxWidth:180},children:s.workout}),O.jsx("td",{style:{padding:"7px 4px",borderBottom:"1px solid #f0f0f0"},children:s.distance}),O.jsx("td",{style:{padding:"7px 4px",borderBottom:"1px solid #f0f0f0"},children:s.pace}),O.jsx("td",{style:{padding:"7px 4px",borderBottom:"1px solid #f0f0f0"},children:s.hf})]},o))})]})]})},lR=({entries:r})=>O.jsxs("div",{style:{width:"100%",overflowX:"auto",marginTop:32},children:[O.jsx("h3",{style:{textAlign:"center",fontWeight:700,color:"#2c3e50",marginBottom:12},children:"Intervalle & Intensiv Workouts"}),r.length===0?O.jsx("div",{style:{textAlign:"center",color:"#7f8c8d",padding:16},children:"Keine Intervalle geloggt."}):r.map((e,t)=>O.jsxs("div",{style:{background:"white",borderRadius:12,boxShadow:"0 2px 12px rgba(44,62,80,0.08)",marginBottom:24,padding:16},children:[O.jsxs("div",{style:{fontWeight:700,color:"#2c3e50",marginBottom:8},children:["Datum: ",e.date]}),O.jsxs("div",{style:{marginBottom:8,color:"#34495e"},children:["Workout: ",O.jsx("span",{style:{whiteSpace:"pre-line",wordBreak:"break-word"},children:e.workout})]}),e.warmup&&O.jsxs("div",{style:{marginBottom:8},children:[O.jsx("div",{style:{fontWeight:600,color:"#2980b9"},children:"Warm Up"}),O.jsxs("div",{children:["Distanz: ",e.warmup.distance," km"]}),O.jsxs("div",{children:["Pace: ",e.warmup.pace," min/km"]}),O.jsxs("div",{children:[" HF: ",e.warmup.hf]})]}),Array.isArray(e.intervals)&&e.intervals.length>0&&O.jsxs("div",{style:{marginBottom:8},children:[O.jsx("div",{style:{fontWeight:600,color:"#2980b9"},children:"Intervalle"}),e.intervals.map((s,o)=>O.jsxs("div",{style:{marginBottom:6,paddingLeft:8},children:[O.jsxs("div",{style:{fontWeight:500},children:["Intervall ",o+1]}),O.jsxs("div",{children:["Distanz: ",s.distance," km"]}),O.jsxs("div",{children:["Pace: ",s.pace," min/km"]}),O.jsxs("div",{children:[" HF: ",s.hf]})]},o))]}),e.cooldown&&O.jsxs("div",{children:[O.jsx("div",{style:{fontWeight:600,color:"#2980b9"},children:"Cool Down"}),O.jsxs("div",{children:["Distanz: ",e.cooldown.distance," km"]}),O.jsxs("div",{children:["Pace: ",e.cooldown.pace," min/km"]}),O.jsxs("div",{children:[" HF: ",e.cooldown.hf]})]})]},t))]});var r0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cy=fi.createContext&&fi.createContext(r0),uR=["attr","size","title"];function cR(r,e){if(r==null)return{};var t=hR(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function hR(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function sc(){return sc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},sc.apply(this,arguments)}function Py(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function oc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Py(Object(t),!0).forEach(function(s){dR(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Py(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function dR(r,e,t){return e=fR(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fR(r){var e=pR(r,"string");return typeof e=="symbol"?e:e+""}function pR(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function i0(r){return r&&r.map((e,t)=>fi.createElement(e.tag,oc({key:t},e.attr),i0(e.child)))}function Pf(r){return e=>fi.createElement(mR,sc({attr:oc({},r.attr)},e),i0(r.child))}function mR(r){var e=t=>{var{attr:s,size:o,title:u}=r,h=cR(r,uR),m=o||t.size||"1em",y;return t.className&&(y=t.className),r.className&&(y=(y?y+" ":"")+r.className),fi.createElement("svg",sc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:y,style:oc(oc({color:r.color||t.color},t.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&fi.createElement("title",null,u),r.children)};return Cy!==void 0?fi.createElement(Cy.Consumer,null,t=>e(t)):e(r0)}function gR(r){return Pf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(r)}function yR(r){return Pf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(r)}function _R(r){return Pf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}const vR=()=>{const[r,e]=We.useState("max"),[t,s]=We.useState(!1),[o,u]=We.useState(""),[h,m]=We.useState(""),[y,v]=We.useState(null),[E,R]=We.useState(void 0),[x,B]=We.useState("plan"),[X,H]=We.useState(void 0),[q,ce]=We.useState([]),[ye,ve]=We.useState(!1),[Ce,Ge]=We.useState("z1z2"),[Re,C]=We.useState(!1);We.useEffect(()=>{const Y=lT(ic,te=>{te?(s(!0),v(te.uid),u(te.email||""),te.email==="max@athlete.de"?e("max"):te.email==="pascal@athlete.de"?e("pascal"):te.email==="hendrik@athlete.de"&&e("hendrik")):(s(!1),v(null),u(""))});return()=>Y()},[]),We.useEffect(()=>{async function Y(){if(!y){console.log("[DEBUG] Kein userId vorhanden, Tabelle wird geleert."),ce([]),ve(!1);return}ve(!0);try{console.log(`[DEBUG] Lade Workouts fr userId: ${y}`);const te=Gk($v(n0,"workout_logs"),Kk("userId","==",y)),ke=await Yk(te);console.log(`[DEBUG] Anzahl geladener Dokumente: ${ke.size}`);const Se=[];ke.forEach(Oe=>{const we=Oe.data();console.log("[DEBUG] Dokumentdaten:",we),Se.push({date:we.date,workout:we.workout,distance:we.distance??"",pace:we.pace??"",hf:we.hf??"",warmup:we.warmup??void 0,intervals:we.intervals??void 0,cooldown:we.cooldown??void 0})}),console.log("[DEBUG] Workouts nach Filter:",Se),Se.sort((Oe,we)=>{const je=Oe.date.split(".").reverse().join("");return we.date.split(".").reverse().join("").localeCompare(je)}),ce(Se)}catch(te){console.error("[DEBUG] Fehler beim Laden der Workouts:",te),ce([])}ve(!1)}x==="workouts"&&y?Y():x==="workouts"&&(ce([]),ve(!1))},[x,y]);async function I(Y,te){if(typeof Y=="object"){Y.preventDefault();return}try{await rR(Y,te),s(!0),R(void 0)}catch{R("Login fehlgeschlagen")}}function k(){uT(ic)}const V=Gm.find(Y=>Y.id===r),P=new Date,b=`${P.getDate()}.${P.getMonth()+1}.${P.getFullYear()}`,S=Km.flatMap(Y=>Y.days).find(Y=>Y.date===b);let Ve="Kein Workout fr heute.";if(S){const Y=S.athleteOverrides?.[r];Ve=Y?.run||Y?.bike||Y?.strength||S.run||S.bike||S.strength||Ve}function lt(Y){return/Threshold|VO2Max/i.test(Y)}async function _t(Y){H(void 0);try{await Ry({date:b,workout:Ve,distance:Y.distance,pace:Y.pace,hf:Y.hf})}catch{H("Fehler beim Speichern des Workouts")}}async function He(Y){H(void 0);try{await Ry({date:b,workout:Ve,warmup:Y.warmup,intervals:Y.intervals,cooldown:Y.cooldown})}catch{H("Fehler beim Speichern des Workouts")}}const ee=q.filter(Y=>/Easy|Recovery/i.test(Y.workout)),he=q.filter(Y=>/Long Run/i.test(Y.workout)),re=q.filter(Y=>/Threshold|VO2Max|Intervall/i.test(Y.workout)),D=q.find(Y=>Y.date===b);function $(Y){const te=(Y||"").split(`
`)[0].toLowerCase();return te.includes("gym")?"#f3eaff":te.includes("recovery")||te.includes("rest")?"#f3f3f3":te.includes("easy")||te.includes("base")?"#e6f7e6":te.includes("threshold")||te.includes("10k")?"#fff4e0":te.includes("vo2max")?"#ffeaea":te.includes("long run")?"#e6f0fa":"#fff"}return t?O.jsxs("div",{style:{fontFamily:"Inter, Arial, sans-serif",background:"#f5f7fa",minHeight:"100vh",padding:0,margin:0,position:"relative"},children:[O.jsx("header",{style:{padding:32,textAlign:"center",position:"relative"},children:O.jsx("h1",{style:{margin:0,fontWeight:800,fontSize:32},children:"Coach Maxi"})}),O.jsx("main",{style:{maxWidth:1200,margin:"0 auto",padding:24,paddingBottom:90},children:Re?O.jsxs("div",{style:{background:"white",padding:24,borderRadius:16,boxShadow:"0 8px 32px rgba(44,62,80,0.12)",maxWidth:370,margin:"0 auto",marginBottom:32,boxSizing:"border-box",textAlign:"center"},children:[O.jsx("h2",{style:{fontWeight:700,color:"#2c3e50",fontSize:24,marginBottom:16},children:"Profil"}),O.jsx("div",{style:{fontSize:18,marginBottom:12},children:"Angemeldet als:"}),O.jsx("div",{style:{fontWeight:600,color:"#2980b9",fontSize:18,marginBottom:24},children:o}),O.jsx("button",{onClick:k,style:{padding:"10px 24px",borderRadius:8,border:"none",background:"#e74c3c",color:"white",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Logout"}),O.jsx("div",{style:{marginTop:24},children:O.jsx("button",{onClick:()=>C(!1),style:{padding:"8px 16px",borderRadius:8,border:"1px solid #c3cfe2",background:"#f5f7fa",color:"#2c3e50",fontWeight:600,fontSize:15,cursor:"pointer"},children:"Zurck"})})]}):x==="plan"?O.jsxs(O.Fragment,{children:[o==="max@coach.de"&&O.jsx(Ew,{athletes:Gm,selected:r,onSelect:e}),Km.map((Y,te)=>O.jsx(Sw,{title:Y.title,defaultOpen:te===0,children:O.jsx(Iw,{week:Y.days,athlete:V})},Y.title))]}):O.jsxs(O.Fragment,{children:[D?O.jsxs("div",{style:{background:$(D.workout),padding:24,borderRadius:16,boxShadow:"0 8px 32px rgba(44,62,80,0.12)",minWidth:0,width:"100%",maxWidth:370,margin:"0 auto",marginBottom:32,boxSizing:"border-box"},children:[O.jsxs("h2",{style:{marginBottom:16,fontWeight:700,color:"#2c3e50",fontSize:24,textAlign:"center"},children:[O.jsx("span",{role:"img","aria-label":"party",children:""}),"Dein heutiges Workout",O.jsx("span",{role:"img","aria-label":"party",children:""})]}),O.jsx("div",{style:{color:"#34495e",fontSize:18,fontWeight:500,textAlign:"center",wordBreak:"break-word",whiteSpace:"pre-line",marginBottom:12},children:D.workout}),D.distance&&O.jsxs("div",{style:{fontWeight:600},children:[O.jsx("span",{children:"Distanz:"})," ",O.jsxs("span",{style:{fontWeight:400},children:[D.distance," km"]})]}),D.pace&&O.jsxs("div",{style:{fontWeight:600},children:[O.jsx("span",{children:"Pace:"})," ",O.jsxs("span",{style:{fontWeight:400},children:[D.pace," min/km"]})]}),D.hf&&O.jsxs("div",{style:{fontWeight:600},children:[O.jsx("span",{children:" HF:"})," ",O.jsx("span",{style:{fontWeight:400},children:D.hf})]}),D.warmup&&O.jsxs("div",{style:{marginTop:12},children:[O.jsx("div",{style:{fontWeight:600,color:"#2980b9"},children:"Warm Up"}),O.jsxs("div",{children:["Distanz: ",D.warmup.distance," km"]}),O.jsxs("div",{children:["Pace: ",D.warmup.pace," min/km"]}),O.jsxs("div",{children:[" HF: ",D.warmup.hf]})]}),Array.isArray(D.intervals)&&D.intervals.length>0&&O.jsxs("div",{style:{marginTop:12},children:[O.jsx("div",{style:{fontWeight:600,color:"#2980b9"},children:"Intervalle"}),D.intervals.map((Y,te)=>O.jsxs("div",{style:{marginBottom:6,paddingLeft:8},children:[O.jsxs("div",{style:{fontWeight:500},children:["Intervall ",te+1]}),O.jsxs("div",{children:["Distanz: ",Y.distance," km"]}),O.jsxs("div",{children:["Pace: ",Y.pace," min/km"]}),O.jsxs("div",{children:[" HF: ",Y.hf]})]},te))]}),D.cooldown&&O.jsxs("div",{style:{marginTop:12},children:[O.jsx("div",{style:{fontWeight:600,color:"#2980b9"},children:"Cool Down"}),O.jsxs("div",{children:["Distanz: ",D.cooldown.distance," km"]}),O.jsxs("div",{children:["Pace: ",D.cooldown.pace," min/km"]}),O.jsxs("div",{children:[" HF: ",D.cooldown.hf]})]})]}):lt(Ve)?O.jsx(oR,{onLog:He,todayWorkout:Ve,logError:X}):O.jsx(sR,{onLog:_t,todayWorkout:Ve,logError:X}),O.jsx(aR,{value:Ce,onChange:Ge}),Ce==="z1z2"&&O.jsx(Ay,{entries:ee,title:"Z1 & Z2 Workouts"}),Ce==="longrun"&&O.jsx(Ay,{entries:he,title:"Long Runs"}),Ce==="interval"&&O.jsx(lR,{entries:re})]})}),O.jsxs("nav",{style:{position:"fixed",left:0,right:0,bottom:0,background:"#fff",borderTop:"1px solid #e0e0e0",display:"flex",justifyContent:"space-around",alignItems:"center",height:64,zIndex:100},children:[O.jsxs("button",{onClick:()=>{C(!1),B("plan")},style:{background:"none",border:"none",display:"flex",flexDirection:"column",alignItems:"center",color:x==="plan"&&!Re?"#2980b9":"#888",fontWeight:600,fontSize:13,flex:1,cursor:"pointer"},children:[O.jsx(gR,{size:24,style:{marginBottom:2}}),"Plan"]}),O.jsxs("button",{onClick:()=>{C(!1),B("workouts")},style:{background:"none",border:"none",display:"flex",flexDirection:"column",alignItems:"center",color:x==="workouts"&&!Re?"#2980b9":"#888",fontWeight:600,fontSize:13,flex:1,cursor:"pointer"},children:[O.jsx(yR,{size:24,style:{marginBottom:2}}),"Workouts"]}),O.jsxs("button",{onClick:()=>C(!0),style:{background:"none",border:"none",display:"flex",flexDirection:"column",alignItems:"center",color:Re?"#2980b9":"#888",fontWeight:600,fontSize:13,flex:1,cursor:"pointer"},children:[O.jsx(_R,{size:24,style:{marginBottom:2}}),"Profil"]})]})]}):O.jsx(iR,{onLogin:I,error:E})};ww.createRoot(document.getElementById("root")).render(O.jsx(fi.StrictMode,{children:O.jsx(vR,{})}));
